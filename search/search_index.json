{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Data for Spatial Units","text":"d4SU    An enabling platform for the Digital Transformation of Building Permits and other administrative  processes.  Keywords: Building Information Modeling (BIM) / Industry Foundation Classes (IFC) / Information Delivery Specification (IDS), Land Administration Domain Model (LADM), Digital Building Logbook (DBL), Digital Building Permit (DBP), Energy Performance of Buildings (EPB), Life Cycle Assessment (LCA),...  <p>Documentation: https://lvanlier.github.io</p> <p>Source code: https://github.com/lvanlier/d4su-server</p> <p></p> <p></p> <p>A Spatial Unit refers to the Land Administration Domain Model concept of a Unit (Terrain, Building, Commerce, Plant, Residential Apartment, Infrastructure unit, ...) to which Rights, Restrictions and Responsibilities apply.</p> <p>Digital Transformation of administrative processess calls for new ways of managing data for Spatial Units, starting with the data that originate from Architecture, Engineering and Construction (AEC) Industry which uses the Industry Foundation Classes (IFC) as the Dtaa Exchange Format.  </p> <p>The d4SU platform provides a technical home for processing the IFC files to extract information that is relevant to administrative processes in the domains of Digital Building Permit (DBP), Energy Performance of Buildings (EPB), Life Cycle Assessment (LCA), Digital Building Logbook (DBL), ...</p> <p>The platform lets import IFC files, validate them against requirements defined in IDS and process their data (objects, relationships, properties and geometries). It leverages OpenBIM tools such as IfcOpenShell and provides APIs for business applications to easily consume this technical data. The data is made available in a PostgreSQL database and in JSON, IFC and CSV files depending on the needs.</p> <p>Hereunder, as an illustration, two Building Units are extracted from the reference IFC file Duplex_A_20110907_optimized.ifc.</p> <p></p> <p>Each duplex apartment file embarks all its elements and properties, materials and geometry representations. They are also readily available in the PostgreSQL database.</p> <p>As another illustration, hereunder the extraction of the envelope of a building (= all elements with the property isExternal = True). Again, all properties, materials and  geometry representations are embarked in the envelope file and are available in the PostgreSQL database.</p> <p></p>"},{"location":"about/","title":"About d4SU","text":"<p>Climate change and energy challenges require drastic improvements in all aspects relating to the life cycle of Buildings and Infrastructures. To cope with the challenges, and meet the climate objectives for 2050, numerous initiatives have promoted the evaluation of buildings and infrastructures along indicators such as the Life Cycle Assessment (LCA), the Energy Performance Certificate of Buildings (EPC), the Reuse Potential Indicator (RPI) and the consistent aggregation of data in the Building LogBook or Passport, ... with a proliferation of distinct techniques and tools that each collect data which is already available in the AEC data and can be provided in the standard exchange format of the industry, namely Industry Foundation Classes (IFC).</p> <p>As I worked on some of these subjects (Building LogBook, Urban Permit, EPC, ...), the gap between the AEC industry and administrative processes was striking. Despite the existence of an extensive litterature on the use of IFC for the support of the administrative processes, adoption of IFC as a priviledge source of technical data for Buildings and Infrastructure remained scarce. One of the possible cause could that IFC is available as a file that must be processed by specific programs and is not directly legible (this will change with IFC5).</p> <p>There has been several attempts to store the IFC in a database while preserving the complex structure of the data. This is all fine but does not bridge the gap between the AEC and the administrative monitoring processes. There could therefore be a place for a platform that can process IFC and make the information available in a standard database (PostgreSQL) using a simple physical data model that can be accessed with SQL. This would potentially create a basis for a Single Source of Truth for technical data for Buildings and Infrastructures, with a seamless integration with other aspects as well.</p> <p>This is precisely what d4SU is aiming at. IFC2X3 and IFC4 files are processed, transformed in the ifcJSON format and stored in a relatively simple physical model. From there an IFC4 file can always be generated where needed to support rich 3D Visualization.</p> <p>The platform is based on scalable tools that could support a production deployment, but the application remains currently at an exploratory level.</p> <p>Although there remains significant work to be done, there are already positive results:</p> <ul> <li>the platform can leverage available python libraries such as IfcOpenShell, that underpins numerous capabilities, starting with the transformation of IFC into ifcJSON</li> <li>the ifcJSON format is very close to IFC and easy to use with PostgreSQL JSON handling</li> <li>while SQL can be taxed as 'verbose', it is nevertherless very efficient, combining simplicity and performance</li> </ul> <p>It must be emphasized that there are no technical blocking factors to bridge the gap between the AEC data and the administrative processes, but there is a clear need (MUST HAVE) that the authorities responsible for the concerned administrative processes explicit their requirements in a digital manner, using the Information Delivery Specification (IDS). There are already 'business / user' friendly tools  that let express requirements while shielding the users from the idiosyncrasies of IFC and IDS and delivering an IDS conform output that can be used by standard AEC tools.</p> <p>Note on IFC5:</p> <p>D4SU started in 2024, when IFC5 was taking shape, but was not yet a standard with appropriate implementations and tooling.</p> <p>So, there will remain the challenge of integrating IFC5, from now on and as it reaches maturity. As could expected, the first impression from what is available now is that IFC5 will make things simpler.</p>"},{"location":"contact/","title":"Contact","text":"<p>d4SU is developed by Luc Van Lier at A-X-O Solutions</p> <p>email: luc.vanlier@a-x-o.solutions</p> <p>linkedIn: Luc Van Lier</p>"},{"location":"architecture/d4su-server/","title":"d4SU Server","text":""},{"location":"architecture/d4su-server/#overview","title":"Overview","text":"<p>The d4SU Server platform is focused on the management of the Building and Infrastructure Data in the context of Spatial Units subjected to Public Sector regulations. Currently the focus is on the Building data and services relevant to Infrastructure data are not available at this moment.</p> <p>By 'focused on data', it is also meant 'not providing' other functionalities such as the integration in a broader landscape. This is the responsibility of an Integration Platform that is not is scope of the d4SU Server Platform.</p> <p></p> <p>The d4SU Platform has 4 main technology components</p> <ul> <li>FastAPI A modern, fast (high-performance), web framework for building APIs with Python.</li> <li>Celery A Distributed Task Queue in Python</li> <li>Redis An In-Memory Database used for Celery as Message Queue and Result Store</li> <li>PostgreSQL A powerful, open source object-relational database with support for a large variety of column types (including json, jsonb, geometry) and Partitioning options for very large DB size. It has support for Geomtry with PostGIS and support for Graph with Apache AGE.</li> </ul> <p>The d4SU Platform also leverage:</p> <ul> <li>SQLModel SQLModel is based on Python type annotations, and powered by Pydantic and SQLAlchemy</li> <li>PyArrow Apache Arrow - Filesystem Interface  provides input and output streams as well as directory operations for the Local File System, Amazon S3, Google Cloud Storage (GCS), HDFS and others.</li> <li>Other Apache Arrow tools (e.g., ADBC Driver for PostgreSQL, or support for Machine Learning Workflows) might be super relevant but that's not yet investigated.</li> <li>IfcOpenShell A suite of IFC tools in C++ and Python the base layer of the d4SU Server and the rational for it to be in Python</li> <li>IfcSON Python Tool (on top of ifcOpenShell) to convert an IFC to a JSON (IFC2JSON) and a JSON to an IFC (JSON2IFC). IfcJSON has been built in the context of a larger project presented in IFC.JSON</li> <li>IFC5-development tools buildingSmart developement tools</li> </ul>"},{"location":"architecture/d4su-server/#c4-diagram","title":"C4 diagram","text":"<p>The diagram hereunder is built with Mermaid.js integrated with Material for MkDocs. At the present time, it is not quite legible in dark mode and a swicth to standard mode (top menu bar) is recommended</p> <pre><code>\nC4Container\n    System_Ext(Integration, \"Integration server\", \"A system that sends processing Request to the &lt;br /&gt;Backend server and gets responses on behalf of a client system\")\n\n    System_Boundary(b1, \"Backend Server\") {\n        System_Boundary(b2, \"Server\") {\n            System(FastAPI, \"FastAPI\", \"Processes requests&lt;br /&gt; Delegates heavy tasks to Celery\")\n\n            Component(Tools, \"Tools\", \"IfcOpenShell&lt;br /&gt;IfcJSON\")\n\n            Component(Logging, \"Logging\",\"\")\n\n            System(Celery, \"Celery Worker\", \"Processes heavy tasks\")\n        } \n        System_Boundary(b3, \"Broker\") {\n            SystemQueue(Broker, \"Broker and &lt;br /&gt;Result Store (Redis)\", \"Act as a Message Broker and  &lt;br /&gt;a Result Store between FastAPI and Celery\")\n        }    \n        System_Boundary(b4, \"Database\", \"Database\") {\n            SystemDb(Database, \"Postgres Database\", \"Stores the D4SU data\") \n        }\n        System_Boundary(b5, \"File Storage\", \"\") {\n            SystemDb(FileStorage, \"File Storage (Apache Arrow FS)\", \"Provides file storage services for IFC and IfcJSON files\")   \n        }\n\n    }\n    BiRel(Integration, FastAPI , \"Request / Response or Notification\")\n    BiRel(FastAPI, Broker, \"Queue Task (Chain), Read Result\")\n    Rel(Celery, Broker, \"Fetch from Queue and Write Result\")\n    Rel(FastAPI, Tools, \"uses\")\n    Rel(Celery, Tools, \"uses\")\n    Rel(FastAPI, Database, \"CRUD Data\")\n    Rel(Celery, Database, \"CRUD Data\") \n    Rel(Celery, FileStorage, \"Read/Write\")\n\n    UpdateElementStyle(Integration, $fontColor=\"white\", $bgColor=\"black\", $borderColor=\"white\")\n\n    UpdateRelStyle(FastAPI, Integration, $offsetX=\"20\", $offsetY=\"20\")\n    UpdateRelStyle(FastAPI, Celery, $textColor=\"blue\", $lineColor=\"blue\", $offsetX=\"5\")\n\n    UpdateLayoutConfig($c4ShapeInRow=\"3\", $c4BoundaryInRow=\"2\")\n</code></pre>"},{"location":"architecture/d4su-server/#rationale-for-tools","title":"Rationale for tools","text":"<p>The d4SU platform is at the early stage of exploration, concept validation and specification. Speed and ease of implementation is key.</p> <ul> <li>Why Python? Python is very easy to comprehend and has a huge ecosystem. Additionally, IfcOpenShell has a python version and it makes IFC much more accessible. With Jupyter, everthing can be tried before moving the code to a server plaform. And pandas are always welcome to make things simpler.</li> <li>Why FastAPI? Incredibly simple and efficient.</li> <li>Why Celery? Can't do without something to manage heavy tasks and avoid blocking the requester. Celery is a perfect fit, powerful and easy to use.</li> <li>Why Redis? Again, powerful, and easy to use. With Celery, there are multiple options for the Broker and Result Store. Redis caters for the two.</li> <li>Why PostgreSQL? It's mainly why another db? It has all that is needed. It has also Support for Geometry and Graph, via extensions. For extremely large DB, an offloading to HBase with Phoenix could be considered, but that is not needed at this stage.</li> <li>Why SQLModel (on top of SQLAlchemy) to access PostgreSQL? Again ease of use.</li> </ul> <p>When working with IFC, there is always a need for a Viewer. </p> <p>For IFC &lt; 5, I am using:</p> <ul> <li>OpenIFCViewer</li> <li>ThatOpen (Web)</li> <li>BIMCollab ZOOM</li> <li>Solibri Anywhere</li> <li>Blender with Bonsai; see also the video on Youtube</li> </ul> <p>For IFC 5, I am using:</p> <ul> <li>ACCA usBIM.ifc5; enables to convert IFC&lt;5 files to IFC5 (.ifcx) and to vizualize the model.</li> <li>buildingSmart IFC5-development; provides ifc5 schemas, ifc5 visualization tool and more</li> </ul> <p>Why several viewers?: with the difference in versions of the IFC files (2x3, 4.0, ...) and and possible tools rendering issues, I found it a necessity to control results with several viewers. They each have distinctive capabilities.</p> <p>For coding, I use Visual Studio Code and GitHub Copilot. GenAI for coding is a marvel. It does not always provide the solution to the problem but it wonderfully seeds the process that leads to the solution.</p> <p>For the documentation, I use Material for MkDocs. It's a breeze!</p>"},{"location":"architecture/d4su-server/#simple-flow","title":"Simple flow","text":"<pre><code>sequenceDiagram\n    autonumber\n    Integration -&gt;&gt; FastAPI: RESTful request\n    FastAPI -&gt;&gt; PostgreSQL: CRUD \n    FastAPI --&gt;&gt; Integration: response\n</code></pre> <p>Within FastAPI, the the design is layered in a standard way, with all layers sharing the same models</p> <pre><code>%%{init: {\"flowchart\": {\"htmlLabels\": true}} }%%\nflowchart\n    direction RL\n    subgraph fastapi [\"FastAPI\"]\n        direction TB\n        web\n        service\n        data\n        model\n        web --&gt; service\n        service --&gt; data\n        data --&gt; service\n        service --&gt; web\n    end\n    subgraph storage\n        direction TB\n        database\n        filestorage\n    end\n    fastapi --&gt; storage\n</code></pre>"},{"location":"architecture/d4su-server/#flow-with-long-running-background-tasks","title":"Flow with long running background tasks","text":"<p>For relatively 'long running' tasks, the caller will not hang waiting for the completion. The latter will be notified asynchronously.  </p> <p>Mermaid.js layout is sometimes a mystery!</p> <pre><code>%%{init: {\"flowchart\": {\"htmlLabels\": true}} }%%\nflowchart\n    direction TB\n    integration\n    subgraph d4su-server [\"d4su Platform\"]\n        direction TB\n        subgraph front-server\n            direction TB\n            fastapi[FastAPI] \n        end\n        subgraph task-server\n            celery[\"Celery Worker(s) for background tasks\"]\n        end\n        subgraph broker [\"Broker and Result Store\"]\n            direction TB\n            redis[Redis]\n        end\n        subgraph Storage\n            direction TB\n            db[PostgreSQL]\n            fs[\"File Storage&lt;br /&gt;with Apache Arrow FS (local fs, S3, ...)\"]\n        end\n    end   \n    integration -- \"*1.* request\" --&gt; fastapi\n    fastapi -- \"*2.* rsponse with follow-up id\" --&gt; integration\n    fastapi -- \"*3.* instructions\" --&gt; redis\n    celery -- \"*4.* get instructions\" --&gt; redis\n    celery -- \"*5.* get and write files\" --&gt; fs\n    celery -- \"*6.* CRUD Model\" --&gt; db\n    celery -- \"*7.* write task results\" --&gt; redis\n    celery -- \"*8.* notify result\" --&gt; fastapi\n    fastapi -- \"*9.* notify result for follow-up id\" --&gt; integration\n</code></pre> <pre><code>sequenceDiagram\n    autonumber\n    Integration -&gt;&gt; FastAPI: request\n    FastAPI --&gt;&gt; Integration: response with follow-up id\n    FastAPI -&gt;&gt; Redis: intructions\n    Celery Worker -&gt;&gt; Redis: get instructions\n    Celery Worker -&gt;&gt; File Storage: get and write files\n    Celery Worker -&gt;&gt; PostgreSQL : CRUD Model\n    Celery Worker -&gt;&gt; Redis: write task results\n    Celery Worker --&gt;&gt; FastAPI: notify task completion\n    FastAPI --&gt;&gt; Integration: notify result for follow-up id </code></pre> <p>This illustrative flow is as follows:</p> <ol> <li>A request is made by the Integration platform and received by the web layer in FastAPI. The request can come as a RESTfull request or as a WebSocket message.</li> <li>A response is provided by FastAPI with an Id for the follow-up</li> <li>The request is serviced by the sevice layer in FastAPI. There, the request is associated with a single task, or with a group of tasks that can be executed in parallel or as a chain of tasks that must be performed in sequence. The execution is trigered by sending a message to the broker (Redis).</li> <li>Celery has started a number of worker (by default 2 workers per core). A Celery Worker takes the task from the broker and execute the task</li> <li>The task execution may e.g., gets an IFC file, transforms the file, filters the content</li> <li>The task execution may eg., stores the filtered content in Postgres, ... One big task can be splitted in independent tasks that can be executed in parallel or in sequence in a chain.</li> <li>Each task writes its result (such as status and parameters to be transfered to the next tasks) in the Result Store, which here is also Redis.</li> <li>At the end, the task completion (one task, the group or the chain) is notified back to FastAPI. This can be done by a POST back to FastAPI. Alternatively, FastAPI could poll the broker every second to get the status of the task.</li> <li>FastAPI notifies the Integration Platform of the result of the request. Can be done va WebSockets or via a 'callback' POST.</li> </ol>"},{"location":"architecture/d4su-server/#deployment-view","title":"Deployment view","text":"<pre><code>architecture-beta\n    group d4su(cloud)[d4SU]\n    service server1(server)[FastAPI] in d4su\n    service server2(server)[Redis] in d4su\n    service server3(server)[Celery] in d4su\n    service db(database)[PosgreSQL] in d4su\n    service disk(disk)[FileStore] in d4su\n    server2:L -- R:server1\n    server3:T -- B:server2\n    db:R -- L:server3\n    db:T -- B:server1\n    disk:L -- R:server3</code></pre>"},{"location":"architecture/d4su-server/#other-database-storage-for-technical-data-related-to-spatial-units","title":"Other database storage for technical data related to Spatial Units","text":"<p>The proposed platform relies on Postgresql for the storage of data with a specific data model that will be outlined in the Data Model section. The data model is designed to accomodate IFC data but also other formats.</p> <p>There are alternative solutions or approaches for storing data that can - at a point in time - complement the proposed approach. The solutions hereunder have IFC as main or exclusive focus with the exception of Speckle that provides a complete integration platform for the AEC industry. </p>"},{"location":"architecture/d4su-server/#ifc2sql-in-ifcopenshell-ifcpatch-recipes","title":"ifc2sql - in IfcOpenShell / IfcPatch / Recipes","text":"<p>ifc2sql converts an IFC-SPF model to SQLite or MySQL. It is part of IfcOpenShell IfcPatch as a 'recipe'. The code is available on github. ifc2sql creates a table for each ifc entity.</p> <p>Development language: Python</p>"},{"location":"architecture/d4su-server/#ifcsql","title":"IfcSQL","text":"<p>ifcSQL is a database-schema for storing IFC-based models including the IFC data model schema of buildingSMART International. ifcSQL requires Microsoft SQLServer. It creates one table for Entities and a distinct table for each basetype of attributes.</p> <p>Development language: C#</p>"},{"location":"architecture/d4su-server/#bimserver","title":"BIMserver","text":"<p>BIMServer enables to store and manage the information of a construction (or other building related) project. Data is stored in the open data standard IFC. The BIMserver is not a fileserver, but it uses a model-driven architecture approach. This means that IFC data is stored as objects. You could see BIMserver as an IFC database, with special extra features like model checking, versioning, project structures, merging, etc. It use Berkeley DB which is an effective KeyValue store.</p> <p>Development language: Java</p>"},{"location":"architecture/d4su-server/#ifc-graph","title":"IFC-Graph","text":"<p>IFC-Graph is based on work described in the paper IFC-graph for facilitating building information access and query and enables to convert and IFC Model to a Labeled Property Graph (LPG) stored in the Graph Database Neo4j. It builds the graph with nodes for both entities and relationships (referred to repectively as 'full entities' and 'bridging entities'). Expectedly, processing time increases dramatically with the number of nodes.</p> <p>Development language: Python</p>"},{"location":"architecture/d4su-server/#speckle","title":"Speckle","text":"<p>Speckle Server positions itself as the data infrastructure for the AEC industry. Speckle is an open-source platform designed for the architecture, engineering, and construction (AEC) industries. It facilitates the exchange of data between various software applications and stakeholders involved in building design and construction projects. Speckle uses PostgreSQL as its primary database for storing and managing data. Speckle provides a python sdk Speckle | specklepy</p> <p>Development languages : C#, Typescript, Python</p>"},{"location":"architecture/references/","title":"References","text":""},{"location":"architecture/references/#tools","title":"Tools","text":""},{"location":"architecture/references/#acca-usbimifc5","title":"ACCA usBIM.ifc5","text":"<p>ACCA Software</p> <p>The online usBIM.ifc5 tool is available free of charge on request.</p>"},{"location":"architecture/references/#apache-age","title":"Apache AGE","text":"<p>Apache AGE</p>"},{"location":"architecture/references/#apache-arrow-pyarrow","title":"Apache Arrow pyArrow","text":"<p>Apache Arrow - Filesystem Interface</p>"},{"location":"architecture/references/#bimcollab-zoom","title":"BIMCollab ZOOM","text":"<p>BIMCollab ZOOM</p>"},{"location":"architecture/references/#bimserver","title":"BIMserver","text":"<p>BIMServer</p>"},{"location":"architecture/references/#blender-with-bonsai","title":"Blender with Bonsai","text":"<p>Blender with Bonsai; see also the video on Youtube</p>"},{"location":"architecture/references/#celery","title":"Celery","text":"<p>A Distributed Task Queue in Python</p>"},{"location":"architecture/references/#fastapi","title":"FastAPI","text":"<p>A modern, fast (high-performance), web framework for building APIs with Python</p>"},{"location":"architecture/references/#ifc-graph","title":"IFC-Graph","text":"<p>IFC-Graph</p> <p>IFC-graph for facilitating building information access and query</p>"},{"location":"architecture/references/#ifcjson","title":"IfcJSON","text":"<p>Python Tool (on top of ifcOpenShell) to convert an IFC to a JSON (IFC2JSON) and a JSON to an IFC (JSON2IFC). IfcJSON has been built in the context of a larger project presented in IFC.JSON</p>"},{"location":"architecture/references/#ifc2sql","title":"ifc2sql","text":"<p>in IfcOpenShell / IfcPatch / Recipes</p> <p>ifc2sql converts an IFC-SPF model to SQLite or MySQL. It is part of IfcOpenShell IfcPatch as a 'recipe'. The code is available on github. ifc2sql creates a table for each ifc entity.</p>"},{"location":"architecture/references/#ifcopenshell","title":"IfcOpenShell","text":"<p>IfcOpenShell</p>"},{"location":"architecture/references/#ifcsql","title":"IfcSQL","text":"<p>ifcSQL</p>"},{"location":"architecture/references/#material-for-mkdocs","title":"Material for MkDocs","text":"<p>Material for MkDocs</p>"},{"location":"architecture/references/#openifcviewer","title":"OpenIFCViewer","text":"<p>OpenIFCViewer</p>"},{"location":"architecture/references/#phoenix","title":"Phoenix","text":"<p>Phoenix</p>"},{"location":"architecture/references/#postgresql","title":"PostgreSQL","text":"<p>PostgreSQL - A powerful, open source object-relational database</p>"},{"location":"architecture/references/#postgis","title":"PostGIS","text":"<p>PostGIS</p>"},{"location":"architecture/references/#redis","title":"Redis","text":"<p>An In-Memory Database used for Celery as Message Queue and Result Store</p>"},{"location":"architecture/references/#solibri-anywhere","title":"Solibri Anywhere","text":"<p>Solibri Anywhere</p>"},{"location":"architecture/references/#speckle","title":"Speckle","text":"<p>Speckle Server</p> <p>Speckle | specklepy</p>"},{"location":"architecture/references/#sqlmodel","title":"SQLModel","text":"<p>SQLModel is based on Python type annotations, and powered by Pydantic and SQLAlchemy</p>"},{"location":"architecture/references/#that-open","title":"That Open","text":"<p>ThatOpen (Web)</p>"},{"location":"architecture/references/#buildingsmart-ifc5","title":"buildingSmart IFC5","text":"<p>buildingSMART Site</p> <p>buildingSMART GitHub</p> <p>buildingSMART IFC5 development</p> <p>IFC5 Viewer</p>"},{"location":"data-model/assemblies/","title":"Assemblies","text":""},{"location":"data-model/assemblies/#definition","title":"Definition","text":"<p>The IfcElementAssembly represents complex element assemblies aggregated from several elements, such as discrete elements, building elements, or other elements.</p> <p>According to the IFC documentation, the IfcElementAssembly is an aggregate i.e. being composed by other elements and acting as an assembly using the objectified relationship IfcRelAggregates, referring to it by its inverse attribute SELF\\IfcObjectDefinition.IsDecomposedBy. Components of an assembly are described by instances of subtypes of IfcElement. In this case, the contained subtypes of IfcElement shall not be additionally contained in the project spatial hierarchy, i.e. the inverse attribute SELF\\IfcElement.ContainedInStructure of those IfcElement's shall be NIL.</p> <p></p> <p>The assembly structure can be nested, i.e. an IfcElementAssembly could be an aggregated part within another IfcElementAssembly.</p>"},{"location":"data-model/assemblies/#relation-to-the-recycle-reuse-and-repurpose-potential","title":"Relation to the Recycle, Reuse and Repurpose potential","text":"<p>Assemblies play an important role in the reuse potential of a building. Reuse implies that an element can be either reused as such or disassembled in its consituents parts and that these parts can be reused in another building or for another purpose.</p> <p>There are many standardized property sets such as e.g. Pset_EnvironmentalImpactIndicators. Additonally custom properties can be added as needed.</p>"},{"location":"data-model/classifications/","title":"More on Classifications","text":""},{"location":"data-model/classifications/#definition","title":"Definition","text":"<p>According to the IFC documentation, an IfcClassification is used for the arrangement of objects into a class or category according to a common purpose or their possession of common characteristics. A classification in the sense of IfcClassification is taxonomy, or taxonomic scheme, arranged in a hierarchical structure. A category of objects relates to other categories in a generalization-specialization relationship. Therefore the classification items in an classification are organized in a tree structure.</p> <p>The IfcClassification identifies the classification system or source to which a classification reference refers to. Each classification reference may reference an instance of IfcClassification. A classification system declared may be either formally published, or it may be a locally defined method of classifying information.</p>"},{"location":"data-model/classifications/#examples","title":"Examples","text":"<p>Examples of classifications are provided in https://github.com/Moult/IfcClassification</p>"},{"location":"data-model/classifications/#link-between-and-element-and-a-classificaton","title":"Link between and Element and a Classificaton","text":"<p>The link between the IfcBuildingElement (Wall, Slab, Column, Beam, Door, Window, Covering, ...) and a Classification is made via the IfcRelAssociatesClassification relationship where the relatedObjects are the concerned IfcBuildingElements and the relatingClassification is expanded on the relationship itself and not as a distinct element with a GlobalId (GUID).</p> <p>Hereunder an example from ARK_NordicLCA_Housing_Concrete_BuildingPermit_Revit.ifc where the ifc has been converted to ifcJSON for clarity.</p> <pre><code>{\n      \"type\": \"IfcRelAssociatesClassification\",\n      \"globalId\": \"d4175431-f8e4-b3c3-b5cb-471634e42713\",\n      \"ownerHistory\": {\n        \"type\": \"IfcOwnerHistory\",\n        \"ref\": \"3de63ee2-9c7c-491c-b0c4-8f22c8df5579\"\n      },\n      \"name\": \"Uniformat:1242\",\n      \"relatedObjects\": [\n        {\n          \"type\": \"IfcWindow\",\n          \"ref\": \"4d6d93dc-1013-4546-96f4-5c198f8a4592\"\n        },\n        {\n          \"type\": \"IfcWindow\",\n          \"ref\": \"4d6d93dc-1013-4546-96f4-5c198f8a4593\"\n        }\n      ],\n      \"relatingClassification\": {\n        \"type\": \"IfcClassificationReference\",\n        \"location\": \"https://www.csiresources.org/standards/uniformat\",\n        \"identification\": \"1242\",\n        \"name\": \"Uniformat\",\n        \"referencedSource\": {\n          \"type\": \"IfcClassification\",\n          \"source\": \"https://www.csiresources.org/standards/uniformat\",\n          \"edition\": \"1998\",\n          \"name\": \"Uniformat\"\n        }\n      }\n    },\n</code></pre>"},{"location":"data-model/classifications/#classifications-and-life-cycle-assessment-lca","title":"Classifications and Life Cycle Assessment (LCA)","text":"<p>Classifications play a central role in Life Cycle Assessment.</p> <p>A Google AI Overview for 'ifcclassification and life cycle assessment' gives the following summary</p>  IFC (Industry Foundation Classes) classification is used in Life Cycle Assessment (LCA) to facilitate the extraction and analysis of building material data from BIM models, enabling a more accurate and efficient assessment of a building's environmental impact. By classifying building elements within IFC files, LCA software can leverage these classifications to match materials with their respective environmental profiles, making it easier to calculate the embodied carbon and other environmental impacts of a building throughout its life cycle.  How IFC Classification Supports LCA:  1. Data Extraction and Organization: IFC files, which contain detailed building information, can be used to extract data about building components, including materials, quantities, and characteristics.   1. Material Matching: IFC classifications, when linked to environmental databases, allow LCA tools to automatically match building elements with their corresponding environmental data (e.g., embodied carbon, water consumption, energy use).   1. Automated Calculations: The integration of IFC data and environmental databases enables automated calculations of environmental impacts, saving time and effort compared to manual calculations.   1. Improved Accuracy: Using detailed, classified data from IFC models can lead to more accurate LCA results, as it allows for a more precise assessment of material quantities and characteristics.   1. Early Design Stage Integration: IFC-based LCA allows for the early integration of sustainability considerations into the design process, enabling designers to make informed decisions about material selection and design choices."},{"location":"data-model/data-bundle/","title":"Data Bundle","text":""},{"location":"data-model/data-bundle/#data-bundle-as-a-bucket-of-ifc-entities","title":"Data Bundle as a Bucket of (IFC) Entities","text":"<pre><code>erDiagram\n    dataBundle\n    file\n    object\n    representation\n    propertySet\n    relationship\n    material [\"material &lt;: relationship\"]\n    space [\"space &gt;: object\"]\n    dataBundle ||..o{ dataBundle : \"parent\"\n    dataBundle ||--|{ file : \"import or export storage\"\n    bundleMembership\n    bundleMembership }|--|| dataBundle : member\n    bundleMembership }|--|| entity : member\n    entity ||..o| object : \"is a\"\n    entity ||..o| relationship : \"is a\"\n    entity ||..o| representation : \"is a\"\n    entity ||..o| propertySet : \"is a\"\n    entity ||..o| material : \"contains\"\n    entity ||..o| space : \"is a\"</code></pre> <p>A dataBundle (or a bundle for short) is the logical 'bucket' for all files and data related to a 'source' project (whether IFC or not).</p> <p>When an IFC is provided,  The bundle will keep track of the source file and of all transformations thereof (like e.g., an ifcJSON, a filtered ifCJSON, a derived IFC) and all the objects and the relationships originating from the source  or added thereafter in the database.</p> <p>An initial project may be complemented and enriched by new contributing source files. In that case, new information can be logically placed in a new bundle that will be a child of the initial bundle.</p>"},{"location":"data-model/data-bundle/#data-bundle-as-a-register-of-links-between-technical-data-and-the-spatial-unit","title":"Data Bundle as a register of links between technical data and the 'Spatial Unit'","text":"<pre><code>erDiagram\n    dataBundle\n    file\n    bundleUnit [\"bundleUnit: Site, Building, Storey, Space, Zone, Spatial Zone\"]\n    spatialUnit\n    spatialUnitBundle [\"spatialUnitBundle: junction between spatialUnit and bundle\"]\n    bundleUnit ||..o{ bundleUnit : \"parent or group\"\n    dataBundle ||..o{ dataBundle : parent\n    bundleUnit }|..|| dataBundle : \"\"\n    spatialUnitBundle |o..|| bundleUnit : \"\"  \n    dataBundle ||..|{ file : storage\n    spatialUnitBundle ||--|| spatialUnit : providesRoot\n</code></pre> <p>In this view, the dataBundle (or bundle for short) provides a summary of the core hierarchy and groups via</p> <p>bundleUnit</p> <ul> <li>and hierarchy thereof (parent -&gt; children)<ul> <li>site -&gt; building(s)</li> <li>building -&gt; storey(s)</li> <li>storey -&gt; space(s)</li> <li>site -&gt; spatialZone(s)</li> <li>building -&gt; spatialZone(s)</li> <li>storey -&gt; spatialZone(s)</li> </ul> </li> <li>and assignments thereof (group -&gt; member)<ul> <li>zone -&gt; zone(s)</li> <li>zone -&gt; space(s)</li> </ul> </li> </ul> <p>and the link with Spatial Unit is maintained in spatialUnitRoot which gives the unit and/or group that relate to the Spatial Unit</p>"},{"location":"data-model/ids/","title":"Information Delivery Specification (IDS)","text":"<p>The buildingSmart Information Delivery Specification (IDS) is a standard that defines the requirements for the exchange of information in Building Information Modeling (BIM) projects. It ensures that the right information is delivered at the right time throughout the lifecycle of a building or infrastructure project.</p> <p>Key usage of IDS:</p> <ul> <li>Requirements Definition: Specifies what information is needed, including data types, formats, and levels of detail.</li> <li>Validation: Ensures that the delivered information meets the specified requirements.</li> <li>Interoperability: Facilitates seamless data exchange between different software tools and platforms.</li> <li>Compliance: Ensures that the information delivery complies with industry standards and regulations.</li> <li>Documentation: Provides clear guidelines and documentation for stakeholders to understand and implement the IDS requirements.</li> </ul> <p>IDS helps in improving the quality and consistency of information exchanged in BIM projects, leading to better decision-making and project outcomes.</p> <p>Tecnically an IDS file uses an XML format that is both machine-readable and human-readable.</p> <p>Hereunder an extract of the 'info' section and of one 'specification' of the example file IDS_wooden-windows.ids. The specification is formulated for an IFC schema version IFC2X3, applies to an entity IFCMEMBER and states there must be at least 1 member of an IFCELEMENTASSEMBLY' of predefinedtype 'GIRDER'.  </p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;ids:ids xmlns:ids=\"http://standards.buildingsmart.org/IDS\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://standards.buildingsmart.org/IDS http://standards.buildingsmart.org/IDS/1.0/ids.xsd\"&gt;\n    &lt;ids:info&gt;\n        &lt;ids:title&gt;Wooden Windows&lt;/ids:title&gt;\n        &lt;ids:copyright&gt;NBvT&lt;/ids:copyright&gt;\n        &lt;ids:description&gt;An IDS of the Wooden Windows example.&lt;/ids:description&gt;\n        &lt;ids:date&gt;2022-02-08&lt;/ids:date&gt;\n        &lt;ids:milestone&gt;Design handover to manufactuer&lt;/ids:milestone&gt;\n    &lt;/ids:info&gt;\n    &lt;ids:specifications&gt;\n        &lt;!-- specification added to have at least one case of subType in the documenetation --&gt;\n        &lt;ids:specification ifcVersion=\"IFC2X3\" name=\"subTypeExample\"&gt;\n            &lt;ids:applicability minOccurs=\"1\" maxOccurs=\"unbounded\"&gt;\n                &lt;ids:entity&gt;\n                    &lt;ids:name&gt;\n                        &lt;ids:simpleValue&gt;IFCMEMBER&lt;/ids:simpleValue&gt;\n                    &lt;/ids:name&gt;\n                &lt;/ids:entity&gt;\n            &lt;/ids:applicability&gt;\n            &lt;ids:requirements&gt;\n                &lt;ids:partOf relation=\"IFCRELAGGREGATES\"&gt;\n                    &lt;ids:entity&gt;\n                        &lt;ids:name&gt;\n                            &lt;ids:simpleValue&gt;IFCELEMENTASSEMBLY&lt;/ids:simpleValue&gt;\n                        &lt;/ids:name&gt;\n                        &lt;ids:predefinedType&gt;\n                            &lt;ids:simpleValue&gt;GIRDER&lt;/ids:simpleValue&gt;\n                        &lt;/ids:predefinedType&gt;\n                    &lt;/ids:entity&gt;\n                &lt;/ids:partOf&gt;\n            &lt;/ids:requirements&gt;\n        &lt;/ids:specification&gt;\n    &lt;/ids:specifications&gt;\n&lt;/ids:ids&gt;\n</code></pre> <p>A lot of examples are available at BIMids</p> <p>There are also a lot of user friendly editors of IDS files. See the list of Tools Supporting IDS</p>"},{"location":"data-model/ifc-entities/","title":"IFC Entities","text":""},{"location":"data-model/ifc-entities/#introduction","title":"Introduction","text":"<p>IFC is a standardized, digital description of the built asset industry. It is an open, international standard (ISO 16739-1:2024) and promotes vendor-neutral, or agnostic, and usable capabilities across a wide range of hardware devices, software platforms, and interfaces for many different use cases.</p> <p>The current versions of IFC are IFC2X3, IFC4, IFC4X3 ADD2. There is also IFC5 which is under developement. From a technical perspective IFC5 with not rely anymore on the STEP file format and will adopt a JSON format and borrow concepts from USD (Universal Scene Description). Some functional / data changes are also in the make with some data content moving for relationships to objecs.</p> <p>So we will follow on with IFC5, but up to now what is presented here is valid for IFC&lt;5.</p>"},{"location":"data-model/ifc-entities/#entities-up-to-ifc4x3-add2-or-ifc5","title":"Entities (up to IFC4X3 ADD2, or IFC&lt;5)","text":"<p>There are several hundreds of entities in IFC and many detailed diagrams are available. The diagram here below presents a limited but helpful overview of significant IFC entities and relationships. The diagram is extracted from the paper Indoor navigation supported by the Industry Foundation Classes (IFC): A survey.</p> <p></p> <p>It exemplifies the hiearchical relationship IfcRelAggregates of:</p> <ul> <li>IfcProject</li> <li>IfcSite (one or many)</li> <li>IfcBuilding (one or many). An IfcBuilding can be an aggregate of several 'building (parts)' with a type<ul> <li>COMPLEX = building complex</li> <li>ELEMENT = building</li> <li>PARTIAL = building section</li> </ul> </li> <li>IfcBuildingStorey (one or many level(s)). An IFCBuildingStorey can also be an aggregate of several storey part(s):<ul> <li>COMPLEX: building storey complex</li> <li>ELEMENT: building storey</li> <li>PARTIAL: partial building storey</li> </ul> </li> <li>IfcSpace (one or many room(s) or parking(s) and combinations or parts thereof). Accordingly, the IfcSpace can also be a aggregate of several space part(s):<ul> <li>COMPLEX = space group</li> <li>ELEMENT = space</li> <li>PARTIAL = partial space</li> </ul> </li> </ul> <p>And also the hierarchical relationship IfcRelContainedInSpatialStructure, with elements typically contained in an IfcBuildingStorey such as:</p> <ul> <li>IfcWall</li> <li>IfcSlab</li> <li>IfcColumn</li> <li>IfcBeam</li> <li>IfcWindow</li> <li>IfcDoor</li> </ul> <p>Or elements typically contained in an IfcSpace such as:</p> <ul> <li>IfcFurnishingElement</li> <li>IfcTransportElement</li> <li>IfcDistributionElement</li> <li>IfcCovering</li> </ul> <p>It also exemplifies the IfcRelDefinedByProperties that links a propertySet with one or more element to which the propertySet applies.</p> <p>An last but not least it examplifies the IfcRelSpaceBoundary which relates the IfcSpace with its boundary (e.g., IfcWall).</p> <p>Not shown on that diagram, but quite important is the IfcRelReferencedInSpatialStructure which is used to assign elements in addition to those levels of the project spatial structure, in which they are referenced, but not primarily contained. This is illustated in the diagram below with a curtain wall contained in the spatial structure of the ground floor but also referenced in the spatial structures of the other floors.</p> <p></p>"},{"location":"data-model/ifc-entities/#further-information-to-be-found-in-the-official-ifc-documentation","title":"Further information to be found in the official IFC documentation","text":"<p>There are significantly more entities and relationship than those illustrated here. A reference documentation is available at   . From it, it is apparent that IFC covers most (not to say all) elements relevant to the technical documentation of 'Spatial Units'.</p> <p>From the documentation, it is also apparent that IFC is NOT just for Buildings but encompases Roads, Marine Facilities, Railway, ...</p> <p>See e.g., hereunder:</p> <ul> <li>Ports And Waterways</li> <li>Railways</li> <li>Roads</li> </ul>"},{"location":"data-model/ifc-entities/#ifc-and-citygml","title":"IFC and CityGML","text":"<p>Hereunder an informative diagram extracted from a very interesting paper on Automatic conversion of IFC datasets to geometrically and semantically correct CityGML LOD3 buildings  (../data-model/references.md#ifc-to-citygml)</p> <p></p>"},{"location":"data-model/ifc-entities/#a-condensed-model-for-ifc-or-other-models-of-technical-data-for-spatial-units","title":"A Condensed Model for IFC or other Models of Technical Data for 'Spatial Units'","text":"<pre><code>erDiagram\n    object\n    representation\n    relationship\n    relatingEntity\n    relatedEntity\n    propertySet\n    space [\"space &gt;: object\"]\n    objectType\n    relationshipType\n    objectType ||--o{ object : typeOf\n    relationshipType ||--o{ relationship : typeOf \n    object ||--o{ representation : has\n    object ||..o| space : \"\"\n    relationship ||--|| relatingEntity : characterize\n    relationship ||--|{ relatedEntity : apply_to\n    relatingEntity ||--|| object : is\n    relatingEntity ||--|| propertySet  : is\n    relatingEntity ||--|| space : is\n    relatedEntity ||--|| object : is\n</code></pre> <p>The proposed condensed model preserves all the information contained in the IFC file/model and organizes the storage in 4 main 'groups':</p> <ul> <li>Objects</li> <li>Representations (aka geometries)</li> <li>Property Sets</li> <li>Relationships</li> </ul> <p>An object is everything that does not fall into one of the other three 'groups'.</p> <p>A representation may exist for an object in the IfcProduct category such as Wall, Slab, Column, Beam, Window, Door, ... and contain the information necessary to provide a 3D rendering of the object. In the object group of the proposed condensed model, not all items are IfcProducts and have a representation. E.g., a an IfcProject does not have and does not need a representation.  </p> <p>An IfcRelationship has one Relating Entity and one or more Related Entity(ies). For instance the decomposition of a Building in Storeys is documented by an instance of a relationship of type IfcRelAggregates with the IfcBuilding as the Relating Entity and the IfcBuildingStoreys as the Related Entities. There are tens of types of relationships that follow the same pattern of 'relating' and 'related' element. This is both flexible and general.</p>"},{"location":"data-model/introduction/","title":"Concepts and Data Model","text":"<p>To make a long story short,</p> <ul> <li>the concepts apply to both IFC and the d4SU data base</li> <li>the data model applies to the the d4SU data base only</li> </ul> <p>The sections under this heading provide a short introduction to the topics, but do not dispense from the reference BIM/IFC documentation for advanced use cases.</p>"},{"location":"data-model/materials/","title":"More on Materials","text":""},{"location":"data-model/materials/#introduction","title":"Introduction","text":"<p>In ifcJSON (for Ifc&lt;5), the link between the IfcBuildingElement (Wall, Slab, Column, Beam, Door, Window, Covering, ...) and the Materials is made via the IfcRelAssociatesMaterial relationship where the relatedObjects are the concerned IfcBuildingElement and the relatingMaterial is expanded on the relationship itself and not as a distinct elements with a GlobalId (GUID).</p> <p>In IFC5, this will apparently change, with Material becoming an 'object' on it own.</p> <pre><code>flowchart TB\n    subgraph relationship\n        subgraph relatingMaterial\n            IfcMaterialSelect([IfcMaterialSelect])\n            IfcMaterialSelect --o IfcMaterialLayerSetUsage\n            IfcMaterialSelect --o IfcMaterialLayerSet\n            IfcMaterialSelect --o IfcMaterialLayer\n            IfcMaterialSelect --o IfcMaterial\n            IfcMaterialLayerSetUsage --o IfcMaterialLayerSet\n            IfcMaterialLayerSet --o IfcMaterialLayer\n            IfcMaterialLayer --o IfcMaterial\n        end\n        IfcRelAssociatesMaterial --o IfcMaterialSelect\n    end\n    subgraph relatedObjects\n        IfcBuildingElement[\"IfcWall,&lt;br/&gt;IfcSlab,&lt;br/&gt;IfcColumn,&lt;br/&gt;IfcBeam,&lt;br/&gt;IfcDoor,&lt;br/&gt;IfcWindow,&lt;br/&gt;...\"]\n    end\n    IfcRelAssociatesMaterial -- referenced via globalId --o IfcBuildingElement</code></pre> <p>This diagram is a simplification. Practically, The official 4.3.2.0 documentation for \"IFC 4.3\". is the source of detailed information.</p> <p>There is the assignment of a Material to an Object (IfcMaterialList is deprecated in IFC4)</p> <p></p> <p>There is also the Layering</p> <p></p> <p>IFC Material Layer Set Usage for a Wall:</p> <p></p> <p>IFC Material Layer Set Usage for a Slab:</p> <p></p> <p>A Material can be styled:</p> <p></p>"},{"location":"data-model/notes-on-ifc5/","title":"Notes on IFC5","text":"<p>The physical model will be adapted to account for IFC5 when the latter will graduate out of the development phase. In the mean time see IFC5</p>"},{"location":"data-model/object-types/","title":"Object Types","text":"<p>In IFC, objects can have a type that defines commonly shared information for occurrences of that object type. The set of shared information may include:</p> <ul> <li>common properties within shared property sets</li> <li>common material information</li> <li>common shape representations</li> </ul> <p>And for each object type some characteristics that are peculiar to that object type such as e.g. for Windows:</p> <ul> <li>common partitioning of panels</li> <li>common operation types of panels</li> </ul> <p>Hereunder a list of some objects and corresponding types</p> Object Type IfcWall IfcWallType IfcCurtainWall IfcCurtainWallType IfcSlab IfcSlabType IfcBeam IfcBeamType IfcColumn IfcColumnType IfcCovering IfcCoveringType IfcWindow IfcWindowType IfcDoor IfcDoorType IfcPlate IfcPlateType IfcStair IfcStairType IfcSpace IfcSpaceType IFCRailing IFCRailingType IFCMember IFCMemberType <p>The relationship between these object and their correponding object type is embodied in the IfcRelDefinesByType relationship where the RelatingType is the Object Type and the RelatedObjects are the objects with that type.</p> <p>To make things a little bit more complex, the RelatingType can also be an Object Style for some objects. This applies to IFC2X3 files and has been deprecated in IFC4.</p> Object Style IfcDoor IfcDoorStyle (deprecated in IFC4; IfcDoorType used instead) IfcWindow IfcWindowStyle (deprecated in IFC4; IfcDoorType used instead) <p>There are still a lot of IFC2X3 files</p>"},{"location":"data-model/object-types/#the-following-figure-illustrates-the-relationship-for-property-sets","title":"The following figure illustrates the relationship for property sets","text":"<p>This means that an object (e.g. an IfcWindow) will have properties from all the propertySets:</p> <ul> <li>associated with the object via an IfcRefDefinesByProperties relationship where the propertySet reference is the RelatingPropertyDefinition  and the object reference is part of the RelatedObjects list.</li> <li>associated with the objectType (i.e. IfcWindowType) associated to the object via the relationship IfcRelDefinesByType where the objectType reference is the RelatingType  and the object is part of the Related Objects list and the propertySet reference is part of the hasPropertySets list of the objectType</li> <li>associated with the objectStyle (i.e. IfcWindowStyle) in the same as with an objectType</li> </ul>"},{"location":"data-model/object-types/#the-following-figure-illustrates-the-relationship-for-material","title":"The following figure illustrates the relationship for material","text":""},{"location":"data-model/object-types/#the-following-two-figures-illustrates-the-relationship-for-representations","title":"The following two figures illustrates the relationship for representations","text":"<p>The product representations are defined as representation maps (at the level of the supertype IfcTypeProduct (Wall, Slab, ...)), which gets assigned by an element occurrence instance through the IfcShapeRepresentation.Item being an IfcMappedItem.</p> <p></p> <p></p>"},{"location":"data-model/physical-model/","title":"Physical Model - Tables","text":""},{"location":"data-model/physical-model/#introduction","title":"Introduction","text":"<pre><code>erDiagram\n\n    spatialUnit {\n        uuid    id PK\n        string  name\n        string  type\n        string  description\n        json    unitGuide \"'User Guide' for the spatialUnit\"\n    }\n\n    bundle {\n        int     id PK\n        int     parentId\n        string  name\n        json    files\n        json    jsonInDBHeader\n        string  description\n        bool    active\n    }\n\n    object {\n        int     bundleId \"part of PK\"\n        uuid    objectId \"part of PK\"\n        string  type\n        string  name\n        array   representationIds \"array of str(uuid)\"   \n        json    elementJson \"contains the object placement data\"\n\n    }\n    object ||--o{ representation : has\n\n    representation {\n        int         bundleId \"part of PK\"\n        uuid        representationId \"part of PK\"\n        string      type\n        json        elementJson \"contains the shape representation data\" \n        geometry    geom \"geometry column for PostGIS\"\n    }\n\n    propertySet {\n        int     bundleId \"part of PK\"\n        uuid    propertySetId \"part of PK\"\n        string  name\n        json    elementJson\n    }\n\n    relationship {\n        int     bundleId \"part of PK\"\n        uuid    relationshipId \"part of PK\"\n        string  type\n        string  relatingType\n        uuid    relatingId \"part of FK\"        \n        json    elementJson\n    }\n    relationship }|..|| object : relating\n    relationship }|..|| propertySet : relating\n\n    relatedMembership {\n        uuid    id PK\n        int     bundleId \"part of FK\"\n        uuid    relationshipId FK \"part of FK\"\n        string  objectType\n        uuid    objectId \"part of FK\"    \n    }\n    relatedMembership }|--|| relationship : \"\"\n    relatedMembership }|--|| object : related\n\n    bundleUnit {\n        uuid5   bundleunit_id PK  \"The Id as a hash of all columns except unitJson\"\n        int     bundle_id \"The Id of the bundle\"\n        uuid    unit_id \"The Id of the Object \"\n        string  unitType \"The type of the Object (e.g. IfcSpatiaZone)\"\n        string  unitName \"The name of the object (e.g. Apartment 01-09)\"\n        string  unitObjectType \"The objectType of the object (e.g. Private Parts - Apartment)\"\n        string  relationship_type \"The type of the relationship (e.g. 'IfcRelAggregates)\"\n        uuid    parent_id \"The Id of the Parent\"\n        string  parent_type \"The type of the parent (e.g. 'IfcBuildingStorey')\"\n        json    unitJson \"Information that is specific to the type.\"\n    }\n    bundleUnit }o..|{ object : \"member\" \n    bundleUnit }|--|| bundle : \"\"\n\n    spatialUnitBundleUnit {\n        uuid    id PK\n        uuid    spatialUnitId\n         int    bundleId FK\n        uuid    bundleUnitEdgeId FK\n    }\n    spatialUnitBundleUnit }|--|| spatialUnit : \"\"\n    spatialUnitBundleUnit }|--|| bundle:  \"\"\n    spatialUnitBundleUnit }|--|| bundleUnit:  \"\"\n\n    bundleJournal {\n        uuid    id PK\n        int     bundleId FK\n        uuid    proctoken\n        json    operationJson  \n    }\n    bundleJournal }|--|| bundle : entry\n</code></pre> <pre><code>erDiagram\n\n    bundleUnitPropertyset {\n        uuid    id PK\n        int     bundle_id \"The id of the bundle\"\n        uuid    sz_id \"The id of the SpatialZone (or more generally of the parent of a unit in bundleunit)\"\n        string  sz_type \"Type of the spatial zone (e.g. Private parts - Apartment)\"\n        string  sz_name \"Name of the spatial zone\"\n        uuid    unit_id \"The id of a unit of bundleunit\"\n        string  unit_name \"The name of the unit (e.g. Kitchen)\"\n        uuid    unit_id \"The id of an object in the space boundary of a unit or contained in the spatial structure of a unit\"\n        string  object_type \"The type of the object in the space boundary or contained in the spatial structure (e.g. an IfcDoor)\"\n        string  object_name \"The name of the object\"\n        uuid    type_object_id \"The id of the type of the Object\"\n        string  type_object_type \"The ifc type of the type of the object (e.g. IfcDoorStyle)\" \n        string  type_object_name \"The name of the type of the object\"\n        uuid    propertyset_id \"The id of the property set\"\n        string  propertyset_name \"The name of the propertyset (e.g. Pset_DoorCommon)\"\n        json    propertyset_json \"The elementjson of the propertuset\" \n        uuid    properties_id \"The id of a property associated to a type of object in its 'hasProperties', but which is not a property set\"\n        string  properties_type \"The type of the property (e.g. IfcDoorPanelProperties)\"\n        string  properties_name \"The name of the property (e.g. Door Panel Properties - Panel 1)\"\n        json    properties_json \"\"  \n    }\n\n\n    bundleHistory {\n        uuid    id PK\n        int     bundleId\n        uuid    parentId\n        string  name\n        string  source\n        string  sourceHeader\n        bool    active\n    }\n    elementHistory {\n        uuid    id PK\n        int     bundleId\n        uuid    elementId\n        string  elementType\n        json    elementJson\n    }\n</code></pre> <p>There are 2 parts in the physical model: the D4SU model and the technical model based on ifcJSON</p> <p>There are two parts in the data model. One part contains the information on the spatial units, their corresponding bundle of ifc file(s), the history of the processing and the data of the corresponding spatial zones and of their properties. Those data are collected by processing the technical model based on IfcJSON, but this is a design choice and they could also be collected by processing the IFC files directly.</p> <p>The D4SU data model</p> <p>The D4SU model contains the information for the Spatial Units and their data. The tables are: spatialUnit, bundle, bundleJournal, bundleUnit, spatialUnitBundleUnit, bundleJournalbundleUnitPropertyset. </p> <p>The technical model based on ifcJSON</p> <p>The model does not allocate IFC entities to DB tables but allocates ifcJSON entities to DB tables: object, representation, relationship, propertyset an add a table relatedmembership. The ifcJSON entities already aggregate a number of IFC entities. For instance, some ifcJSON relationships contain the data pertaining to one side of the relationship.</p> <p>spatial_ref_sys table</p> <p>In PostgreSQL, the table model also contains a table 'spatial_ref_sys' that is created by the PostGIS extension.</p> <p>The physical technical model is articulated around simple principles:</p> <ul> <li>The entities are those provided by the ifc2json transformation</li> <li>The the ifc2json transformation is assumed to be lossless with respect to information that matters for Spatial Units; - if not, the transformation must be enhanced</li> <li>Items from the ifc2json are distributed in 4 blocks:<ul> <li>object - applies to all items that are not in one of the 3 other groups</li> <li>representation</li> <li>propertySet (including IfcPropertySet and IfcElementQuantity)</li> <li>relationship</li> </ul> </li> <li>All information from the ifc2json source is preserved. Each items keeps the totality of its original data into an elementJson field</li> </ul> <p>One of the reasons for this choice is that data in the json can easily be accessed (as a python dictionary, a python pandas DataFrame or as a result of a postgres 'sql', or all combined).</p> <p>So access is easy, provided that the structure is expected and understood.</p> <p>Generally speaking, data processing that need to enhance entities or apply algorithms on the entities have an understanding of the data. They can therefore easily access and process the content of the the json.</p> <p>But other treatments might just not care about these entities and would be confused by details that they don't need.</p>"},{"location":"data-model/physical-model/#tables","title":"Tables","text":"<p>All tables details can be found under src/model with their pydantic definition.</p>"},{"location":"data-model/physical-model/#spatial-unit","title":"Spatial Unit","text":"<p>The Spatial Unit acts as a relay for the Spatial Unit in the external adminirative system. The other tables will reference the id of this Spatial Unit which is turn will - when needed or convenient -- hold an external id for the external Spatial Unit.</p>"},{"location":"data-model/physical-model/#bundle","title":"Bundle","text":"<p>The bundle (elsewhere referred to as the dataBundle)  is the logical 'bucket' for all files and data related to a 'source' project (whether IFC or not). It maintains a list of all files processed in relationship to the bundle.</p>"},{"location":"data-model/physical-model/#bundle-journal","title":"Bundle Journal","text":"<p>The bundle journal keeps track of all operations that have been performed in relation with the bundle. This can be e.g.,</p> <ul> <li>import the source IFC</li> <li>transform the IFC in an elementJson</li> <li>filter the elementJson</li> <li>store the elementJson content in the database</li> </ul>"},{"location":"data-model/physical-model/#bundle-unit","title":"Bundle Unit","text":"<p>The table stores the graph structure and the groups of entities that can be referred to by a Spatial Unit, namely the Site(s), Building(s), Storey(s), Space(s), Zone(s) and Spatial Zone(s). The same unit can be present multiple times. For instance, a  'Kitchen' space may be linked to the 'Apartment' SpatialZone to which it belongs via an 'IfcRelReferencedInSpatialStructure' relationship while being also linked to the containing 'Storey' via an 'IfcRelAgreggates' relationship.</p> <p>The Id/PK (bundleunit_id) is based on a hash of all columns except the unitJson (and the technical data such as 'created_at' and 'updated_at'). The idea is that an update applies to the combination of these elements, and if one of them changes it must be an 'insert' or a 'delete old' + 'insert new'.</p>"},{"location":"data-model/physical-model/#spatial-unit-bundle-unit-junction-between-a-spatial-unit-and-a-bundle-unit","title":"Spatial Unit Bundle Unit (junction between a spatial unit and a bundle unit)","text":"<p>Makes the junction between a Spatial Unit and a BundleIUnit.</p>"},{"location":"data-model/physical-model/#bundle-membership-included-in-the-primary-key-of-elements","title":"Bundle Membership included in the primary key of elements","text":"<p>We don't use a junction table between the bundle and the elements of the bundle (object, representation, propertySet and relationship). Instead, we use the bundleId in the primary key of its elements (object, representation, propertySet, relationship) so that the primary key of an element is (bundleId, elementId). </p> <p>For the elementId's we prefer to keep the uuid provided by the IFC GUID (globalId) in its extended form. </p> <p>This GUID is technically unique but may be used repeatedly in different contexts. For instance, an IfcWall with a given GUID could appear for that wall in distinct IFC's for the design, construction and as-built phases. And there could be variations in the IfcWall data. </p> <p>Also the discussion on the buildingSMART forum about GUIDs in an BIM Project brings additional perspective on the use of the guid: in a federation of IFC from distinct disciplines, the same GUID could be used for the given IfcWall but with a different use.</p> <p>Therefore, the GUID will bear a unicity property only within a given bundle and a convenient unique key will be provided by (bundleId, elementId) dispensing from using a junction table. </p> <p>Also, comparison across bundles could help identify variations in a specific element or help in federating different views, but with no guarantee as made clear in the discussion GUIDs in an BIM Project where an example is given of a project with multiple disciplines using different tools and producing distincts GUIDs for the same element.</p>"},{"location":"data-model/physical-model/#object","title":"Object","text":"<p>Contains all the items not in Represention, PropertySet or Relationship.</p> <p>An object can be an element with a representation (geometry), i.e. an IfcProduct such as:</p> <ul> <li>IfcWall, IfcSlab, IfcColumn, IfcBeam, ...</li> <li>IfcDoor, IfcWindow, ...</li> <li>IfcCovering, ...</li> <li>IfcStair, ...</li> <li>IfcSpace, ...</li> <li>IfcDistributionFlowElement, ...</li> <li>IfcAnnotation</li> <li>...</li> </ul> <p>An IfcProduct may have a representation, and if it has a representation, it must have an IfcObjectPlacement</p> <p>An object It can also be an element without a representaion</p> <ul> <li>IfcActor, IfcTaslk, IfcProcess, IfcResource</li> <li>IfcWorkPlan, IfcWorkPlanSchedule</li> <li>...</li> </ul>"},{"location":"data-model/physical-model/#representation","title":"Representation","text":"<p>Contains the items for the products that have one or more shape representation(s) (support for the 3D rendering and for measurement). Representations are separated from the product themselves which are in the object table. The separation is mainly for data management purpose: not all processes need the representation and several applications / model sources do not have shape representations. The representation table has a 'Geometry' column that is intended to support geometry related functions.</p> <p>A representation has a IfcGeometricRepresentationContext which defines the context that applies to several shape representations of products within a project.</p>"},{"location":"data-model/physical-model/#propertyset","title":"PropertySet","text":"<p>Contains the propertySets and elementQuantities that apply to one or more other items.</p>"},{"location":"data-model/physical-model/#relationship","title":"Relationship","text":"<p>All types of Relationships are stored in the same table with a structure that account for</p> <ul> <li>the type of the relationship</li> <li>the id of the unique relating item</li> <li>the type of the relating item</li> <li>the elementJson of the source relationship</li> </ul> <p>The list of the related items is included in the elementJson and is also expanded in the Related Membership table.</p> <p>When applying a filter on the import (or when creating a dependent bundle), some elements in the original IFC will be filtered out and will not remain in the bundle. This means that a relationship with a relating element in the the bundle may originally contain references to related elements that have been filtered out. In that case, the relationship is pruned for the references to the missing related elements. Therefore the database may contain different versions of a relationship with the same globalId (uuid of the relationship). To access the version of the relationship relevant for a bundle, it is necessary to give  both the bundleId and the relationshipId.</p> <p>The column for the relating_id may be null. Indeed for IfcRelAssociateMaterial, the relating material is in the relationship itself.</p>"},{"location":"data-model/physical-model/#related-membership","title":"Related Membership","text":"<p>The table expand the relationships with one row per related item in de relationship. This is more convenient for SQL based queries.</p> <p>As noted hereinabove the related membership exist for a combination of a bundleId and relationshipId (globalId of the relationship).</p> <p>For some relationships, there are no related item. This is the case for IfcRelSpaceBoundary for a virtual boundary.</p>"},{"location":"data-model/physical-model/#bundle-history","title":"Bundle History","text":"<p>If a bundle is dropped,</p> <ul> <li>the detailed data pertaining the bundle (object, relationhips, ...) are deleted</li> <li>the summary data of that bundle is moved to the history table. Therefore, the links to the source and transformed file(s) is maintained</li> </ul> <p>This is not activated and tested at this stage. It is more a placeholder to remember to address this topic more in depth</p>"},{"location":"data-model/physical-model/#elements-history","title":"Elements History","text":"<p>The idea is that each time an element is modified, the before update version is saved in this history.</p> <p>This is rarely used as in most cases we do not update IFC elements. However, as we create IfcSpatialZone elements, we can also update them with a PATCH. In that case, the before image of the modified IfcSpatialZone gets written in the Element History.</p>"},{"location":"data-model/physical-model/#bundle-unit-properties","title":"Bundle Unit Properties","text":"<p>Contains a flat structure of all units and their construction or distribution objects with all their propertysets or associated object type properties. This could be a in a file instead of a table and helps provide a fast response to a query on all properties that are relevant for the elements of a spatial zone associated to a spatial unit.</p> <p>There are properties :</p> <ul> <li>that are associated with a set of objects and are element of the IfcPropertySet type, e.g. Pset_DoorCommon associated via an IfcRelDefinesByProperties with elements of type IfcDoor, or</li> <li>that are associated to the type/style of an object and that are are not in the elements of type IfcPropertySet, e.g. an IfcDoor can have an IfcDoorStyle with hasProperties that reference an IfcDoorPanelProperties</li> </ul> <p>For propetyset we have:</p> <ul> <li>propertyset_id</li> <li>propertyset_name</li> <li>propertyset_json; in the json we have either properties in hasProperties or quantities in quantities</li> </ul> <p>For objectTypes we have:</p> <ul> <li>type_object_id</li> <li>type_object_type</li> <li>type_object_name</li> </ul> <p>For properties of objectTypes found in the 'hasProperties' and not in the propertyset, we have:</p> <ul> <li>properties_id</li> <li>properties_type</li> <li>properties_name</li> <li>properties_json</li> </ul>"},{"location":"data-model/properties/","title":"More on Properties and Quantities","text":""},{"location":"data-model/properties/#properties","title":"Properties","text":"<p>Properties in IFC are specific attributes or characteristics assigned to elements that describe their physical and functional aspects.</p> <p>Properties are grouped into property sets (Psets), which are collections of related properties. For example, a property set for a door might include properties like fire rating, material, and manufacturer.</p> <p>While IFC provides a set of predefined properties and property sets, users can also define custom properties to meet specific project requirements. This flexibility allows for the inclusion of unique attributes that are important for particular use cases.</p> <p>Additionally, properties combined with types make it possible to extend the class system as illustrated hereunder.</p> <p></p> <p>For intance, an IfcSpatialZone may be typed to be descriptive of specific attributes of a Land Administration Spatial Unit such as a Parking, a Private Apartment, Common part in a Condominium.</p> <p>So we could have:</p> <pre><code>flowchart TB\n    spatialZone[\"object: IfcSpatialZone\"]\n    spatialZoneType[\"object: IfcSpatialZoneType | Private Parts - Apartment\"]\n    propertySet[\"propertyset: Pset_B_logBook_PrivateApartment\"]\n    relDefinesByProperties[\"relationship: IfcRelDefinesByProperties\"]\n    relDefinesByType[\"relationship: IfcRelDefinedByType\"]\n    relDefinesByType -- relating --o spatialZoneType\n    relDefinesByType -- related --o spatialZone\n    relDefinesByProperties -- related --o spatialZone\n    relDefinesByProperties -- relating --o propertySet\n    spatialZoneType -- hasProperties --o propertySet</code></pre> <p>IfcSpatialZoneType</p> <pre><code>{\n  \"type\": \"IfcSpatialZoneType\",\n  \"globalId\": \"583ddead-dd04-4173-8a6b-bb8272551f4a\",\n  \"name\": \"Private Parts - Apartment\",\n  \"tag\": \"0003456\",\n  \"hasPropertySets\": [\n    {\n      \"type\": \"IfcPropertySet\",\n      \"ref\": \"36fea888-7a8f-4167-b00e-32dfb69fc9dc\"\n    }\n  ],\n  \"predefinedType\": \"NOTDEFINED\"\n}\n</code></pre> <p>Propertyset</p> <pre><code>{\n  \"type\": \"IfcPropertySet\",\n  \"globalId\": \"36fea888-7a8f-4167-b00e-32dfb69fc9dc\",\n  \"name\": \"Pset_B_logBook_PrivateApartment\",\n  \"hasProperties\": [\n    {\n      \"type\": \"IfcPropertySingleValue\",\n      \"name\": \"NbrSleepingRooms\",\n      \"nominalValue\": {\n        \"type\": \"IfcPositiveInteger\",\n        \"value\": 3\n      }\n    }\n  ]\n}\n</code></pre> <p>Typical types of nominalValue:</p> <ul> <li>IfcBinary</li> <li>IfcBoolean</li> <li>IfcDate</li> <li>IfcDuration</li> <li>IfcIdentifier</li> <li>IfcInteger</li> <li>IfcLabel</li> <li>IfcPositiveInteger</li> <li>IfcReal</li> <li>IfcText</li> </ul>"},{"location":"data-model/properties/#quantities","title":"Quantities","text":"<p>In the context of the Industry Foundation Classes (IFC) schema, IfcQuantities refer to a set of predefined measurable properties that describe the physical characteristics of building elements. These quantities are essential for various purposes, including cost estimation, material takeoff, and construction planning. Common types of quantities include length, area, volume, weight, and count. </p> <p>An IfcElementQuantity defines a set of derived measures of an element's physical property. Elements could be spatial structure elements (like buildings, storeys, or spaces) or building elements (like walls, slabs, finishes). The IfcElementQuantity gets assigned to the element by using the IfcRelDefinesByProperties relationship.</p> <p>There is also an IfcQuantitySet but unlike the IfcPropertySet, it is an abstract class.</p> <p>In the same way as IfcPropertySet, the IfcElementQuantity relates to the elements to which it applies as a relating element in the IfcRelDefinesByProperties</p> <pre><code>flowchart TB\n    spatialZone[\"object: IfcSpatialZone\"]\n    propertySet[\"propertyset: IfcElementQuantity\"]\n    relDefinesByProperties[\"relationship: IfcRelDefinesByProperties\"]\n    relDefinesByProperties -- related --o spatialZone\n    relDefinesByProperties -- relating --o propertySet</code></pre>"},{"location":"data-model/properties/#books","title":"Books","text":"<p>Many Land Administration examples in the book chapter hereunder</p> <p>BIM-Enabled 3D Digital Urban Land Administration -- New Era in Managing Cities in Rajabifard, A., et al. BIM and Urban Land Administration. 1st ed., CRC Press, 2019.</p>"},{"location":"data-model/references/","title":"References","text":""},{"location":"data-model/references/#books","title":"Books","text":""},{"location":"data-model/references/#bim-enabled-urban-land-administration","title":"BIM-Enabled Urban Land Administration","text":"<p>BIM-Enabled 3D Digital Urban Land Administration -- New Era in Managing Cities in Rajabifard, A., et al. BIM and Urban Land Administration. 1st ed., CRC Press, 2019, https://doi.org/10.1201/9781351032346</p>"},{"location":"data-model/references/#bim-ifc-based-3d-spatial-model-for-condominium-ownership","title":"BIM IFC-based 3D spatial model for condominium ownership","text":"<p>Liu, C., Zhu, H., Li, L., Ma, J., &amp; Li, F. (2023). BIM/IFC-based 3D spatial model for condominium ownership: A case study of China. Geo-Spatial Information Science, 27(5), 1638\u20131656. https://doi.org/10.1080/10095020.2023.2246518</p>"},{"location":"data-model/references/#building-information-modeling","title":"Building Information Modeling","text":"<p>Borrmann, A., Berkhahn, V. (2018). Principles of Geometric Modeling. In: Borrmann, A., K\u00f6nig, M., Koch, C., Beetz, J. (eds) Building Information Modeling. Springer, Cham. https://doi.org/10.1007/978-3-319-92862-3_2</p>"},{"location":"data-model/references/#papers","title":"Papers","text":""},{"location":"data-model/references/#indoor-navigation","title":"Indoor navigation","text":"<p>Indoor navigation supported by the Industry Foundation Classes (IFC): A survey</p>"},{"location":"data-model/references/#3d-spatially-enabled-land-administration-database","title":"3D spatially enabled land administration database","text":"<p>An IFC-based database schema for mapping BIM data into a 3D spatially enabled land administration database</p>"},{"location":"data-model/references/#ifc-to-citygml","title":"IFC to CityGML","text":"<p>Automatic conversion of IFC datasets to geometrically and semantically correct CityGML LOD3 buildings</p>"},{"location":"data-model/references/#3d-cadastre-ladm-geometry","title":"3D Cadastre LADM Geometry","text":"<p>The Extension of IFC For Supporting 3D Cadastre LADM Geometry</p> <p>The authors propose an extention to IFC but the IfcSpatialZone provides already for useful capabilities.</p>"},{"location":"data-model/references/#ifc","title":"IFC","text":""},{"location":"data-model/references/#ports-and-waterways","title":"Ports and Waterways","text":"<p>Ports And Waterways</p>"},{"location":"data-model/references/#railways","title":"Railways","text":"<p>Railways</p>"},{"location":"data-model/references/#roads","title":"Roads","text":"<p>Roads</p>"},{"location":"data-model/references/#ifc-materials","title":"IFC Materials","text":"<p>Materials / The official 4.3.2.0 documentation for \"IFC 4.3\".</p>"},{"location":"data-model/references/#ifcspace","title":"IFCSpace","text":"<p>IfcSpace - The official 4.3.2.0 documentation for \"IFC 4.3\".</p>"},{"location":"data-model/references/#ifcrelspaceboundary","title":"IfcRelSpaceBoundary","text":"<p>As documented in IfcRelSpaceBoundary - The official 4.3.2.0 documentation for \"IFC 4.3\".</p>"},{"location":"data-model/references/#ifczone","title":"IfcZone","text":"<p>As documented in IfcZone - The official 4.3.2.0 documentation for \"IFC 4.3\".</p>"},{"location":"data-model/references/#ifcspatialzone","title":"IfcSpatialZone","text":"<ul> <li>IfcSpatialZone - The official 4.3.2.0 documentation for \"IFC 4.3\".</li> <li>IfcSpatialZone PropertySets - The official 4.3.2.0 documentation for \"IFC 4.3\".</li> <li>IFC Spatial Zone Requirements and Implementation</li> </ul>"},{"location":"data-model/references/#ifcstyleditem","title":"IfcStyledItem","text":"<ul> <li>IfcStyledItem  - The official 4.3.2.0 documentation for \"IFC 4.3\"</li> </ul>"},{"location":"data-model/references/#ids","title":"IDS","text":"<p>Information Delivery Specification (IDS)</p> <p>Tools supporting IDS</p> <p>IDS on Github</p> <p>IDS example file: IDS_wooden-windows.ids</p>"},{"location":"data-model/references/#forums","title":"Forums","text":""},{"location":"data-model/references/#guids-in-a-bim-project","title":"GUIDs in a BIM Project","text":"<p>GUIDs in an BIM Project</p>"},{"location":"data-model/references/#technical-references","title":"Technical References","text":""},{"location":"data-model/references/#ifcopenshell-geometry","title":"IfcOpenShell Geometry","text":"<ul> <li>IfcOpenShell Geometry processing</li> <li>IfcOpenShell Geometry creation</li> </ul>"},{"location":"data-model/references/#voxelization-toolkit","title":"Voxelization Toolkit","text":"<p>Voxelization Toolkit</p>"},{"location":"data-model/references/#postgis-documentation","title":"PostGIS Documentation","text":"<p>PostGIS Documentation</p>"},{"location":"data-model/references/#geoalchemy2","title":"GeoAlchemy2","text":"<p>GeoAlchemy2</p>"},{"location":"data-model/references/#shapely","title":"Shapely","text":"<p>Shapely</p>"},{"location":"data-model/references/#geos","title":"GEOS","text":"<p>GEOS</p>"},{"location":"data-model/representations/","title":"Representations","text":""},{"location":"data-model/representations/#introduction","title":"Introduction","text":"<p>An IfcProduct may have a representation. The IfcRepresentationItem  conveys the geometry data and can take a variety of forms that each calls for specific technical handling. Indeed we have IfcBoundingBox, IfcExtrudedAreaSolid, IfcGeometricCurveSet, IfcFaceBasedSurfaceModel, ... to name a few.</p> <p>Aqs of IFC4, Tessellation is also available. This introduces a simple Mesh geometry where every shape is approximated by a set of non overlaping triangles.</p> <p>For administrative processes, It will be convenient - or necessary - to reduce the variety of representations used in the IFC that is submitted. Alternatively, applying IfcOpenshell tessellation might help.</p> <p>It is worth noting that in IFC5, Mesh geometry will be at the core (base/default geometry)  </p> <p>An overview of the IFC geometry is provided in Building Information Modeling.</p> <pre><code>flowchart TB\n    IfcObject --o IfcProduct\n    IfcProduct --o IfcElement\n    IfcProduct --o IfcSpatialElement\n    subgraph spatialelement\n        IfcSpatialElement --o IfcSpatialZone\n        IfcSpatialElement --o IfcSpatialStructureElement\n        IfcSpatialStructureElement --o spElem[\"IfcSite,&lt;br/&gt;IfcBuilding,&lt;br/&gt;IfcBuildingStorey,&lt;br/&gt;IfcSpace\"]\n    end \n    subgraph element\n        IfcElement --o IfcBuildingElement\n        IfcElement --o IfcDistributionElement\n        IfcBuildingElement --o elem[\"IfcWall,&lt;br/&gt;IfcSlab,&lt;br/&gt;IfcColumn,&lt;br/&gt;IfcBeam,&lt;br/&gt;IfcDoor,&lt;br/&gt;IfcWindow,&lt;br/&gt;...\"] \n    end \n    IfcProduct --o IfcProductRepresentation\n    subgraph representation\n        IfcProductRepresentation --o IfcProductDefinitionShape \n        IfcProductDefinitionShape --o IfcShapeRepresentation\n        IfcShapeRepresentation --o IfcRepresentationItem\n        IfcRepresentationItem --o IfcGeometricRepresentationItem\n        IfcGeometricRepresentationItem --o item[\"IfcBoundingBox,&lt;br/&gt;IfcExtrudedAreaSolid,&lt;br/&gt;IfcGeometricCurveSet,&lt;br/&gt;IfcFaceBasedSurfaceModel,&lt;br/&gt;IfcMappedItem,&lt;br/&gt;...&lt;br/&gt;,&lt;br/&gt;Tessellation&lt;br/&gt;\"] \n    end </code></pre>"},{"location":"data-model/representations/#representation-geometric-context","title":"Representation Geometric Context","text":"<p>The IfcGeometricRepresentationContext defines the context that applies to several shape representations of products within a project.</p> <p>It defines the type of the context in which the shape representation is defined, and the numeric precision applicable to the geometric representation items defined in this context.</p> <p>In addition it can be used to offset the project coordinate system from a global point of origin, using the WorldCoordinateSystem attribute. The main representation context may also provide the true north direction.</p> <p>There is also an IfcGeometricRepresentationSubContext which is used to define semantically distinguished representation types for different information content, dependent on the representation view and the target scale. </p> <p>It can be used to control the level of detail of the shape representation that is most applicable to this geometric representation context.</p> <p>In addition the sub context is used to control the later appearance of the IfcShapeRepresentation within a plot view.</p> <p>The IfcGeometricRepresentationSubContext has a TargetView attribute of type IfcGeometricProjectionEnum with the values:</p> <ul> <li>ELEVATION_VIEW</li> <li>GRAPH_VIEW</li> <li>MODEL_VIEW (should be provided)</li> <li>PLAN_VIEW</li> <li>REFLECTED_PLAN_VIEW</li> <li>SECTION_VIEW</li> <li>SKETCH_VIEW</li> <li>USERDEFINED</li> <li>NOTDEFINED</li> </ul> <p>More details are available at https://ifc43-docs.standards.buildingsmart.org/IFC/RELEASE/IFC4x3/HTML/lexical/IfcGeometricProjectionEnum.htm</p> <p></p>"},{"location":"data-model/representations/#processing","title":"Processing","text":"<p>In our workflow, the geometry is created in the AEC Tool and preserved along the tranformation so that it can be rendered in a standard Ifc Viewer. Up to a point, this appears as a non issue.  </p> <p>Ingress flow:</p> <pre><code>flowchart LR\n    AECTool --&gt; IFC\n    AecGeo[\"Create Geometry\"] --&gt; AECTool \n    IFC --&gt; Python \n    Python --&gt; IfcJSON\n    IfcJSON --&gt; Python\n    Python --&gt; DB \n    style AecGeo fill:#148F77</code></pre> <p>Egress flow:</p> <pre><code>flowchart LR\n    DB  --&gt; Python\n    Python --&gt; IfcJSON\n    IfcJSON --&gt; Python\n    Python --&gt; IFC\n    IFC --&gt; IfcViewer\n    ViewGeo[\"Visualize Geometry\"]\n    IfcViewer --&gt; ViewGeo\n    style ViewGeo fill:#148F77</code></pre> <p>That's fine, until we need to handle specific geometric aspects. Which is a requirement with most administrative processes. When we create an IfcSpatialZone, we will eventually need a represenation derived from IfcRelReferencedInSpatialStructure elements.</p> <p>There we have several possibilities to explore:</p> <ul> <li>Use IfcOpenShell Geometry in Python (Python wrapper above CGAL and OpenCascade); possibly also use the Voxelization capabilities</li> <li>Handle the geometry during the import &amp; transform</li> <li>Use PostGIS Geometry in the DB; PostGIS uses GEOS which can also be accessed via Shapely</li> <li>Use an external Tool when an Agent must perform adjustments</li> </ul> <p>Transformation flow:</p>"},{"location":"data-model/representations/#execute-a-tessellation-during-the-ingress-flow","title":"Execute a tessellation during the ingress flow","text":"<pre><code>flowchart LR\n    AECTool --&gt; IFC\n    AecGeo[\"Create Geometry\"] --&gt; AECTool \n    IFC --&gt; Python \n    Python --&gt; Tessellation\n    Tessellation --&gt; Python\n    Python --&gt; IfcJSON\n    IfcJSON --&gt; Python\n    Python --&gt; DB \n    style AecGeo fill:#148F77\n    style Tessellation fill:#a14b45</code></pre>"},{"location":"data-model/representations/#execute-tessellation-or-other-transformation-on-an-as-needed-basis","title":"Execute tessellation or other transformation on an as-needed basis","text":"<pre><code>flowchart TB\n    DbGeom[\"PostGIS Geometry\"]\n    DbGeom --&gt; DB\n    DB  -- Read IfcJSON --&gt; Python\n    Python -- Store IfcJSON --&gt; DB\n    IfcGeom[\"IfcOpenShell Geometry&lt;br/&gt;incl. tessellate\"] \n    IfcGeom --&gt; Python \n    Python -- Export --&gt; IFC\n    IFC -- Import in sub-bundle --&gt; Python\n    IFC &lt;-- Update --&gt; ExternalApp[\"External Application&lt;br/&gt;e.g. Blender with Bonsai\"]\n    IFC --&gt; IfcViewer\n    ViewGeo[\"Visualize Geometry\"]\n    IfcViewer --&gt; ViewGeo\n    style ViewGeo fill:#148F77\n    style IfcGeom fill:#a14b45\n    style DbGeom fill:#a14b45\n    style ExternalApp fill:#a14b45</code></pre>"},{"location":"data-model/representations/#impact-on-the-data-model","title":"Impact on the data model","text":"<p>With PostGIS, we only need to add a column of type Geometry.</p> <p>In the paper An IFC-based database schema for mapping BIM data into a 3D spatially enabled land administration database the authors have elected a model which maps key IFC entities and add a Geometry column to most of them.</p> <p>In our Physical Data Model, we have elected to keep the number of tables quite small.  We have one representation table to which we have added the Geometry column.</p> <p>Further to that, the intent is to use the Geometry Column only for a limited number of object types, starting with IfcSpace and IfcSpatialZone.</p> <p>In the IfcModels used as examples, we have observed a large variety of options used for representing an IfcSpace geometry. This variety will impact the mapping of the representation in the IfcJSON to the format used by PostGIS Geometry.</p> <p>What we have in the data model is</p> <pre><code>erDiagram\nobject {\n        int     bundleId \"part of PK\"\n        uuid    objectId \"part of PK\"\n        string  type\n        string  name\n        array   representationIds \"array of str(uuid)\"   \n        json    elementJson \"contains the object placement data\"\n\n    }\n    object ||--o{ representation : has\n\n    representation {\n        int         bundleId \"part of PK\"\n        uuid        representationId \"part of PK\"\n        string      type\n        json        elementJson \"contains the shape representation data\" \n        geometry    geom \"geometry column for PostGIS\"\n    }</code></pre>"},{"location":"data-model/representations/#technical-references","title":"Technical References","text":"<ul> <li>IfcOpenShell Geometry processing</li> <li>IfcOpenShell Geometry creation</li> <li>Voxelization Toolkit</li> <li>PostGIS Documentation</li> <li>GeoAlchemy2</li> <li>Shapely</li> <li>GEOS</li> </ul>"},{"location":"data-model/representations/#books","title":"Books","text":"<p>Borrmann, A., Berkhahn, V. (2018). Principles of Geometric Modeling. In: Borrmann, A., K\u00f6nig, M., Koch, C., Beetz, J. (eds) Building Information Modeling. Springer, Cham.</p>"},{"location":"data-model/spaces-zones-and-spatialzones/","title":"More on Ifc Spaces, Zones, Spatial Zone and Spatial Units","text":""},{"location":"data-model/spaces-zones-and-spatialzones/#introduction","title":"Introduction","text":""},{"location":"data-model/spaces-zones-and-spatialzones/#spaces-in-the-spatial-structure-of-a-construction","title":"Spaces in the Spatial Structure of a construction","text":"<p>As documented in The official 4.3.2.0 documentation for \"IFC 4.3\"., a space represents an area or volume bounded actually or theoretically. Spaces are areas or volumes that provide for certain functions within a building.</p> <p>A space is associated to a building storey (or in case of exterior spaces to a site). A space may span over several connected spaces. Therefore a space group provides for a collection of spaces included in a storey. A space can also be decomposed in parts, where each part defines a partial space. This is defined by the CompositionType attribute of the supertype IfcSpatialStructureElement which is interpreted as follow:</p> <ul> <li>COMPLEX = space group</li> <li>ELEMENT = space</li> <li>PARTIAL = partial space</li> </ul> <p></p> <p>In a building, a space will typically correspond to one of:</p> <ul> <li>a room (living room, kitchen, corridor, bathroom, ...)</li> <li>an office space</li> <li>a commercial surface</li> <li>a workshop</li> <li>a parking</li> </ul>"},{"location":"data-model/spaces-zones-and-spatialzones/#space-boundaries","title":"Space Boundaries","text":"<p>A space is delimited by physical or virtual boundaries.</p> <p></p> <p>As documented in The official 4.3.2.0 documentation for \"IFC 4.3\"., space boundaries are always defined as seen from the space. In general two basic types of space boundaries are distinguished:</p> <ul> <li>1st level space boundary: defined as boundaries of the space, not taking into account any change in building element or spaces on the other side.</li> <li>2nd level space boundary: defined as boundary taking any change in building element or spaces on the other side into account. It can be further distinguished into<ul> <li>2nd level type A: There is a space on the other side.</li> <li>2nd level type B: There is a building element on the other side.</li> </ul> </li> </ul> <p>The exact definition of how space boundaries are broken down depends on the view definition, more detailed conventions on how space boundaries are decomposed can only be given at the domain or application type level.</p> <p>In an architectural or FM related view, a space boundary is defined totally from inside the space. This is a 1st level space boundary.</p> <p>In a thermal view, the decomposition of the space boundary depends on the material of the providing building element and the adjacent spaces behind. This is a 2nd level space boundary.</p> <p>With the space boundary comes the connection geometry as illustrated by the figure below from the paper The Extension of IFC For Supporting 3D Cadastre LADM Geometry.</p> <p></p> <p>What this figure illustrates is that although the entire wall is referenced by the space boundary (via the IfcRelSpaceBoundary relationship between the space and the wall), there is also a  connection geometry that clearly delineates the boundary of the space with respect to the wall. The precise geometry is necessary for a 3D cadastre, and the surface can be used for the thermal analysis together with the properties of the wall and coverings.</p>"},{"location":"data-model/spaces-zones-and-spatialzones/#zones","title":"Zones","text":"<p>As documented in The official 4.3.2.0 documentation for \"IFC 4.3\".</p> <p>A zone is a group of spaces, partial spaces or other zones. These spaces may or may not be adjacent. A zone does not have its own shape representation.</p> <p>Zone structures may not be hierarchical, i.e. one individual IfcSpace may be associated with zero, one, or several IfcZone's. IfcSpace's are grouped into an IfcZone by using the objectified relationship IfcRelAssignsToGroup. For example, a zone might be used to represent an apartment as a group of spaces. Although the concept of Spatial Zone appears to to have more capabilities to support adminitrative processes, the IfcZone is also often considered in administrative processes as in BIM/IFC-based 3D spatial model for condominium ownership: A case study of China</p>"},{"location":"data-model/spaces-zones-and-spatialzones/#spatial-zones","title":"Spatial Zones","text":"<p>The Spatial Zone is a relatively recent addition to IFC.</p> <p>As documented in The official 4.3.2.0 documentation for \"IFC 4.3\". a spatial zone is a non-hierarchical and potentially overlapping decomposition of the project under some functional consideration.</p> <p>A spatial zone might have its independent placement and shape representation.</p> <p>A spatial zone might be used to represent</p> <ul> <li>a thermal zone</li> <li>a construction zone</li> <li>a lighting zone</li> <li>a security zone</li> <li>a usable area zone.</li> </ul> <p>Hence functional perspective(s) also accounted for in the defined PropertySets listed hereunder and documented in The official 4.3.2.0 documentation for \"IFC 4.3\".</p> <ul> <li>Pset_AirSideSystemInformation</li> <li>Pset_Risk</li> <li>Pset_SpaceAirHandlingDimensioning</li> <li>Pset_SpaceCommon</li> <li>Pset_SpaceCoveringRequirements</li> <li>Pset_SpaceFireSafetyRequirements</li> <li>Pset_SpaceHVACDesign</li> <li>Pset_SpaceLightingDesign</li> <li>Pset_SpaceOccupancyRequirements</li> <li>Pset_SpaceThermalLoad</li> <li>Pset_SpaceThermalLoadPHistory</li> <li>Pset_SpaceThermalPHistory</li> <li>Pset_SpatialZoneCommon</li> <li>Pset_ThermalLoad</li> <li>Pset_Tolerance</li> <li>Pset_Uncertainty</li> <li>Qto_BodyGeometryValidation</li> <li>Qto_SpatialZoneBaseQuantities</li> </ul>"},{"location":"data-model/spaces-zones-and-spatialzones/#link-to-spatial-units","title":"Link to Spatial Units","text":"<p>The Spatial Zone has AEC Uses Cases as illustrated in IFC Spatial Zone Requirements and Implementation.</p> <p>But it also appears to be a perfect candidate to provide the bridge between IFC and the Spatial Unit of LADM and related administrative domains of registering Rights, Responsibilities and Restrictions related to building or infrastructures. A number of examples are provided in BIM-Enabled 3D Digital Urban Land Administration</p> <p>Typically, the IfcSpatialZone will will be anchored to a root element (projet, site, building, storey, or infrastructure) with an ifcRelAggregates relationship, and collect all relevant items present in the IFC via one or more  IfcRelReferencedInSpatialStruture relationships.</p>"},{"location":"data-model/spaces-zones-and-spatialzones/#adding-spatial-zones-to-the-ifcs","title":"Adding Spatial Zones to the IFC's","text":"<p>The Spatial Zones (IfcSpatialZone) are a recent addition to the IFC specification. There are therefore not present in most IFC files.</p> <p>We propose to follow the specification of IFC 4 and relate the IfcSpatialZone to the other elements via the IfcRelReferencedInSpatialStructure relationship.</p> <p>As an example, we start by relating the IfcSpatialZone with the spaces. In this way, the IfcSpatialZone relates to composing IfcSpaces which in turn embark standard products such as IfcWall, IfcSlab, IfcDoor, IfcWindow, ... via the IfcRelSpaceBoundary relationship.</p> <pre><code>erDiagram\n    space\n    spatialZone [\"spatialZone (spatialUnit) : common part, parking, private apartment, office, shop, ...\"]\n    container [\"building or storey\"]\n    object[\"wall, slab, door, window,...\"]\n    propertySet [\"functional propertySets\"]\n    container ||--o{ spatialZone : \"aggregates (IfcRelAggregates)\"\n    container ||--o{ space : \"aggregates (IfcRelAggregates)\"\n    spatialZone ||--|{ space : \"referenced in spatial structure (IfcRelReferencedInSpatialStructure)\"\n    container ||--|{ object : \"contained in spatial structure (IfcRelContainedInSpatialStructure)\"\n    space }|--|{ object : \"bounded by (IfcRelSpaceBoundary)\"\n    propertySet }|--|{ object : \"applies to\"\n    propertySet }|--|{ space : \"applies to\"\n    propertySet }|--|{ spatialZone : \"applies to\"\n</code></pre> <p>This is one 'recipe' for a Spatial Zone. There may be many others 'recipes' depending on the needs: collect all technical data in a Spatial Zone that shadows the Spatial Unit linked to a BAUnit (Basic Administrative Unit) and provide all the tehnical data that is needed for the administrative process at hand.</p> <p>All these technical data can be conveyed by ad hoc propertySets. So that they will be available for display when selecting the corresponding element in an IFC Viewer.</p>"},{"location":"data-model/spaces-zones-and-spatialzones/#ifcspatialzone-for-private-parts-and-common-parts","title":"IfcSpatialZone for Private Part(s) and Common Part(s)","text":"<p>Within buildings with appartments or mixed occupancy types, there is typically two types of Spatial Zones:</p> <ul> <li>Private parts: mostly on a storey, but possibly spanning storeys</li> <li>Common parts: mostly distributed across storeys</li> </ul> <p>A SpatialZone for Private part(s) will</p> <ul> <li>relate to one Storey via an IfcRelAggregates relationship: by convention, the storey is that of the main entrance</li> <li>relate to all other storeys they are spanning  via an IfcRelReferencedInSpatialStructure</li> </ul> <p>A SpatialZone for Common parts will</p> <ul> <li>relate to the Building via an IfcRelAggregates relationship</li> <li>related to all other storeys via an IfcRelReferencedInSpatialStructure</li> </ul>"},{"location":"data-model/spaces-zones-and-spatialzones/#books","title":"Books","text":"<p>BIM-Enabled 3D Digital Urban Land Administration -- New Era in Managing Cities in Rajabifard, A., et al. BIM and Urban Land Administration. 1st ed., CRC Press, 2019.</p> <p>Liu, C., Zhu, H., Li, L., Ma, J., &amp; Li, F. (2023). BIM/IFC-based 3D spatial model for condominium ownership: A case study of China. Geo-Spatial Information Science, 27(5), 1638\u20131656.</p>"},{"location":"data-model/spatial-units/","title":"Spatial Units, Building Logbook and Technical Data","text":"<p>Hereunder a simplified model showing the high level relationship between the Land Admnistration (LA) concepts and the AEC technical data.</p> <pre><code>erDiagram\n    LA_Party\n    LA_BAUnit\n    LA_RRR\n    LA_SpatialUnit {\n        externalIDType id PK\n    }\n    spatialUnit_JunctionWith_LA_spatialUnit {\n        uuid id\n        uuid spatialUnitId\n        string external_id UK\n    }\n    spatialUnit {\n        uuid id PK\n    }\n    dataBundle [\"dataBundle: technical Data (e.g. IFC's)\"] {\n        uuid id PK\n    } \n\n    spatialUnitBundleUnit {\n        uuid id PK\n        uuid spatialUnitId FK\n        uuid bundleId FK\n        uuid bundleUnitId FK\n    }\n\n    bundleUnit {\n        uuid5   bundleunit_id PK  \"The Id as a hash of all columns except unitJson\"\n        int     bundle_id \"The Id of the bundle\"\n        uuid    unit_id \"The Id if the Object \"\n        string  unitType \"The type of the Object (e.g. IfcSpatiaZone)\"\n        string  unitName \"The name of the object (e.g. Apartment 01-09)\"\n        string  relationship_type \"The type of the relationship (e.g. 'IfcRelAggregates)\"\n        uuid    parent_id \"The Id of the Parent\"\n        string  parent_type \"The type of the parent (e.g. 'IfcBuildingStorey')\"\n        json    unitJson \"Information that is specific to the type\"\n    }\n\n    LA_Party }|--|{ LA_RRR : \"\"\n    LA_RRR }|--|| LA_BAUnit : \"\"\n    LA_BAUnit }|--|{ LA_SpatialUnit : \"\"\n    DBL_Digital_Building_LogBook ||..|{ LA_SpatialUnit : \"\"\n    spatialUnit_JunctionWith_LA_spatialUnit }|--|| LA_SpatialUnit : \"\"\n    spatialUnit_JunctionWith_LA_spatialUnit }|--|| spatialUnit : \"\"\n    spatialUnit ||--|{ spatialUnitBundleUnit: \"\"\n    bundleUnit  ||--|{ spatialUnitBundleUnit: \"\" \n    dataBundle ||--|{ bundleUnit: \"\"\n</code></pre> <p>LA_Party, LA_RRR, LA_BAUnit, LA_SpatialUnit and DBL_Digital_Building_LogBook are placeholders for external concepts that are highly relevant for the Use Cases supported / enabled by the D4SU platform but are not included in the scope of the  D4SU platform and supporting database.</p> <p>LA_Party, LA_RRR, LA_BAUnit, LA_SpatialUnit are part of the Land Administration Domain Model (LADM) ISO 19152-1:2024.</p> <p>The initial focus of LADM is the Cadastral Registration of LAND (with a large and diverse meaning of any 'spatial extent that is defined by RRRs [via baunit] and encompass the surface of the earth, strata, sub-strata or the marine environment'). But as noted in the introduction to D4SU, the concept can be applied to BAUnit that are not related to the Cadastral Registration such as e.g., Energy Effiency of Buidlings or Housing Regulation.</p> <p>According to its Definition, the Digital Building Logbook (DBL) is a common repository for all relevant building data. It facilitates transparency, trust, informed decision making and information sharing within the construction sector, among building owners and occupants, financial institutions and public authorities. The Technical guidelines for digital building logbooks has favored options where:</p> <ul> <li>The information is \u201cpulled\u201d by the DBL from the data source</li> <li>Storage in the DBL would rely on CKAN. The Comprehensive Knowledge Archive Network (CKAN) is an open-source open data portal for the storage and distribution of open data.</li> </ul> <p>The Figure 32: Properties for buildings extracted from the Technical guidelines for digital building logbooks report and shown hereinunder makes clear the the DBL will benefit from readily available and accessible information from technical information such as provided by BIM/IFC or other source that would be supported by the D4SU.</p> <p></p> <p>The purpose of the D4SU platform is to enable the provision of an API to provide data based responses to request for information (technical data) from an administrative process (possibly supported/faciliated by the DBL).</p> <p>Typically, SpatialUnits will include:</p> <ul> <li>The land on which the building is built (Cadastral Ground Parcel)</li> <li>The Building itself (Whole Building)</li> <li>The Commmon Parts (or Shared Unit)</li> <li>The Private Parts (Private Building Unit) whether used for Housing, Commercial,  Office, Industrial or Parking purpose</li> </ul> <p>The following Table extracted from the paper Evaluation of the International 3D Geospatial Data Models and IFC Standard for Implementing an LADM-based 3D Digital Cadastre provide some suggestions on the level of the link between the LADM Spatial Unit and concepts from other source (CityGML, IFC, IndoorGML, InfraGML).</p> <p>What we refer to as a SpatialUnit is actually any entry of the first column (hence: SpatialUnit, SpatialUnitGroup, Level (Storey), ...).</p> <p></p> <p>The paper Mapping private, common, and exclusive common spaces in buildings from BIM/IFC to LADM. A case study from Saudi Arabia brings an in depth view of the relationships between the technical data of the IFC model and the Spatial Units of LADM for a variety of cases. We show hereunder two views, one for apartments and one for common parts that illustrates capabilities that will need to be supported by the d4SU platform.</p> <p>View of Spaces corresponding to apartements</p> <p></p> <p>View of Spaces corresponding to Common parts</p> <p></p> <p>On the above figures, Spatial Units are limited to the representations (3D Spaces), whereas, more may be needed and adding all relevant construction and distribution elements will be proposed instead.</p>"},{"location":"data-model/styles/","title":"Object Styles","text":"<p>In IFC, styles can be applied to objects by assigning them visual rendition properties via a material presentation assignment or a geometry presentation assignment  as depicted by the figure below.</p> <p></p> <p>The pitotal element is the IfcStyledItem</p> <p>According to the IfcStyledItem defintion:</p> <p>The IfcStyledItem holds presentation style information for products, either explicitly for an IfcGeometricRepresentationItem being part of an IfcShapeRepresentation assigned to a product, or by assigning presentation information to IfcMaterial being assigned as other representation for a product.</p> <ul> <li>If the IfcStyledItem is used within a reference from an IfcProductDefinitionShape then one Item shall be provided.</li> <li>If the IfcStyledItem is used within a reference from an IfcMaterialDefinitionRepresentation then no Item shall be provided.</li> </ul> <p>As shown on the figure the IfcGeometricRepresentationItem is ABSTRACT. Hence, it is not used as such and instead a 'non abstract' item will be used.</p> <p>It can be an: (this is not limitative)</p> <ul> <li>\"IfcBooleanClippingResult\"</li> <li>\"IfcBoundingBox\"</li> <li>\"IfcExtrudedAreaSolid\"</li> <li>\"IfcFaceBasedSurfaceModel\"</li> <li>\"IfcFacetedBrep\"</li> <li>\"IfcGeometricCurveSet\"</li> <li>\"IfcGeometricSet\"</li> <li>\"IfcIndexedPolyCurve\"</li> <li>\"IfcMappedItem\"</li> <li>\"IfcPolygonalFaceSet\"</li> </ul>"},{"location":"data-model/styles/#impact-on-ifcjson","title":"Impact on IfcJSON","text":"<p>They are not handled by the IfcJSON framework and we have adapted the code to account for styling.</p> <p>Styles are not critical for most Administrative Procedures which will mainly use PropertySets. However, we are used to a nice rendition and it is a convenient addition.</p>"},{"location":"data-model/styles/#example-of-link-between-a-door-and-a-style","title":"Example of link between a Door and a Style","text":"<p>This example is extracted from an IFC2X3 files and contains a IfcDoorStyle. In IFC4, it would be an IfcDoorType, but the relationships would be the same.  This example is provided to understand the role of the IfcRelDefinesByType and IfcStyledItems in assigning a color to the door.</p> <pre><code>erDiagram\n    item_93 [\"#93 IfcDoor\"]\n    item_199 [\"#199 IfcRelDefinesByType\"]\n    item_196 [\"#196 IfcDoorStyle\"]\n    item_69 [\"#69 IfcRepresentationMap\"]\n    item_68 [\"#68 IfcShapeRepresentation\"]\n    item_60 [\"#60 IfcExtrudedAreaSolid\"]\n    item_182 [\"#182 IfcStyledItem\"]\n    item_181 [\"#181 IfcPresentationStyleAssignment\"]\n    item_180 [\"#180 IfcSurfaceStyle\"]\n    item_179 [\"#179 IfcSurfaceStyleRendering\"]\n    item_178 [\"#178 IfcColourRgb\"]\n    item_92 [\"#92 IfcProductDefinitionShape\"]\n    item_72 [\"#72 IfcShapeRepresentation\"]\n    item_71 [\"#71 IfcMappedItem\"]\n    item_93 ||--|| item_92 : \"\"\n    item_92 ||--|| item_72 : \"\"\n    item_72 ||--|| item_71 : \"\"\n    item_71 ||--|| item_69  : \"\"\n    item_199 ||--|{ item_93 : \"\"\n    item_199 ||--|| item_196 : \"\"\n    item_196  ||--|| item_69 : \"\"\n    item_69 ||--|| item_68 : \"\"\n    item_68 ||--|| item_60 : \"\"\n    item_182 ||--|| item_60 : \"\"\n    item_182 ||--|{ item_181 : \"\"\n    item_181 ||--|| item_180 : \"\"\n    item_180 ||--|| item_179 : \"\"\n    item_179 ||--|| item_178 : \"\" \n    style item_182 fill:teal\n    style item_199 fill:teal</code></pre>"},{"location":"features/conversion-from-cityjson-to-ifc/","title":"Conversion from CityJson to IFC","text":"Feature Group: Convert, Host | IfcOpenShell <p>  The capability exists (with issues) but the use case should be clarified/investigated. Not for production in the current state </p>"},{"location":"features/conversion-from-cityjson-to-ifc/#intro","title":"Intro","text":"<p>Under the umbrella of IfcOpenShell, there is also the conversion from CityJSON to IFC. IFCCityJSON one way from CityJSON to IFC.</p> <p>Documentation is available on IfcOpenShell Documentation / IfcCityJSON.</p> <p>There is an example file with two schematic buildings in Getting started with CityJSON. The file is twobuildings.city.json</p>"},{"location":"features/conversion-from-cityjson-to-ifc/#installation","title":"Installation","text":"<p>Installation steps from the ifccityjson doc</p> <ol> <li>cd /path/to/IfcOpenShell/src/ifccityjson</li> <li>pip install</li> </ol>"},{"location":"features/conversion-from-cityjson-to-ifc/#submit-the-procesing-request","title":"Submit the procesing request","text":"<pre><code>#\n#  Convert a CityJSON to IFC\n#\nclass CityJsonToIfc_Instruction(BaseModel):\n    sourceFileURL: str | None = \"http://localhost:8002/CONVERSION_OUTFILES/CityJSON/twobuildings.city.json\"\n\nclass CityJsonToIfc_Result(BaseModel):\n    resultPath: str # relative path of the result file (ifc)\n    runtime: float | None = 0.0 # in seconds\n</code></pre>"},{"location":"features/conversion-from-cityjson-to-ifc/#examples","title":"Examples","text":""},{"location":"features/conversion-from-cityjson-to-ifc/#conversion-of-twobuildingscityjson","title":"Conversion of twobuildings.city.json","text":"<p>The conversion of that file works seamlessly</p> <p></p> <p>Issue</p> <p>The conversion of twobuildings.city.json produces an ifc file but ThatOpen can't open it and BIMcollab display has issues. Only OpenIFCViewer can handle it.</p> <p>Issue</p> <p>The conversion to IFC of the file generated by the conversion from IFC to CityJSON for Duplex_A_20110907_optimized stumble on errors.</p>"},{"location":"features/convert-ifc-to-ifcjson/","title":"Convert IFC to IfcJSON","text":"<p>Feature Group(s): Convert  | IfcOpenShell / IfcJSON</p>"},{"location":"features/convert-ifc-to-ifcjson/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>#\n# Convert an IFC to IFCJSON with IFC2JSON\n#\nclass ConvertIfcToIfcJson_Instruction(BaseModel):\n    sourceFileURL: str | None = \"http://localhost:8002/IFC_SOURCE_FILES/Duplex_A_20110907_optimized.ifc\"\n    mode: Literal ['NO_INVERSE', 'INVERSE', 'STYLED'] | None = 'STYLED'\n\nclass ConvertIfcToIfcJson_Result(BaseModel):\n    rootObjectId: str\n    rootObjectType: str\n    rootObjectName: str \n    resultPath: str # relative path of the result file (json)\n    runtime: float | None = 0.0 # in seconds\n</code></pre>"},{"location":"features/convert-ifc-to-ifcjson/#create-the-ifcjson-with-ifc2json","title":"Create the ifcJSON with IFC2JSON","text":"<p>There are 3 modes:</p> <ul> <li>NO_INVERSE: does not add inverse relationships; does not keep the styles</li> <li>INVERSE: adds inverse relationships; does not keep the styles</li> <li>STYLED: same as NO_INVERSE but keeps the styles defined in the IFC; this ensures rendition fidelity but has a processing cost that is not always useful.</li> </ul> <p>The result provides information on the rootObject which expectedly is an IfcProject.</p>"},{"location":"features/convert-ifc-to-ifcjson/#issues-non-blocking-but-will-need-a-follow-up","title":"Issues (non blocking; but will need a follow-up)","text":"<p>Note</p> <p>Error with IfcExternalReference not supported. When present, I get the following error: 'AttributeError(\"entity instance of type 'IFC4.IfcExternalReference' has no attribute 'wrappedValue'\")</p> <p>Note</p> <p>with NO_INVERSE = False for LARGE_MODEL_20210219Architecture.ifc, the program got stuck somewhere. I stopped after 23m 53.2s</p>"},{"location":"features/convert-ifc-to-other-formats/","title":"Convert IFC to glTF, COLLADA or CityJSON with IfcConvert","text":"Feature Group: Convert, Host | IfcOpenShell / IfcConvert"},{"location":"features/convert-ifc-to-other-formats/#introduction","title":"Introduction","text":"<p>Different conversions are available with IfcConvert (part of IfcOpenShell) and detailed in IfcConvert - Usage</p> <p>This includes:</p> <ul> <li>Collada (.dae). 3D models of buildings, bridges, monuments can be imported in KML (Key Markup Language) with the COLLADA interchange file format. This means the model can be displayed on Google Earth or Cesium.</li> <li>glTF (.glb). Same as above with a new format. Supported in Cesium.</li> <li>CityJson. A recent addition to the IfcConvert stack. The CityJSON model can be imported in Geo products designed to manage and render CityGML models. E.g. 3DCityDB which also can import Collada and glTF files.</li> </ul>"},{"location":"features/convert-ifc-to-other-formats/#caveats","title":"Caveats","text":"<p>IfcConvert is not a library but an executable that needs to be run from a Celery task in a subprocess.</p> <p>Because multiple types of issues can occur, a timeout is configured on the subprocess to avoid that the Celery worker gets stuck.</p> <p>The timeout if defined in the request with a default of 60 sec and has configured lower and uper bounds.</p> <p>When the bundleId and the unitId are provided, the converted file can be registered in the database in the unitjson column of the bundleunit.</p> <pre><code>#\n#  Convert an IFC to glTF, COLLADA or CityJSON\n#\nclass IfcConvert_Instruction(BaseModel):\n    sourceFileURL: str | None = NONE_IFC_URL\n    targetFormat: Literal['glTF','COLLADA','CityJSON']\n    timeout: Optional[int] = Field(60, ge=30, le=180)\n    bundleId: str | None = None\n    unitId: str | None = None\n\nclass IfcConvert_Result(BaseModel):\n    resultPath: str # relative path of the result file (gltf, dae, or json)\n    runtime: float | None = 0.0 # in seconds\n</code></pre>"},{"location":"features/convert-ifc-to-other-formats/#examples","title":"Examples","text":""},{"location":"features/convert-ifc-to-other-formats/#conversion-of-duplex_a_20110907_optimizedifc-to-collada","title":"Conversion of Duplex_A_20110907_optimized.ifc to Collada","text":"<p>With Online 3D Viewer</p> <p></p>"},{"location":"features/convert-ifc-to-other-formats/#conversion-of-duplex_a_20110907_optimizedifc-to-gltf","title":"Conversion of Duplex_A_20110907_optimized.ifc to glTF","text":"<p>Same viewer</p> <p></p>"},{"location":"features/convert-ifc-to-other-formats/#conversion-to-gltf-of-duplex-a-apartment-extracted-as-a-spatialzone-from-duplex_a_20110907_optimized","title":"Conversion to glTF of Duplex-A (apartment) extracted as a SpatialZone from Duplex_A_20110907_optimized","text":"<p>Same but with some meshes hidden in Online 3D Viewer to see the inside of the apartment</p> <p></p>"},{"location":"features/convert-ifc-to-other-formats/#conversion-to-cityjson","title":"Conversion to CityJSON","text":"<p>This originates from the paper Automatic conversion of IFC datasets to geometrically and semantically correct CityGML LOD3 buildings  (../features/references.md#ifc-to-citygml).</p> <p>The code was originally published on https://github.com/tudelft3d/ifc2citygml, thenafter on https://github.com/tudelft3d/esri_geobim, then enventually made available under the umbrella of IfcOpenShell on https://github.com/IfcOpenShell/ifc-to-cityjson.</p> <p>The functionality has been integrated into IfcConvert. Downloads are available at IfcConvert Download</p> <p>The CityJSON version outputted is 1.0 and is outdated. It is possible to upgrade the version to 2.0 with the cityjson toolkit cjio There is also an online CityJSON Validator.</p>"},{"location":"features/convert-ifc-to-other-formats/#conversion-of-duplex_a_20110907_optimizedifc-to-cityjson","title":"Conversion of Duplex_A_20110907_optimized.ifc to CityJSON","text":"<p>With ninja viewer of which the code is available on github</p> <p></p>"},{"location":"features/convert-ifc-to-other-formats/#issue-conversion-of-ifc_schependomlaan-from-ifc-to-cityjson-failed","title":"Issue: Conversion of IFC_Schependomlaan from IFC to CityJSON failed","text":"<pre><code>Last login: Thu Oct 24 22:21:23 on ttys042\nIfcOpenShell IfcConvert 0.7.11-03935a91d (OCC 7.5.3)\nScanning file...\nDone scanning file   \nCGAL error: assertion violation!\nExpression : \nFile       : /Users/hetzner/IfcOpenShell_v0.8.0/build/Darwin/arm64/10.9/install/cgal-5.3/include/CGAL/Nef_3/SNC_const_decorator.h\nLine       : 276\nExplanation: it is not possible to decide which one is a visible facet (if any)\nRefer to the bug-reporting instructions at https://www.cgal.org/bug_report.html\n</code></pre> <p>The conversion completes reasonably fast on relatively simple models.</p> <p>For complex models such as IFC_Schependomlaan or ARK_NordicLCA_Housing_Concrete_BuildingPermit_Revit, running the conversion on the extracted envelope was not successful either.</p>"},{"location":"features/create-floor-plans/","title":"Create Floor Plans","text":"Feature Group: Host <p>TO DO</p> <p>See BATCHPLAN: A LARGE SCALE SOLUTION FOR FLOOR PLAN EXTRACTION</p> <p>Code on Github</p>"},{"location":"features/create-spatial-unit-spatialZone/","title":"Create SpatialZones - Apartments or Common Parts","text":"Feature Group: Store | PostgreSQL <p>This is provided by Read and Write access to the Data Base</p>"},{"location":"features/create-spatial-unit-spatialZone/#create-the-spatialzone","title":"Create the SpatialZone","text":"<p>Before we can extract a SpatialZone, we need to have one. We could expect that this is readily available. It would be fine indeed. But even if that would be the case, say for the Building Permit or for the Cadaster Registration, there could be cases where the SpatialZone should be created on an ad hoc basis to respond to specific needs.</p> <p>As suggested in Data Model Spaces, Zones and SpatialZones a SpatialZone can be viewed as a non hierarchichal collection of Spaces related by the IfcRelReferencedInSpatialStructure relationship.</p>"},{"location":"features/create-spatial-unit-spatialZone/#step-1-export-the-spaces","title":"Step-1: Export the Spaces","text":"<p>This is done in Export Spaces from a Bundle.</p> <p>On that basis, there is a csv (or alternatively a json) with all the spaces and with columns to add information for the corresponding SpatialZones.</p>"},{"location":"features/create-spatial-unit-spatialZone/#step-2-a-user-fills-the-csv-with-the-data-for-the-spatial-zones","title":"Step 2: A user fills the csv with the data for the Spatial Zones","text":"<p>The correspondance with the SpatialZones is filled by a user in the csv List of Spaces in IFC Schependomlaan with their corresponding SpatialZones</p> <p>SpatialZones have a type that determines if their are linked to the site, the building or the storey. This is configurable.</p> <p>Hereunder an example:</p> SpatialZone Type Linked to Private Parts - Apartment Storey Private Parts - Multistorey Apartment Building Common Parts Building Internal Parking Building External Parking Site <p>In our use case we have two types of SpatialZones:</p> <ul> <li>Private Parts - Apartment; are linked to their storey with an IfcRelAggregates relationship and with their spaces with an IfcRelReferencedInSpatialStructure relationship</li> <li>Common Parts; are linked to the building with an IfcRelAggregates and with their spaces with an IfcRelReferencedInSpatialStructure relationship</li> </ul>"},{"location":"features/create-spatial-unit-spatialZone/#step-3-the-csv-with-the-spatialzones-is-submitted-via-a-request","title":"Step 3: The csv with the SpatialZones is submitted via a request","text":"<p>See next section.</p>"},{"location":"features/create-spatial-unit-spatialZone/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>class CreateSpatialZonesInBundle_Instruction(BaseModel):\n    bundleId: str | None = \"1\"\n    spatialZoneGivenType: Literal['IfcSpatialZone','IfcZone','IfcGroup'] | None = 'IfcSpatialZone'\n    hasRepresentation: bool | None = False\n    # This could/should be an URL from an Integration store\n    sourceFileURL: str | None = \"http://localhost:8002/SPACES/CSV/Duplex_A_20110907_optimized_spaces_with_spatialzones.csv\"\n    @model_validator(mode='before')\n    def has_representationage_only_for_spatialzone(cls, values):\n        given_type = values.get(\"spatialZoneGivenType\")\n        has_representation = values.get(\"hasRepresentation\")\n        if given_type != 'IfcSpatialZone' and has_representation:\n            raise ValueError(\"hasRepresentation is only for IfcSpatialZone\")\n        return values\n\nclass CreateSpatialZonesInBundle_Result(BaseModel):\n    resultPath: str # relative path of the result file (json) with the spatial zones\n    runtime: float | None = 0.0 # in seconds\n\n# The Information for each spatial zone will be as listed hereunder \nclass SpatialZone(BaseModel):\n    spatialZoneId: str\n    spatialZoneName: str\n    spatialZoneLongName: str\n    spatialZoneType: str\n</code></pre> <p>The key elements are:</p> <ul> <li>bundleId that identifies the construction data set from which space have been exported and associated with their corresponding spatial zones.</li> <li>spatialZoneGivenType which can also be a Group or a Zone being used as a 'proxy' for the SpatialZone.</li> <li>hasRepresentation which can be True or False. True means that a representation will be build for the SpatialZone. The current version does not handle the locations and this feature is not ready for use.</li> <li>sourceFileURL which provides the URL of the csv with the correspondence being made such as in List of Spaces in IFC Schependomlaan with their corresponding SpatialZones.</li> </ul>"},{"location":"features/create-spatial-unit-spatialZone/#processing-the-request","title":"Processing the request","text":"<p>This triggers the creation of the Spatial Zones and of their association with the Spaces</p> <p>The creation of the corresponding IfcSpatialZones and of their link to the IfcBuildingStorey or the IfcBuilding can be done directly in the database:</p> <ul> <li>insert into object the IfcSpatialZones</li> <li>insert into relationship with type IfcRelAggregates the list of related IfcSpatialZone with the relating IfcBuildinStorey or IfcBuilding</li> <li>insert into relatedmembership one row for each related IfcSpatialZones in the IfcRelAggregates relationship</li> </ul> <p>Then, for each SpatialZone, we can create the link between the related IfcSpace and the IfcSpatialZone of the apartment.</p> <ul> <li>insert into relationship with type IfcRelReferencedInSpatialStructure the list of related IfcSpaces with the relating IfcSpatialZone</li> <li>insert into relatedmembership one row for each related IfcSpace in the IfcRelReferencedInSpatialStructure relationship</li> </ul> <p>We then have created the IfcSpatialZone with the scheme</p> <pre><code>erDiagram\n    space\n    spatialZone [\"spatialZone (spatialUnit) : Private Parts - Apartment or Common Parts\"]\n    container [\"Building or Storey\"]\n    object[\"wall, slab, door, window,...\"]\n    container ||--o{ spatialZone : \"IfcRelAggregates\"\n    container ||--o{ space : \"IfcRelAggregates\"\n    spatialZone ||--|{ space : \"IfcRelReferencedInSpatialStructure\"\n    container ||..|{ object : \"no IfcRelContainedInSpatialStructure\"\n    space }|--|{ object : \"IfcRelSpaceBoundary\"\n</code></pre>"},{"location":"features/create-spatial-unit-spatialZone/#examples","title":"Examples","text":""},{"location":"features/create-spatial-unit-spatialZone/#create-spatialzones-for-ifc-schependomlaan","title":"Create SpatialZones for IFC Schependomlaan","text":"<p>Schependomlaan has 10 apartments and some common parts. Each apartment is located on a single floor (IfcBuildingStorey). We can create an Apartment as a SpatialZone (or alternatively as a Zone or Group) by identifying all spaces that are part of this apartment.</p> <p>We assume that the exported data in the csv have been handled and that the correspondence between Spaces and SpatialZones have been given in an updated csv file that is available, in principle, via the Integration Platform, but other scenarios could be considered.  </p> <p>See List of Spaces in IFC Schependomlaan with their corresponding SpatialZones.</p> <p>Then, a request as defined above can be made to create the SpatialZones in the Bundle.</p> <ul> <li>Common Parts are linked to the Building</li> <li>Private Parts - Apartment are linked to the Storey </li> </ul>"},{"location":"features/create-spatial-unit-spatialZone/#create-spatialzones-for-duplex_a_20110907_optimized","title":"Create SpatialZones for Duplex_A_20110907_optimized","text":"<p>This example has two duplex apartments.</p> <p>View of Duplex_A_20110907_optimized.ifc with Solibri Anywhere</p> <p></p> <p>The first duplex has spaces A1xx on the first floor and A2xx on the second floor. The second duplex has spaces B1xx on the first floor and B2xx on the second floor.</p> <p>The process to create the SpatialZones is the same as for IFC Schependomlaan here above.</p> <p>We have two types of SpatialZones:</p> <ul> <li>Private Parts - Multistoreys Apartment; are linked to the building with an IfcRelAggregates relationship and with their spaces with an IfcRelReferencedInSpatialStructure relationship</li> <li>Common Parts; are linked to the building with an IfcRelAggregates and with their spaces with an IfcRelReferencedInSpatialStructure relationship</li> </ul>"},{"location":"features/create-spatial-unit-spatialZone/#display-of-spatialzones","title":"Display of SpatialZones","text":"<p>SpatialZones are relatively new and are not supported seamlessly by all Ifc Viewers. Rendition is problematic with OpenIFCViewer, That Open (Web) and BIMCollab Zoom. Only Solibri Anywhere can handle IfcSpatialZones at a basic level. For convenience, the CreateSpatialZonesInBundleInstruction allows for use of IfcZone or IfcGroup to represent an IfcSpatialZone.</p> <p>That Open (Web) could be updated to handle IfcSpatialZone and this would be possible since the code (Typescript) is in Open Source and readily available.</p> <p>Hereunder, we display the structure shown by Solibri Anywhere.</p> <p></p> <p>At the Building level, we have linked a SpatialZone that federates all Spaces that are not in one of the 10 apartments. The SpatialZone is visible at the right level on the MODEL TREE but the INFO/Relations view displays limited information.</p> <p>When going to one of the Spaces in the SpatialZone, we don't see any reference to the SpatialZone in the  INFO/Relations view.</p> <p></p>"},{"location":"features/create-spatial-unit-spatialZone/#spatialzone-representation","title":"SpatialZone Representation","text":"<p>TO DO</p> <p>An IfcSpatialZone can have a representation.</p> <p>Logically, it could be the Union of the volumes of the federated IfcSpaces. This requires some geometry operations that are not yet done.</p>"},{"location":"features/create-spatial-unit-spatialZone/#complement-the-bundleunit-data","title":"Complement the bundleUnit data","text":"<pre><code>flowchart TB\n    bundle\n    bundleJournal\n    bundleUnit[\"bundleUnit: root\"]\n    spatialUnitBundle\n    spatialUnit[\"spatialUnit: root\"]\n    spatialUnitUnderRoot[[\"Not Yet Paired&lt;br/&gt;spatialUnits: Site(s),&lt;br/&gt;Building(s),&lt;br/&gt;Storey(s),&lt;br/&gt;Apartment(s),&lt;br/&gt;Common(s)\"]]\n    spatialUnit --o spatialUnitUnderRoot\n    spatialUnitBundle --o bundleUnit\n    spatialUnitBundle --o spatialUnit\n    bundle --o bundleUnit\n    bundle --o bundleJournal\n    bundleUnit --o bundleUnitSite[\"bundleUnit: site\"]\n    bundleUnitSite --o bundleUnitBuilding[\"bundleUnit: building\"]\n    bundleUnitBuilding --o bundleUnitStorey[\"bundleUnit: storey\"]\n    bundleUnitBuilding --o bundleUnitSpUnitCommon[\"bundleUnit: SpatialZone - Common Parts\"]\n    bundleUnitSpUnitCommon -- referenced --o bundleUnitSpaceCommon[\"bundleUnit: common spaces: stairs, lift, ...\"] \n    bundleUnitStorey[\"bundleUnit: storey\"] --o bundleUnitSpaceCommon\n    bundleUnitStorey --o bundleUnitSpacePrivate[\"bundleUnit: apartment space: living room, kitchen, ...\"] \n    bundleUnitStorey --o bundleUnitSpUnitPrApartment[\"bundleUnit: SpatialZone - Private Parts | Apartment\"]\n    bundleUnitSpUnitPrApartment -- referenced --o  bundleUnitSpacePrivate</code></pre>"},{"location":"features/create-spatial-unit-spatialZone/#lists","title":"Lists","text":""},{"location":"features/create-spatial-unit-spatialZone/#list-of-spaces-with-the-corresponding-spatialzones-of-ifc-schependomlaan","title":"List of Spaces with the corresponding SpatialZones of IFC Schependomlaan","text":"space_id space_name space_longname spatialzone_name spatialzone_longname spatialzone_type storey_id storey_name building_id building_name parent_id parent_name parent_type parent_longname d4141660-7677-49d8-9cc1-d96d80b0618a 1.00 entree 00.01 Apartment 00.01 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 0e44feae-35d6-452c-ae59-fd5d4479e2ae 1.01 mk 00.01 Apartment 00.01 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 255e8da7-f833-4cd6-b9fc-51b4df1ee11e 1.02 toilet 00.01 Apartment 00.01 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 4e60658c-4a93-4fe1-b642-7aaabfeb8fe9 1.02 toilet 00.01 Apartment 00.01 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan db806df3-e245-4a16-9858-358843d58be5 1.03 woonkamer 00.01 Apartment 00.01 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 5c1788cb-3b4f-491f-942f-512f732223eb 1.04 keuken 00.01 Apartment 00.01 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan f0028917-8d2b-4483-8d15-286079cfe653 1.05 slaapkamer 00.01 Apartment 00.01 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 13badbc8-ddd4-4574-b2e6-634d636ed980 1.06 badkamer 00.01 Apartment 00.01 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 1912449b-86a3-4985-99fb-4f29e1670d92 1.07 instal. ruimte 00.01 Apartment 00.01 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 26255731-3eab-4760-befa-6dd126309bd4 10.00 entree 03.10 Apartment 03.10 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan a2cbf3b3-67ff-429d-8306-f578c314b4f4 10.01 mk 03.10 Apartment 03.10 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 99979f8b-4e97-483b-905c-b454eb11daac 10.02 toilet 03.10 Apartment 03.10 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 2f423a09-aed5-4541-a5db-5c2538242ef5 10.03 woonkamer 03.10 Apartment 03.10 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 37afb7b7-8853-43c5-a36f-5c397ea907d4 10.04 keuken 03.10 Apartment 03.10 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 53d5628c-940e-4e24-9a47-252094299e17 10.05 slaapkamer 03.10 Apartment 03.10 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 42d94669-d1ee-4d3f-9fe1-13a21e8915d4 10.06 onben. ruimte 03.10 Apartment 03.10 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 4abd018d-c095-41ac-8544-f112772c83d8 10.07 badkamer 03.10 Apartment 03.10 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 0f615aab-4637-4b61-9348-50f1996f5ec0 10.08 instal. ruimte 03.10 Apartment 03.10 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 0db465ff-68ab-4c90-8fe7-992e36945730 2.00 entree 00.02 Apartment 00.02 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 191513ed-452b-4ada-8e63-a0f0404e48dc 2.01 mk 00.02 Apartment 00.02 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan f99fd6d6-2a05-4618-b1a8-e85ff6b58b7f 2.03 woonkamer 00.02 Apartment 00.02 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan b5cf30ec-8cf7-4c7f-a40e-387ec9d2c688 2.04 keuken 00.02 Apartment 00.02 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 502e4848-6b60-4981-9ea6-9d2b741985f1 2.05 gang 00.02 Apartment 00.02 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 24b55506-3614-4a92-85ae-1c0111b16da1 2.06 slaapkamer 1 00.02 Apartment 00.02 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 18d30475-d715-4123-acdf-9df8a43863b4 2.07 slaapkamer 2 00.02 Apartment 00.02 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan a5d652ca-fb20-48a6-9ee3-0584d428e867 2.08 badkamer 00.02 Apartment 00.02 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 025d4fcd-3a77-4deb-8ab8-4bd0007b4dce 2.09 instal. ruimte 00.02 Apartment 00.02 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 42291957-3edd-443d-b4e2-bcf0751f358b 2.10 berging 00.02 Apartment 00.02 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 50103ef1-cd0a-486e-8288-7bb08ac11022 3.00 entree 00.03 Apartment 00.03 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 24dbce38-25d0-4a91-96c7-2b05cd541fa6 3.01 mk 00.03 Apartment 00.03 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 12626d0f-e41e-4c83-a4fd-16605fc725e8 3.02 toilet 00.03 Apartment 00.03 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 763100a6-79f9-4425-9ed3-90b2ce20153a 3.03 woonkamer 00.03 Apartment 00.03 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 40fd27f7-2aaf-43ab-9915-04a305acf1b0 3.04 keuken 00.03 Apartment 00.03 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan f20e64e4-6691-4145-9449-31e4f1a6c020 3.05 gang 00.03 Apartment 00.03 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan c95dadc7-fc39-415b-bc49-1dea3691536c 3.06 slaapkamer 1 00.03 Apartment 00.03 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan af73d12f-8a23-40f1-98e9-8c0b1af687ed 3.07 slaapkamer 2 00.03 Apartment 00.03 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 90854a93-f12a-4aaf-b66c-c5b443ef0017 3.08 badkamer 00.03 Apartment 00.03 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 74460c8d-da97-44a5-a333-37d98a05b8ed 3.09 instal. ruimte 00.03 Apartment 00.03 Apartment Private Parts - Apartment 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 9e3d3b91-5048-4cee-ad1f-d5debb8ba287 4.00 entree 01.04 Apartment 01.04 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 37e49b23-eb08-436a-b63a-8aad6e9fcbe6 4.01 mk 01.04 Apartment 01.04 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 183cd8e0-ab9d-4c97-9782-2b9c3350d50a 4.02 toilet 01.04 Apartment 01.04 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 8b6e1299-d614-4fc9-b258-55db74423903 4.03 woonkamer 01.04 Apartment 01.04 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan a87bae1f-19a0-4441-b47f-ae791d844acb 4.04 keuken 01.04 Apartment 01.04 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 5b656d6c-e2c1-42bc-bd6c-71290ca1e30c 4.05 slaapkamer 1 01.04 Apartment 01.04 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan cf0cc63a-367b-4555-b7e5-83d432d4f987 4.06 slaapkamer 2 01.04 Apartment 01.04 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan e87e6759-644f-4567-992e-382877efb4f3 4.07 badkamer 01.04 Apartment 01.04 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 09a7206d-82da-4fdd-a5a5-b35b018df683 4.08 instal. ruimte 01.04 Apartment 01.04 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 4adf5603-1d57-48b1-aa81-6cd7caa3230a 5.00 entree 01.05 Apartment 01.05 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 2b802645-17ec-4599-86c9-76b5ea603a06 5.01 mk 01.05 Apartment 01.05 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 8e84831a-e727-437d-89ea-9a533aaec9fe 5.02 toilet 01.05 Apartment 01.05 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 0bdb446f-bc26-45e6-b4d8-29138de8aeac 5.03 woonkamer 01.05 Apartment 01.05 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 592f4e55-c5b3-4d78-a767-bfebf95e25ab 5.04 keuken 01.05 Apartment 01.05 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 38cc76ca-efaa-4ad3-9cbc-30e06e37bcfc 5.05 slaapkamer 1 01.05 Apartment 01.05 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 124a033e-593b-4076-8a8d-7dfa39d131e4 5.06 slaapkamer 2 01.05 Apartment 01.05 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 676b06eb-d7ec-4ec2-8908-92cd912ae31a 5.07 badkamer 01.05 Apartment 01.05 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 5444e211-c46e-4a66-8150-e898f5e25e2b 5.08 instal. ruimte 01.05 Apartment 01.05 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan b6c83c65-9a50-434a-a262-9c7a9866c47f 5.09 kast 01.05 Apartment 01.05 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan a0a6f337-1087-42f1-a96d-34a376b6e0e1 6.00 entree 01.06 Apartment 01.06 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 65ce765b-21bb-4deb-8ea0-16c879183e27 6.01 mk 01.06 Apartment 01.06 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 0982d75a-7284-41c4-8bb2-76b58d57e491 6.02 toilet 01.06 Apartment 01.06 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 2ea86100-b35f-4716-bf36-612c296853e9 6.03 woonkamer 01.06 Apartment 01.06 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan fea074b1-aa73-4bb5-845f-cccdbe74394c 6.04 keuken 01.06 Apartment 01.06 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan dc65dfce-2c8d-4090-bedf-2f67f147815e 6.05 slaapkamer 1 01.06 Apartment 01.06 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 3d07bc83-50d8-48f1-a5c5-2635f880ecbd 6.06 slaapkamer 2 01.06 Apartment 01.06 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan ce99ad82-39ba-4a10-914f-136da87bee84 6.07 badkamer 01.06 Apartment 01.06 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 9061057e-3b37-492d-856c-08647fc48881 6.08 instal. ruimte 01.06 Apartment 01.06 Apartment Private Parts - Apartment 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 30186c45-2d2c-4c1a-92fd-3e520e83af0e 7.00 entree 02.07 Apartment 02.07 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan ad23ea9f-8339-4a33-b61f-c1736c1a540e 7.01 mk 02.07 Apartment 02.07 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 3c56aaec-921d-44cc-b18b-1224592d8bdd 7.02 toilet 02.07 Apartment 02.07 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 76de29eb-c020-4e79-a5bd-0ed7c6827466 7.03 woonkamer 02.07 Apartment 02.07 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan ffe7b54f-3cc7-4cb6-b4b5-2914fa1cbed8 7.04 keuken 02.07 Apartment 02.07 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 6aa148cc-4ca4-4a7d-aee1-52e8ae349c5f 7.05 slaapkamer 1 02.07 Apartment 02.07 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan eac234ed-6973-491b-a164-18ea3ff4292b 7.06 slaapkamer 2 02.07 Apartment 02.07 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 70f54dd5-bcf2-4b00-8084-abdbae4a0bfd 7.07 badkamer 02.07 Apartment 02.07 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan d4a13317-f4fe-4299-9b78-f3409494607d 7.08 instal. ruimte 02.07 Apartment 02.07 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 0ce2d3f6-1e1e-4b44-a314-6cd794d775bf 8.00 entree 02.08 Apartment 02.08 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 754368d8-fa84-46ac-be69-0d991d675d67 8.01 mk 02.08 Apartment 02.08 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan b79145c3-70f1-4ad2-bc93-a8b38d62c555 8.02 toilet 02.08 Apartment 02.08 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 24fae3c4-60b6-4241-9ec5-aeae522dc868 8.03 woonkamer 02.08 Apartment 02.08 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan da526ff3-fd78-4ee5-b5d0-0f39ef2ad002 8.04 keuken 02.08 Apartment 02.08 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan b4fae5c3-578a-47eb-a65f-9a189ab4bedb 8.05 slaapkamer 1 02.08 Apartment 02.08 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 55a2c35c-cc9a-4a1a-b1bf-94e8b701f711 8.06 slaapkamer 2 02.08 Apartment 02.08 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 0c4cda91-5635-4c83-81cd-97861e2007d7 8.07 badkamer 02.08 Apartment 02.08 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 76228b65-0e94-41e8-afd0-1a7896150a8c 8.08 instal. ruimte 02.08 Apartment 02.08 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 363a28d9-7e78-4a8c-a932-d758fa09553c 8.09 kast 02.08 Apartment 02.08 Apartment Private Parts - Apartment 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 0085ff3d-8503-4d69-9d91-6685fa317c23 9.00 entree 03.09 Apartment 03.09 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 323a5b95-1e23-4d20-a8b0-1a88b329d10b 9.01 mk 03.09 Apartment 03.09 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 9c3aabce-8c60-48b1-891f-8bfb59b6f075 9.02 toilet 03.09 Apartment 03.09 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 60def17e-9b13-4dac-a4aa-999cd8ee076f 9.03 woonkamer 03.09 Apartment 03.09 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan ec404de5-8532-4005-bba3-018f31512955 9.04 keuken 03.09 Apartment 03.09 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan fea59720-007f-4797-8a51-be60dcd9ea8f 9.05 slaapkamer 1 03.09 Apartment 03.09 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 6edb9947-be66-4bdc-9d70-324718d12ce7 9.06 slaapkamer 2 03.09 Apartment 03.09 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan c44d52f7-bd98-4e92-84ee-3c7cf3e1e009 9.07 badkamer 03.09 Apartment 03.09 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 3d04d597-2bc9-4205-b6e7-877b82f0ffe4 9.08 instal. ruimte 03.09 Apartment 03.09 Apartment Private Parts - Apartment 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan a73ec9a0-46af-4151-9975-177460f56999 A0.00 entree 00.00 Common 03.00 Common Common Parts 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 82bd3e52-fb5f-4503-8c39-7acf7df0e6ac A0.01 instal. ruimte 00.00 Common 03.00 Common Common Parts 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan e35ae068-0478-4e71-9ff9-6d8a19b0323e A0.02 berging 00.00 Common 03.00 Common Common Parts 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 2f9d5b90-373e-45e9-b741-6bf6837c2581 A1.01 overloop 00.00 Common 03.00 Common Common Parts 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 97c45622-5687-493c-b995-766888ca8a9c A2.01 overloop 00.00 Common 03.00 Common Common Parts 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan e626aa4b-c738-4ade-a2c1-c91aa2daa4b6 A3.01 overloop 00.00 Common 03.00 Common Common Parts 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan"},{"location":"features/crud/","title":"CRUD REST APIs","text":"<p>All APIs are available on the /docs (Swagger)</p> <p>Those tagged 'CRUD' provide simple query capabilities listed hereunder.</p>"},{"location":"features/crud/#queries","title":"Queries","text":""},{"location":"features/crud/#list-of-bundles","title":"List of bundles","text":"<p>A bundle represents a master set of data initiated by the import of an IFC file</p> <pre><code>GET /common/bundle-list\n</code></pre> <p>Parameters:</p> <ul> <li>from_date: YYYY-MM-DD (can be null)</li> <li>to_date: YYYY-MM-DD (can be null)</li> <li>limit: max number of rows returned, default = 100 </li> </ul>"},{"location":"features/crud/#details-of-a-bundle","title":"Details of a Bundle","text":"<pre><code>GET /common/bundle/{bundle_id}\n</code></pre> <p>Parameters:</p> <ul> <li>bundle_id: id of the bundle</li> </ul> <p>Result example:</p> <pre><code>{\n  \"bundle\": {\n    \"source_type\": \"IFC\",\n    \"header\": {\n      \"type\": \"ifcJSON\",\n      \"version\": \"0.0.1\",\n      \"schemaIdentifier\": \"IFC2X3\",\n      \"originatingSystem\": \"IFC2JSON_python Version 0.0.1\",\n      \"preprocessorVersion\": \"IfcOpenShell 0.8.0\",\n      \"timeStamp\": \"2025-04-14T11:44:41\"\n    },\n    \"description\": \"IfcJson File\",\n    \"active\": true,\n    \"created_at\": \"2025-04-14T11:44:43.067556\",\n    \"files\": {\n      \"ifcJsonFileURL\": \"IFCJSON/ad694f29-f520-4f21-97a4-ddc2db47625a_NI.json\"\n    },\n    \"bundle_id\": 125,\n    \"parent_id\": null,\n    \"name\": \"Duplex_A_20110907_optimized\",\n    \"created_by\": null,\n    \"updated_at\": null,\n    \"updated_by\": null\n  }\n}\n</code></pre>"},{"location":"features/crud/#bundle-journal","title":"Bundle Journal","text":"<p>The BundleJournal records the tasks that are performed on a bundle and provides for each one the corresponding xxx_Instruction and xxx_Result. When several instructions are executed, such as in the exemple below, the xxx_Instruction and xxx_Result are not specifically listed in the order of execution.</p> <pre><code>GET /common/bundle-journal/{bundle_id}/\n</code></pre> <p>Parameters:</p> <ul> <li>bundle_id: id of the bundle</li> <li>from_date: YYYY-MM-DD (can be null)</li> <li>to_date: YYYY-MM-DD (can be null)</li> <li>limit: max number of rows returned, default = 100</li> </ul> <p>Result example:</p> <pre><code>{\n  \"bundleJournalItems\": [\n    {\n      \"created_at\": \"2025-04-14T11:44:43.687499\",\n      \"bundle_id\": 125,\n      \"updated_by\": null,\n      \"operation_json\": {\n        \"operation\": \"import_and_process_ifc\",\n        \"instruction\": {\n          \"ConvertIfcToIfcJson_Instruction\": {\n            \"sourceFileURL\": \"http://localhost:8002/IFC_SOURCE_FILES/Duplex_A_20110907_optimized.ifc\"\n          },\n          \"StoreIfcJsonInDb_Instruction\": {\n            \"spatialUnitId\": \"5f2d17b0-43fb-445d-9c67-7dafb3292c33\",\n            \"bundleName\": \"Duplex_A_20110907_optimized\",\n            \"parentBundleId\": null,\n            \"sourceFileURL\": \"IFCJSON/ad694f29-f520-4f21-97a4-ddc2db47625a_NI.json\"\n          }\n        },\n        \"result\": {\n          \"ConvertIfcToIfcJson_Result\": {\n            \"rootObjectId\": \"7b7032cc-b822-417b-9aea-642906a29bd5\",\n            \"rootObjectType\": \"IfcProject\",\n            \"rootObjectName\": \"0001\",\n            \"resultPath\": \"IFCJSON/ad694f29-f520-4f21-97a4-ddc2db47625a_NI.json\",\n            \"runtime\": 1.16\n          },\n          \"StoreIfcJsonInDb_Result\": {\n            \"bundleId\": \"125\",\n            \"runtime\": 1.53\n          }\n        }\n      },\n      \"proctoken\": \"1c57e2fb-2d94-4f95-9b7c-f73838d00e81\",\n      \"id\": \"643bd25d-d37e-4188-82ed-1bed95c8c5a7\",\n      \"created_by\": null,\n      \"updated_at\": null\n    }\n  ]\n}\n</code></pre>"},{"location":"features/crud/#bundle-journal-by-proctoken","title":"Bundle Journal by proctoken","text":"<p>When a long processing request is submitted, a proctoken is responded that will also will be joined to the complete response when available. The response is provided on the websocket channel but can also be obtained by a rest query with the provided proctoken.</p> <pre><code>GET /common/bundle-journal-by-token/{proctoken}\n</code></pre> <p>Parameters:</p> <ul> <li>proctoken: the proctoken provided in the response to the request</li> </ul> <p>Result example:</p> <p>Same as above</p>"},{"location":"features/crud/#list-of-spatialunits","title":"List of SpatialUnits","text":"<pre><code>GET /common/spatial-unit-list/\n</code></pre> <p>Parameters:</p> <ul> <li>from_date: YYYY-MM-DD (can be null)</li> <li>to_date: YYYY-MM-DD (can be null)</li> <li>limit: max number of rows returned, default = 100</li> </ul> <p>Result example:</p> <pre><code>{\n  \"spatialUnitList\": [\n    {\n      \"unitGuide\": {\n        \"overview\": \"this is a test spatial unit\"\n      },\n      \"description\": \"This is a test spatial unit\",\n      \"type\": \"Building\",\n      \"createdBy\": null,\n      \"name\": \"AC20-FZK-Haus\",\n      \"id\": \"b6fc5402-ca87-47ba-a9f4-e29173d51656\",\n      \"createdAt\": \"2025-02-01T17:07:10.272729\",\n      \"updatedAt\": null,\n      \"updatedBy\": null\n    },\n    {\n      \"unitGuide\": {\n        \"overview\": \"this is a test spatial unit\"\n      },\n      \"description\": \"This is a test spatial unit\",\n      \"type\": \"Office Building\",\n      \"createdBy\": null,\n      \"name\": \"NordicLCA_Office_Concrete_BuildingPermit\",\n      \"id\": \"a862104b-7603-4f83-897a-5821fe1e614a\",\n      \"createdAt\": \"2025-01-25T13:47:55.093273\",\n      \"updatedAt\": null,\n      \"updatedBy\": null\n    },\n    {\n      \"unitGuide\": {\n        \"overview\": \"this is a test spatial unit\"\n      },\n      \"description\": \"This is a test spatial unit\",\n      \"type\": \"Residential Building\",\n      \"createdBy\": null,\n      \"name\": \"NordicLCA_Housing_Concrete_BuildingPermit_Revit\",\n      \"id\": \"85020098-d326-4c08-88de-7a32600ec129\",\n      \"createdAt\": \"2024-11-18T13:50:23.719036\",\n      \"updatedAt\": null,\n      \"updatedBy\": null\n    },\n    {\n      \"unitGuide\": {\n        \"overview\": \"this is a test spatial unit\"\n      },\n      \"description\": \"This is a test spatial unit\",\n      \"type\": \"Residential Building\",\n      \"createdBy\": null,\n      \"name\": \"IFC Schependomlaan\",\n      \"id\": \"3693decc-405b-475d-a4ad-e1223de14ef9\",\n      \"createdAt\": \"2024-10-23T20:57:12.217604\",\n      \"updatedAt\": null,\n      \"updatedBy\": null\n    },\n    {\n      \"unitGuide\": {\n        \"overview\": \"this is a test spatial unit\"\n      },\n      \"description\": \"This is a test spatial unit\",\n      \"type\": \"Residential Building\",\n      \"createdBy\": null,\n      \"name\": \"Duplex_A_20110907_optimized\",\n      \"id\": \"5f2d17b0-43fb-445d-9c67-7dafb3292c33\",\n      \"createdAt\": \"2024-10-02T12:33:52.854345\",\n      \"updatedAt\": null,\n      \"updatedBy\": null\n    }\n  ]\n}\n</code></pre>"},{"location":"features/crud/#details-of-a-spatial-unit","title":"Details of a Spatial Unit","text":"<pre><code>GET /common/spatial-unit/{spatial_unit_id}\n</code></pre> <p>Parameters:</p> <ul> <li>spatial_unit_id: uuid of the Spatial Unit</li> </ul> <p>Result example:</p> <pre><code>{\n  \"spatialUnit\": {\n    \"unitGuide\": {\n      \"overview\": \"this is a test spatial unit\"\n    },\n    \"description\": \"This is a test spatial unit\",\n    \"type\": \"Office Building\",\n    \"createdBy\": null,\n    \"name\": \"NordicLCA_Office_Concrete_BuildingPermit\",\n    \"id\": \"a862104b-7603-4f83-897a-5821fe1e614a\",\n    \"createdAt\": \"2025-01-25T13:47:55.093273\",\n    \"updatedAt\": null,\n    \"updatedBy\": null\n  }\n}\n</code></pre>"},{"location":"features/crud/#root-bundle-unit-list-for-a-spatial-unit","title":"Root Bundle Unit List for a Spatial Unit","text":"<p>A Spatial Unit can be related to a Bundle (master data set of an IFC file of the construction projet) or to several bundles when more that one IFC file is imported while giving the same Spatial Unit Reference.</p> <p>Initially, the bundle unit which is associated to the Spatial Unit is the 'Project' (root of the IFC file).</p> <p>Thereafter, a link can be created between a Spatial Unit, such as an Apartment, an Office, a Parking, ... and the corresponding bundle unit with the IFC data of the Apartment, Office, Parking, ...</p> <pre><code>GET /common/spatial-unit/{spatial_unit_id}/root-bundle-unit-list\n</code></pre> <p>Parameters:</p> <ul> <li>spatial_unit_id: uuid of the Spatial Unit</li> </ul> <p>Result example:</p> <pre><code>{\n  \"spatialUnitRootBundleUnitList\": [\n    {\n      \"spatialunit_id\": \"a862104b-7603-4f83-897a-5821fe1e614a\",\n      \"spatialunit_name\": \"NordicLCA_Office_Concrete_BuildingPermit\",\n      \"spatialunit_type\": \"Office Building\",\n      \"bundle_id\": \"64\",\n      \"bundleunit_id\": \"d1ce5c79-6477-4f04-9500-792a06d14987\",\n      \"unit_id\": \"f2e1a0da-dc31-4d71-825f-082c95f12b5f\",\n      \"unit_type\": \"IfcProject\",\n      \"unit_name\": \"TY\u00d6NRO\",\n      \"unit_longname\": null\n    }\n  ]\n}\n</code></pre>"},{"location":"features/crud/#list-of-units-of-a-bundle","title":"List of Units of a Bundle","text":"<p>The units of bundle can be:</p> <ul> <li>the project</li> <li>a Site</li> <li>a Building</li> <li>a Storey</li> <li>a SpatialZone (or a Group or Zone as a proxy of a SpatialZone)</li> <li>a Space</li> </ul> <pre><code>GET /common/bundle/{bundle_id}/bundle-unit-list\n</code></pre> <p>Parameters:</p> <ul> <li>bundle_id: the id of the bundle</li> <li>unit_type: (can be null)<ul> <li>the type of the unit: e.g. IfcSpatialZone</li> <li>can also be a list of types: e.g. IfcProject,IfcSpatialZone</li> </ul> </li> </ul> <p>Result example: with Duplex_A_20110907_optimized.ifc after the creation of the SpatialZones</p> <pre><code>{\n  \"bundleUnitList\": [\n    {\n      \"bundleunit_id\": \"ffa74974-d80a-5331-aec6-bf9ef62ea1f4\",\n      \"bundle_id\": 128,\n      \"unit_id\": \"06f07510-c30c-405a-b86f-0708935692d4\",\n      \"unit_type\": \"IfcSpatialZone\",\n      \"unit_name\": \"Duplex-B\",\n      \"unit_longname\": \"Duplex-B\",\n      \"parent_id\": \"7b7032cc-b822-417b-9aea-642906a29bd4\",\n      \"parent_type\": \"IfcBuilding\",\n      \"parent_name\": null,\n      \"parent_longname\": null,\n      \"created_at\": \"2025-04-15T18:22:23.741623\",\n      \"created_by\": \"\",\n      \"updated_at\": null,\n      \"updated_by\": null\n    },\n    {\n      \"bundleunit_id\": \"a0a3ee0a-f009-5188-aa94-ff09a5fa9c97\",\n      \"bundle_id\": 128,\n      \"unit_id\": \"4e8cd602-9f7c-46f0-a68c-e17c876ff910\",\n      \"unit_type\": \"IfcSpatialZone\",\n      \"unit_name\": \"Duplex-A\",\n      \"unit_longname\": \"Duplex-A\",\n      \"parent_id\": \"7b7032cc-b822-417b-9aea-642906a29bd4\",\n      \"parent_type\": \"IfcBuilding\",\n      \"parent_name\": null,\n      \"parent_longname\": null,\n      \"created_at\": \"2025-04-15T18:22:23.741623\",\n      \"created_by\": \"\",\n      \"updated_at\": null,\n      \"updated_by\": null\n    },\n    {\n      \"bundleunit_id\": \"7db61458-3f42-5e09-a2dc-a7389a71a5e6\",\n      \"bundle_id\": 128,\n      \"unit_id\": \"d44ff461-cd2e-4e7f-93ba-1f64ef459111\",\n      \"unit_type\": \"IfcSpatialZone\",\n      \"unit_name\": \"Roof\",\n      \"unit_longname\": \"Roof\",\n      \"parent_id\": \"7b7032cc-b822-417b-9aea-642906a29bd4\",\n      \"parent_type\": \"IfcBuilding\",\n      \"parent_name\": null,\n      \"parent_longname\": null,\n      \"created_at\": \"2025-04-15T18:22:23.741623\",\n      \"created_by\": \"\",\n      \"updated_at\": null,\n      \"updated_by\": null\n    }\n  ]\n}\n</code></pre>"},{"location":"features/crud/#detail-of-a-bundle-unit","title":"Detail of a Bundle Unit","text":"<p>The Bundle Unit has a json field that records the output of the operations made on the bundle unit. In the example that follows, an extraction of the data of the bundle unit for the IfcSpatialZone 'Duplex-A' has been done and the files produced (ifcJON and IFC) have been recorded in the unitjson.</p> <pre><code>GET /common/bundle/{bundle_id}/unit/{unit_id}/\n</code></pre> <p>Parameters:</p> <ul> <li>bundle_id: the id of the bundle</li> <li>unit_id: the uuid of the bundle unit</li> </ul> <p>Result example:</p> <pre><code>{\n  \"bundleUnit\": {\n    \"unit_type\": \"IfcSpatialZone\",\n    \"bundleunit_id\": \"a0a3ee0a-f009-5188-aa94-ff09a5fa9c97\",\n    \"unit_longname\": \"Duplex-A\",\n    \"relationship_type\": \"IfcRelAggregates\",\n    \"parent_type\": \"IfcBuilding\",\n    \"parent_longname\": null,\n    \"updated_at\": \"2025-04-15T18:27:59.929045\",\n    \"unit_id\": \"4e8cd602-9f7c-46f0-a68c-e17c876ff910\",\n    \"unit_name\": \"Duplex-A\",\n    \"bundle_id\": 128,\n    \"relationship_id\": \"e07164df-066a-4bbe-aa75-894ea9c6c40d\",\n    \"parent_id\": \"7b7032cc-b822-417b-9aea-642906a29bd4\",\n    \"parent_name\": null,\n    \"unitjson\": {\n      \"IfcJSON\": \"IFCJSON/7eafcf9f-4078-406b-9d04-c2a968ddca31_EXTRACT.json\",\n      \"IFC\": \"JSON2IFC/0508290d-a46f-4103-8ecd-11282857bd61_OUT.ifc\"\n    },\n    \"created_at\": \"2025-04-15T18:22:23.741623\",\n    \"created_by\": \"\",\n    \"updated_by\": null\n  }\n}\n</code></pre>"},{"location":"features/crud/#list-the-properties-of-a-bundle-unit","title":"List the properties of a Bundle Unit","text":"<p>There are two types of properties:</p> <ul> <li>those that are associated directly to the object (Pset_xxx) and named propertyset</li> <li>those that are associated to the type of an object and then associated to object via the type of the object and named hereunder properties</li> </ul> <pre><code>GET /common/bundle/{bundle_id}/spatialzone/{sz_id}/properties\n</code></pre> <p>Parameters:</p> <ul> <li>bundle_id: the id of the bundle</li> <li>sz_id: the id of the spatial zone (the term is used here liberally to designate the buidling, the storey, the spatialzone)</li> <li>unit_type: the type of the unit in the sz (e.g. IfcSpace) (can be null)</li> <li>unit_id: the id of the unit (can be null)</li> <li>object_type: the type of object (e.g. IfcDoor)(can be null)</li> <li>propertyset_name: the name of the propertyset (e.g. Pset_DoorCommon)(can be null, should not be given if properties_type is given)</li> <li>properties_type: the type of properties (e.g. IfcDoorLiningProperties)(can be null, should not be given if propertyset_name is given)</li> <li>limit: number of items returned, default = 100</li> </ul> <p>Result example:</p> <p>For:</p> <ul> <li>bundle_id = 128</li> <li>sz_id = '4e8cd602-9f7c-46f0-a68c-e17c876ff910' (uuid of the IfcSpatialZone of the apartment Duplex-A)</li> <li>unit_type = 'IfcSpace'</li> <li>unit_id = '0b74b3fa-1a92-405e-9ac9-d59067be1d42' (uuid of the IfcSpace named A102)</li> <li>object_type = 'IfcWindow'</li> <li>propertyset_name = 'Pset_WindowCommon'</li> </ul> <p>the first item of the result (the rest being removed for brevity)</p> <pre><code>{\n  \"bundleUnitProperties\": [\n    {\n      \"sz_id\": \"4e8cd602-9f7c-46f0-a68c-e17c876ff910\",\n      \"object_type\": \"IfcWindow\",\n      \"properties_type\": null,\n      \"bundle_id\": 128,\n      \"object_name\": \"M_Fixed:750mm x 2200mm:750mm x 2200mm:182101\",\n      \"properties_name\": null,\n      \"sz_type\": \"IfcSpatialZone\",\n      \"type_object_id\": null,\n      \"properties_json\": {},\n      \"sz_name\": \"Duplex-A\",\n      \"type_object_type\": null,\n      \"unit_id\": \"0b74b3fa-1a92-405e-9ac9-d59067be1d42\",\n      \"type_object_name\": null,\n      \"created_at\": \"2025-04-15T18:58:00.899452\",\n      \"unit_type\": \"IfcSpace\",\n      \"propertyset_id\": \"81de0775-2783-4f79-a69d-a60901d6e721\",\n      \"properties_id\": null,\n      \"id\": \"4d86e1c9-02e6-435c-beeb-c46cfa38fb72\",\n      \"unit_name\": \"A102\",\n      \"propertyset_name\": \"Pset_WindowCommon\",\n      \"created_by\": null,\n      \"object_id\": \"6f010293-ddb7-4fe4-8ffd-c144d84448e3\",\n      \"propertyset_json\": {\n        \"type\": \"IfcPropertySet\",\n        \"globalId\": \"81de0775-2783-4f79-a69d-a60901d6e721\",\n        \"ownerHistory\": {\n          \"type\": \"IfcOwnerHistory\",\n          \"ref\": \"39c7d6f2-586f-41ce-8688-f5359e4953e7\"\n        },\n        \"name\": \"Pset_WindowCommon\",\n        \"hasProperties\": [\n          {\n            \"type\": \"IfcPropertySingleValue\",\n            \"name\": \"Reference\",\n            \"nominalValue\": {\n              \"type\": \"IfcLabel\",\n              \"value\": \"M_Fixed:750mm x 2200mm\"\n            }\n          },\n          {\n            \"type\": \"IfcPropertySingleValue\",\n            \"name\": \"IsExternal\",\n            \"nominalValue\": {\n              \"type\": \"IfcBoolean\",\n              \"value\": true\n            }\n          },\n          {\n            \"type\": \"IfcPropertySingleValue\",\n            \"name\": \"FireRating\",\n            \"nominalValue\": {\n              \"type\": \"IfcLabel\",\n              \"value\": \"FireRating\"\n            }\n          }\n        ]\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"features/crud/#detail-of-an-object","title":"Detail of an object","text":"<p>This provides the details of an object. This provides data for the representation_ids and the objectPlacement</p> <pre><code>GET /common/bundle/{bundle_id}/object/{object_id}\n</code></pre> <p>Parameters:</p> <ul> <li>bundle_id: the id of the bundle</li> <li>object_id: the uuid of the object</li> </ul>"},{"location":"features/crud/#update-of-an-object","title":"Update of an object","text":"<p>This provide the capability to change the details of an object. As such, objects that come from the master IFC file should not be updated. But, this provide a convenient capability to update objects created within the platform, such as e.g. the IfcSpatialZones.</p> <pre><code>PATCH  /common/bundle/{bundle_id}/object/{object_id}\n\nwith  Body = model.UpdateObject\n\nclass UpdateObject(BaseModel): # model for the request\n    name: str | None = None\n    representation_ids: list[str] | None = None\n    elementjson: dict | None = None\n</code></pre> <p>A patch will also insert the before image of the object in the elementhistory table.</p>"},{"location":"features/crud/#assign-the-representation-of-a-space-to-a-spatialzone","title":"Assign the representation of a space to a spatialzone","text":"<p>This can be use when the master IFC file has spaces to represent spatial units such as is the case for the ARK_NordicLCA_Housing_Concrete_BuildingPermit_Revit.ifc building.</p> <pre><code>POST /common/assign-space-representation-to-spatialzone\n\nwith Body=AssignmentOfSpaceRepresentationToSpatialZone\n\nclass AssignmentOfSpaceRepresentationToSpatialZone(BaseModel):\n    bundle_id: str\n    spatialZoneId: str\n    spaceId: str\n</code></pre> <p>for:</p> <pre><code>{\n  \"bundle_id\": \"149\",\n  \"spatialZoneId\": \"af12ccb7-edef-48c3-97c9-3cc14d977859\",\n  \"spaceId\": \"2d39cdcf-21f9-44c8-b3e9-78c2dd008966\"\n}\n</code></pre> <p>we get an updated SpatialZone with representation_ids and an objectPlacement borrowed from the corresponding space.</p> <pre><code>{\n  \"spatialZone\": {\n    \"representation_ids\": [\n      \"32883524-541a-42ef-bfb9-c9de861b7736\"\n    ],\n    \"object_id\": \"af12ccb7-edef-48c3-97c9-3cc14d977859\",\n    \"elementjson\": {\n      \"type\": \"IfcSpatialZone\",\n      \"globalId\": \"af12ccb7-edef-48c3-97c9-3cc14d977859\",\n      \"name\": \"Apartment 02.HSTO.AS2\",\n      \"longName\": \"Apartment 02.HSTO.AS2\",\n      \"objectType\": \"Private Parts - Apartment\",\n      \"representation\": {\n        \"type\": \"IfcProductDefinitionShape\",\n        \"representations\": [\n          {\n            \"type\": \"IfcShapeRepresentation\",\n            \"ref\": \"32883524-541a-42ef-bfb9-c9de861b7736\"\n          }\n        ]\n      },\n      \"objectPlacement\": {\n        \"type\": \"IfcLocalPlacement\",\n        \"placementRelTo\": {\n          \"type\": \"IfcLocalPlacement\",\n          \"placementRelTo\": {\n            \"type\": \"IfcLocalPlacement\",\n            \"placementRelTo\": {\n              \"type\": \"IfcLocalPlacement\",\n              \"relativePlacement\": {\n                \"type\": \"IfcAxis2Placement3D\",\n                \"location\": {\n                  \"type\": \"IfcCartesianPoint\",\n                  \"coordinates\": [\n                    0,\n                    0,\n                    0\n                  ]\n                },\n                \"axis\": {\n                  \"type\": \"IfcDirection\",\n                  \"directionRatios\": [\n                    0,\n                    0,\n                    1\n                  ]\n                },\n                \"refDirection\": {\n                  \"type\": \"IfcDirection\",\n                  \"directionRatios\": [\n                    0.49042092447644936,\n                    -0.8714856951411564,\n                    0\n                  ]\n                }\n              }\n            },\n            \"relativePlacement\": {\n              \"type\": \"IfcAxis2Placement3D\",\n              \"location\": {\n                \"type\": \"IfcCartesianPoint\",\n                \"coordinates\": [\n                  0,\n                  0,\n                  0\n                ]\n              }\n            }\n          },\n          \"relativePlacement\": {\n            \"type\": \"IfcAxis2Placement3D\",\n            \"location\": {\n              \"type\": \"IfcCartesianPoint\",\n              \"coordinates\": [\n                0,\n                0,\n                54930\n              ]\n            }\n          }\n        },\n        \"relativePlacement\": {\n          \"type\": \"IfcAxis2Placement3D\",\n          \"location\": {\n            \"type\": \"IfcCartesianPoint\",\n            \"coordinates\": [\n              0,\n              0,\n              0\n            ]\n          }\n        }\n      }\n    },\n    \"created_at\": \"2025-05-27T22:01:54.221362\",\n    \"updated_by\": null,\n    \"name\": \"Apartment 02.HSTO.AS2\",\n    \"bundle_id\": 149,\n    \"type\": \"IfcSpatialZone\",\n    \"created_by\": null,\n    \"updated_at\": \"2025-05-30T18:04:41.771571\"\n  }\n}\n</code></pre>"},{"location":"features/export-properties-of-a-spatialZone/","title":"Export Properties of a SpatialZone","text":"Feature Group: Export, Store | PostgreSQL <p>Collecting all the properties that apply to all elements of a spatial zone requires significant processing.</p> <p>Therefore we have here a full export for all relevant elements and their properties in a bundle. It is both made available as a .csv file and loaded in the bundleUnitProperties table.</p> <p>Base on this, it is then possible to export subsets on demand at a lower processing cost.</p>"},{"location":"features/export-properties-of-a-spatialZone/#populate-bundleunitproperties","title":"Populate bundleUnitProperties","text":""},{"location":"features/export-properties-of-a-spatialZone/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>#\n#  Populate bundeUnitProperties with the properties of the spatial units\n#\nclass PopulateBundleUnitProperties_Instruction(BaseModel):\n    bundleId: str | None = \"1\"  \n    ifNotPopulated: bool | None = True # When True, the processing  will be skipped if the bundleUnitProperties is already populated\n    withCSVExport: bool | None = True\n\nclass PopulateBundleUnitProperties_Result(BaseModel):\n    skipped: bool | None = False # True if the bundleUnitProperties was already populated and ifNotPopulated was set to True\n    nbrEntries: int | None = 0 # Number of entries created in the bundleUnitProperties\n    resultPath: str | None = '' # relative path of the result file (csv)\n    runtime: float | None = 0.0 # in seconds\n</code></pre>"},{"location":"features/export-properties-of-a-spatialZone/#result","title":"Result","text":"<p>The following screen capture shows two subsequent executions of the request: at first there are no data for the bundleId = 60, thereafter the processing is skipped</p> <p></p>"},{"location":"features/export-spaces-from-a-bundle/","title":"Export Spaces from a Bundle","text":"Feature Group: Export | PostgreSQL <p>Exporting Spaces is a preliminary step for creating a grouping of spaces into a Spatial Unit with a corresponding IfcGroup or IfcZone or IfcSpatialZone.</p> <p>For instance, Schependomlaan has 10 apartments and some common parts. Each apartment is located on a single floor (IfcBuildingStorey). However, appartments are not identified as such with a corresponding IfcGroup or IfcZone or IfcSpatialZone.</p> <p>We can create an Apartment as a SpatialZone (or alternatively as a Zone or Group) by identifying all spaces that are part of this apartment. For this we first need to export a list of Spaces that can be complemented with this information.</p> <p>The spaces for the ground floor are shown hereunder on an annotated screen capture. There is apparently an issue to get a standard display of IFC Schependomlaan spaces.</p> <p></p> <p>The naming of the space makes it simple to associate the apartment to the space on the basis of the first digit of the space name. E.g, for the Ground Floor (Begane Grond)</p> <ul> <li>Apartment 00.01 for the spaces in the series 1.00 to 1.07</li> <li>Apartment 00.02 for the spaces in the series 2.00 to 2.10</li> <li>Apartment 00.03 for the spaces in the series 3.00 to 3.09</li> </ul>"},{"location":"features/export-spaces-from-a-bundle/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>#\n#   Export Spaces from a Bundle \n#\nclass ExportSpacesFromBundle_Instruction(BaseModel):\n    bundleId: str | None = \"1\"\n    format: Literal['csv','json'] | None = 'csv'\n\nclass ExportSpacesFromBundle_Result(BaseModel):\n    resultPath: str # relative path of the result file (cvs, or json)\n    runtime: float | None = 0.0 # in seconds\n</code></pre> <p>The request provides the id (integer) of the bundle and a selection of space-related data is made and provided in a csv or a json. We assume hereunder that the csv is the prefered way to work we the data.</p> <p>The spaces come from the bundleunit table and are made available in a csv List of Spaces in IFC Schependomlaan. The csv contains placeholders to enter the information for the spatial zone (see Create SpatialZones - Apartments or Common Parts )</p> <p>The data exported are:</p> <ul> <li>space_id: the GlobalId of the space</li> <li>space_name: the name of the space</li> <li>space_longname: the lognme of the space</li> <li>spatialzone_name: a placeholder to provide the desired name for the spatial zone </li> <li>spatialzone_longname: a placeholder to provide the desired long name for the spatial zone</li> <li>spatialzone_type: a place holder for the type of the spatial zone</li> <li>storey_id: the GlobalId of the storey containing the space (if any)</li> <li>storey_name: the name of the storey containing the space (if any)</li> <li>building_id: the GlobalId of the building (if any)</li> <li>building_name: the name of the building (if any)</li> <li>parent_id: the id of the parent of the space as recorded in bundleunit for the space; this Id is not necessarly the id of a storey or a building and can be another space or a group; this is the case for ARC_NordicLCA_Housing_Concrete_BuildingPermit_Revit</li> <li>parent_name: the name of the parent of the space as recorded in bundleunit for the space</li> <li>parent_type: the type of the parent of the space as recorded in bundleunit for the space</li> <li>parent_longname: the longname of the parent of the space as recorded in bundleunit for the space</li> </ul> <p>More information on</p>"},{"location":"features/export-spaces-from-a-bundle/#list-of-spaces-in-ifc-schependomlaan","title":"List of Spaces in IFC Schependomlaan","text":"space_id space_name space_longname spatialzone_name spatialzone_longname spatialzone_type storey_id storey_name building_id building_name parent_id parent_name parent_type parent_longname 0085ff3d-8503-4d69-9d91-6685fa317c23 9.00 entree nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 025d4fcd-3a77-4deb-8ab8-4bd0007b4dce 2.09 instal. ruimte nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 0982d75a-7284-41c4-8bb2-76b58d57e491 6.02 toilet nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 09a7206d-82da-4fdd-a5a5-b35b018df683 4.08 instal. ruimte nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 0bdb446f-bc26-45e6-b4d8-29138de8aeac 5.03 woonkamer nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 0c4cda91-5635-4c83-81cd-97861e2007d7 8.07 badkamer nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 0ce2d3f6-1e1e-4b44-a314-6cd794d775bf 8.00 entree nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 0db465ff-68ab-4c90-8fe7-992e36945730 2.00 entree nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 0e44feae-35d6-452c-ae59-fd5d4479e2ae 1.01 mk nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 0f615aab-4637-4b61-9348-50f1996f5ec0 10.08 instal. ruimte nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 124a033e-593b-4076-8a8d-7dfa39d131e4 5.06 slaapkamer 2 nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 12626d0f-e41e-4c83-a4fd-16605fc725e8 3.02 toilet nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 13badbc8-ddd4-4574-b2e6-634d636ed980 1.06 badkamer nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 183cd8e0-ab9d-4c97-9782-2b9c3350d50a 4.02 toilet nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 18d30475-d715-4123-acdf-9df8a43863b4 2.07 slaapkamer 2 nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 1912449b-86a3-4985-99fb-4f29e1670d92 1.07 instal. ruimte nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 191513ed-452b-4ada-8e63-a0f0404e48dc 2.01 mk nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 24b55506-3614-4a92-85ae-1c0111b16da1 2.06 slaapkamer 1 nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 24dbce38-25d0-4a91-96c7-2b05cd541fa6 3.01 mk nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 24fae3c4-60b6-4241-9ec5-aeae522dc868 8.03 woonkamer nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 255e8da7-f833-4cd6-b9fc-51b4df1ee11e 1.02 toilet nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 26255731-3eab-4760-befa-6dd126309bd4 10.00 entree nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 2b802645-17ec-4599-86c9-76b5ea603a06 5.01 mk nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 2ea86100-b35f-4716-bf36-612c296853e9 6.03 woonkamer nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 2f423a09-aed5-4541-a5db-5c2538242ef5 10.03 woonkamer nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 2f9d5b90-373e-45e9-b741-6bf6837c2581 A1.01 overloop nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 30186c45-2d2c-4c1a-92fd-3e520e83af0e 7.00 entree nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 323a5b95-1e23-4d20-a8b0-1a88b329d10b 9.01 mk nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 363a28d9-7e78-4a8c-a932-d758fa09553c 8.09 kast nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 37afb7b7-8853-43c5-a36f-5c397ea907d4 10.04 keuken nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 37e49b23-eb08-436a-b63a-8aad6e9fcbe6 4.01 mk nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 38cc76ca-efaa-4ad3-9cbc-30e06e37bcfc 5.05 slaapkamer 1 nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 3c56aaec-921d-44cc-b18b-1224592d8bdd 7.02 toilet nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 3d04d597-2bc9-4205-b6e7-877b82f0ffe4 9.08 instal. ruimte nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 3d07bc83-50d8-48f1-a5c5-2635f880ecbd 6.06 slaapkamer 2 nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 40fd27f7-2aaf-43ab-9915-04a305acf1b0 3.04 keuken nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 42291957-3edd-443d-b4e2-bcf0751f358b 2.10 berging nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 42d94669-d1ee-4d3f-9fe1-13a21e8915d4 10.06 onben. ruimte nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 4abd018d-c095-41ac-8544-f112772c83d8 10.07 badkamer nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 4adf5603-1d57-48b1-aa81-6cd7caa3230a 5.00 entree nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 4e60658c-4a93-4fe1-b642-7aaabfeb8fe9 1.02 toilet nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 50103ef1-cd0a-486e-8288-7bb08ac11022 3.00 entree nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 502e4848-6b60-4981-9ea6-9d2b741985f1 2.05 gang nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 53d5628c-940e-4e24-9a47-252094299e17 10.05 slaapkamer nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 5444e211-c46e-4a66-8150-e898f5e25e2b 5.08 instal. ruimte nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 55a2c35c-cc9a-4a1a-b1bf-94e8b701f711 8.06 slaapkamer 2 nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 592f4e55-c5b3-4d78-a767-bfebf95e25ab 5.04 keuken nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 5b656d6c-e2c1-42bc-bd6c-71290ca1e30c 4.05 slaapkamer 1 nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 5c1788cb-3b4f-491f-942f-512f732223eb 1.04 keuken nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 60def17e-9b13-4dac-a4aa-999cd8ee076f 9.03 woonkamer nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 65ce765b-21bb-4deb-8ea0-16c879183e27 6.01 mk nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 676b06eb-d7ec-4ec2-8908-92cd912ae31a 5.07 badkamer nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 6aa148cc-4ca4-4a7d-aee1-52e8ae349c5f 7.05 slaapkamer 1 nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 6edb9947-be66-4bdc-9d70-324718d12ce7 9.06 slaapkamer 2 nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 70f54dd5-bcf2-4b00-8084-abdbae4a0bfd 7.07 badkamer nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 74460c8d-da97-44a5-a333-37d98a05b8ed 3.09 instal. ruimte nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 754368d8-fa84-46ac-be69-0d991d675d67 8.01 mk nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 76228b65-0e94-41e8-afd0-1a7896150a8c 8.08 instal. ruimte nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 763100a6-79f9-4425-9ed3-90b2ce20153a 3.03 woonkamer nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 76de29eb-c020-4e79-a5bd-0ed7c6827466 7.03 woonkamer nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 82bd3e52-fb5f-4503-8c39-7acf7df0e6ac A0.01 instal. ruimte nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 8b6e1299-d614-4fc9-b258-55db74423903 4.03 woonkamer nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 8e84831a-e727-437d-89ea-9a533aaec9fe 5.02 toilet nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 9061057e-3b37-492d-856c-08647fc48881 6.08 instal. ruimte nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan 90854a93-f12a-4aaf-b66c-c5b443ef0017 3.08 badkamer nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan 97c45622-5687-493c-b995-766888ca8a9c A2.01 overloop nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan 99979f8b-4e97-483b-905c-b454eb11daac 10.02 toilet nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 9c3aabce-8c60-48b1-891f-8bfb59b6f075 9.02 toilet nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan 9e3d3b91-5048-4cee-ad1f-d5debb8ba287 4.00 entree nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan a0a6f337-1087-42f1-a96d-34a376b6e0e1 6.00 entree nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan a2cbf3b3-67ff-429d-8306-f578c314b4f4 10.01 mk nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan a5d652ca-fb20-48a6-9ee3-0584d428e867 2.08 badkamer nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan a73ec9a0-46af-4151-9975-177460f56999 A0.00 entree nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan a87bae1f-19a0-4441-b47f-ae791d844acb 4.04 keuken nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan ad23ea9f-8339-4a33-b61f-c1736c1a540e 7.01 mk nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan af73d12f-8a23-40f1-98e9-8c0b1af687ed 3.07 slaapkamer 2 nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan b4fae5c3-578a-47eb-a65f-9a189ab4bedb 8.05 slaapkamer 1 nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan b5cf30ec-8cf7-4c7f-a40e-387ec9d2c688 2.04 keuken nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan b6c83c65-9a50-434a-a262-9c7a9866c47f 5.09 kast nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan b79145c3-70f1-4ad2-bc93-a8b38d62c555 8.02 toilet nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan c44d52f7-bd98-4e92-84ee-3c7cf3e1e009 9.07 badkamer nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan c95dadc7-fc39-415b-bc49-1dea3691536c 3.06 slaapkamer 1 nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan ce99ad82-39ba-4a10-914f-136da87bee84 6.07 badkamer nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan cf0cc63a-367b-4555-b7e5-83d432d4f987 4.06 slaapkamer 2 nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan d4141660-7677-49d8-9cc1-d96d80b0618a 1.00 entree nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan d4a13317-f4fe-4299-9b78-f3409494607d 7.08 instal. ruimte nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan da526ff3-fd78-4ee5-b5d0-0f39ef2ad002 8.04 keuken nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan db806df3-e245-4a16-9858-358843d58be5 1.03 woonkamer nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan dc65dfce-2c8d-4090-bedf-2f67f147815e 6.05 slaapkamer 1 nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan e35ae068-0478-4e71-9ff9-6d8a19b0323e A0.02 berging nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan e626aa4b-c738-4ade-a2c1-c91aa2daa4b6 A3.01 overloop nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan e87e6759-644f-4567-992e-382877efb4f3 4.07 badkamer nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan eac234ed-6973-491b-a164-18ea3ff4292b 7.06 slaapkamer 2 nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan ec404de5-8532-4005-bba3-018f31512955 9.04 keuken nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan f0028917-8d2b-4483-8d15-286079cfe653 1.05 slaapkamer nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan f20e64e4-6691-4145-9449-31e4f1a6c020 3.05 gang nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan f99fd6d6-2a05-4618-b1a8-e85ff6b58b7f 2.03 woonkamer nan nan nan 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond 00dd6c87-6a6e-f482-7490-e6613659708a Building 9c82359a-67c3-49ce-9749-d081f3aa1901 00 begane grond IfcBuildingStorey nan fea074b1-aa73-4bb5-845f-cccdbe74394c 6.04 keuken nan nan nan 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3813aa95-a06c-4028-b7e4-b21f2cba5b8a 01 eerste verdieping IfcBuildingStorey nan fea59720-007f-4797-8a51-be60dcd9ea8f 9.05 slaapkamer 1 nan nan nan 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 91f24dc1-a766-4e42-9f22-67cb30042281 03 derde verdieping IfcBuildingStorey nan ffe7b54f-3cc7-4cb6-b4b5-2914fa1cbed8 7.04 keuken nan nan nan 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping 00dd6c87-6a6e-f482-7490-e6613659708a Building 3a674ee9-2548-40c5-936d-abd348c21e8d 02 tweede verdieping IfcBuildingStorey nan"},{"location":"features/export-spaces-from-a-bundle/#issue-for-the-display-of-spaces-for-ifc-schependomlaan","title":"Issue for the display of spaces for IFC Schependomlaan","text":"<p>For some reason, some Ifc Viewers have difficulties in showing Spaces consitently for IFC_Schependomlaan.ifc. This is the case with OpenIFCViewer, That Open and BIMcollab Zoom. Apparently, Solibri Anywhere and Blender with Bonsai do a better job at showing Spaces for IFC_Schependomlaan.ifc.</p> <p>As we can see hereunder, with the display in BIMcollab, the only spaces that are apparent in the structure of the building on the ground floor are the entrance (entree), the storage space (berging) and the installation space (instal. ruimte).</p> <p>The spaces for the apartments are not shown.</p> <p></p>"},{"location":"features/extract-all-spatialzones-of-a-given-type/","title":"Extract all SpatialZones of a given type for a Bundle","text":"Feature Group: Extract | PostgreSQL"},{"location":"features/extract-all-spatialzones-of-a-given-type/#extraction-of-all-spatialzones","title":"Extraction of all SpatialZones","text":"<p>The intent is to extract in bulk all defined Apartments, Commons, Parkings,... from a bundle  </p> <p>By All SpatialZones of a given type, it is meant all Units of a Bundle that have been defined as a SpatialZone using one of the following types:</p> <ul> <li>IfcSpatialZone (preferred)</li> <li>IfcBuildingStorey</li> <li>IfcZone</li> <li>IfcGroup</li> <li>IfcSpace</li> </ul>"},{"location":"features/extract-all-spatialzones-of-a-given-type/#submit-the-processing-request","title":"Submit the processing request","text":"<p>The extract is started by sending a POST with a Json Body as defined in pydantic with:</p> <ul> <li>the bundleId (bundle_id in PostgreSQL) of the bundle that contains the data of the IfcJSON from the conversion of the IFC file</li> <li>the choice of using or not the useRepresentationsCache for each unit</li> <li>the elementType as listed hereunder</li> <li>withIFC as True or False; if True, an IFC will also be produced</li> </ul> <pre><code>#\n# Extract all spatial units from an IFC\n#   \nclass ExtractAllSpatialUnits_Instruction(BaseModel):\n    bundleId: str | None = \"1\"\n    useRepresentationsCache: bool | None = False\n    elementType: Literal['IfcBuildingStorey', 'IfcZone', 'IfcSpatialZone', 'IfcSpace', 'IfcGroup'] | None = 'IfcSpatialZone'\n    withIFC: bool | None = True\n\n    @computed_field()\n    def includeRelationshipTypes(self) -&gt; list[str]:\n        if self.elementType == 'IfcBuildingStorey':\n            return ['IfcRelAggregates','IfcRelContainedInSpatialStructure','IfcRelFillsElement','IfcRelVoidsElement']\n        elif self.elementType == 'IfcSpatialZone' or self.elementType == 'IfcSpace':\n            return ['IfcRelAggregates','IfcRelContainedInSpatialStructure','IfcRelFillsElement','IfcRelVoidsElement','IfcRelSpaceBoundary','IfcRelReferencedInSpatialStructure']\n        elif self.elementType == 'IfcZone' or self.elementType == 'IfcGroup':\n            return ['IfcRelAggregates','IfcRelContainedInSpatialStructure','IfcRelFillsElement','IfcRelVoidsElement','IfcRelSpaceBoundary','IfcRelReferencedInSpatialStructure']\n        else:\n            return ['IfcRelAggregates','IfcRelContainedInSpatialStructure','IfcRelFillsElement','IfcRelVoidsElement']   \n\nclass ExtractAllSpatialUnits_ResultItem(BaseModel):\n    unitId: str\n    result: dict[\n        ExtractSpatialUnit_Result | None , \n        ConvertIfcJsonToIfc_Result | None\n    ]\nclass ExtractAllSpatialUnits_Result(BaseModel):\n    result: list[ExtractAllSpatialUnits_ResultItem] \n</code></pre>"},{"location":"features/extract-all-spatialzones-of-a-given-type/#processing","title":"Processing","text":"<p>The processing is done by using a Celery Workflow of type chord</p> <p>This type of workflow makes it possible to execute all extractions in parallel and then journalize and notify the result when all parallel tasks have individually completed or failed.</p> <pre><code>%%{init: {\"flowchart\": {\"htmlLabels\": true}} }%%\nflowchart\n    direction TB\n    start\n    subgraph fastapi [\"header\"]\n        direction TB\n        task-1\n        task-2\n        task-n\n    end\n    callback\n    start --&gt; task-1\n    start --&gt; task-2\n    start --&gt; task-n\n    task-1 --&gt; callback\n    task-2 --&gt; callback\n    task-n --&gt; callback\n</code></pre> <p>So, the total processing time is the runtime of the longest running task and not the sum of all runtimes.</p>"},{"location":"features/extract-ifc-elements-with-ifcpatch/","title":"Extract Elements from the IFC Model with IfcPatch","text":"Feature Group: Extract | IfcOpenShell / IfcPatch <p>This is provided by IfcOpenShell IfcPatch with the recipe ExtractElement</p>"},{"location":"features/extract-ifc-elements-with-ifcpatch/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>#\n#   Extract elements from an IFC\n#\nclass IfcExtractElements_Instruction(BaseModel):\n    sourceFileURL: str | None = \"http://localhost:8002/IFC_SOURCE_FILES/Duplex_A_20110907_optimized.ifc\"\n    elementTypes: list[str] | None = [\"IfcWall,IfcSlab,IfcBeam,IfcColumn,IfcWindow,IfcDoor,IfcSpace,IfcStair\"]\n\nclass IfcExtractElements_Result(BaseModel):\n    resultPath: str # relative path of the result file (ifc)\n    runtime: float | None = 0.0 # in seconds\n</code></pre>"},{"location":"features/extract-ifc-elements-with-ifcpatch/#extract-the-storeys-with-ifcpatch","title":"Extract the Storeys with IfcPatch","text":"<p>Extracting elements from the IFC model is both efficient and convenient when the number of elements that we we want to keep is resonably limited. It is also a an effective way to reduce the size of an IFC model that must be displayed on the screen.</p> <p>IfcPatch is part of IfcOpenShell and let Extract elements</p> <p>IfcPatch has many capabilities embodied in recipes. There is one called ExtractElements that let select the elements that we want to keep.  For instance, we can give a list of Essential Elements with :</p> <p>patch_arguments = [\"IfcWall,IfcSlab,IfcBeam,IfcColumn,IfcWindow,IfcDoor,IfcSpace,IfcStair\"] and get a corresponding IFC with the selected elements</p> <p>BIMCollab display of Essential Elements of Duplex_A_20110907_optimized.ifc</p> <p></p> <p>We can also focus on a specfic aspect as illustrated hereunder where we just extract Spaces and their Furnitures</p> <p>patch_arguments = [\"IfcSpace,IfcFurnishingElement\"]</p> <p>BIMCollab display of Spaces and Furnitures of Duplex_A_20110907_optimized.ifc</p> <p></p>"},{"location":"features/extract-ifc-storeys-with-ifcpatch/","title":"Extract Storeys from the IFC model with IfcPatch","text":"Feature Group: Extract | IfcOpenShell / IfcPatch <p>This is provided by IfcOpenShell IfcPatch with the recipe ExtractElement</p> <p>Data and Spatial visualization</p> <p>Extractions are twofold: the invisible part is the set of data that pertain to the spatial unit at hand. On these data, processes can be run to provide metrics / indicators (surfaces and volumes, space types and usage, energy transfer, life cycle, reuse, ...).</p> <p>The visible part is there to help understand the structure of the spatial unit, but also to identify issues, such as components that exibit misclassification and other anomalies.</p>"},{"location":"features/extract-ifc-storeys-with-ifcpatch/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>#\n#   Extract storeys from an IFC using IfcPatch Split Storeys\n#\nclass IfcSplitStoreys_Instruction(BaseModel):\n    sourceFileURL: str | None = \"http://localhost:8002/IFC_SOURCE_FILES/Duplex_A_20110907_optimized.ifc\"\n\nclass IfcSplitStoreys_Result(BaseModel):\n    resultPath: str # relative path of the zip file containing all storey files (ifc)\n    runtime: float | None = 0.0 # in seconds\n</code></pre>"},{"location":"features/extract-ifc-storeys-with-ifcpatch/#extraction-of-storeys-with-ifcpatch","title":"Extraction of Storeys with IfcPatch","text":"<p>IfcPatch from IfcOpenShell lets split a Building into Storeys, creating one IFC file for each storey.</p> <p>As an illustration, we have hereunder the extraction  of the first level of Duplex_A_20110907_optimized.ifc with IfcPatch. The IFC file used is the one that result from import -&gt; transform to ifcjson -&gt; filter -&gt; transform from ifcjson to ifc. As a result of the filtering, there is no IfcCovering and no IfcFurnishingElement.</p> <p>BIMCollab display of IfcPatch extraction of Level 1 of Duplex_A_20110907_optimized. As seen hereunder, IfcPatch keeps the spaces of the other levels. Here we highlight IfcSpace A203 Bedroom 2</p> <p></p> <p>Hereunder, the display of the selection of Level 1 while highlighting the space A105 Stair  that is part of storey Level 1 but is not limited to storey Level 1</p> <p></p> <p>The file expectedly lost the furnitures. However the Stairs are missing on both sides.</p> <p>There is also a display of walls above the top of the first level, but that's an error in the original file where those walls are defined as part of the Level 1 Storey. This is clearly apparent hereunder with the highlight on wall Basic Wall:Interior - Partition (92mm Stud):144518 that is defined as belonging to Storey Level 1 instead of Level 2.</p> <p></p> <p>Further to the error on the wall, we can observe that one error creates some extra inconsistencies: the door M_Single-Flush:0864 x 2032mm:0864 x 2032mm:150478 which should be in the above wall appears on Level 2 as disconnected from the wall where it is located. Additionnaly, the wall Basic Wall:Interior - Partition (92mm Stud):144586 in yellow on Level 2 is connected to the wall in Level 1 via IfcRelConnectsPathElements.</p> <p>This makes clear that a quality control on the source file is always important. It also makes clear that the visualization of the data with an IFC viewer makes it possible to identify inconsistencies that would otherwise be hardly noticeable .</p> <p></p>"},{"location":"features/extract-spatial-unit-spatialZone/","title":"Extract a SpatialZone - Apartment or Common Parts","text":"Feature Group: Extract | PostgreSQL <p>Data and Spatial visualization</p> <p>Extractions are twofold: the invisible part is the set of data that pertain to the spatial unit at hand. On these data, processes can be run to provide metrics / indicators (surfaces and volumes, space types and usage, energy transfer, life cycle, reuse, ...).</p> <p>The visible part is there to help understand the structure of the spatial unit, but also to identify issues, such as components that exibit misclassification and other anomalies.</p> <p>Remark: the IfcConnectionGeometry is not made visually apparent in the viewers</p> <p>The extraction of a SpatialZone will collect all walls, slabs, ... doors and windows that are part of the Space Boundary of a Space contained in the SpatialZone. The relationships are also collected. An IfcJson element with type='IfcRelSpaceBoundary' conveys the data for the connection geometry and the details of the IfcConnectionSurfaceGeometry. However, whole walls or slabs are  shown and the connection surface is not made visually apparent in the viewers.</p>"},{"location":"features/extract-spatial-unit-spatialZone/#extraction-of-a-spatialzone-contained-in-a-storey-or-crossing-multiple-storeys","title":"Extraction of a SpatialZone contained in a Storey or crossing multiple Storeys","text":"<p>We can extract an IfcSpatialZone in the same way that we extracted an IfcStorey in Extraction of a Storey from the Database.</p> <p>However, there are distinctive features.</p> <p>A storey is:</p> <ul> <li>a child of the building, via aggregation (IfcRelAggregates)</li> <li>the parent of all its member spaces, via aggregation (IfcRelAggregates) and</li> <li>the parent of all its contained elements, via containement (IfcRelContainedInSpatialStructure)</li> </ul> <p>A spatialzone is:</p> <ul> <li>a child of a storey, via aggregation (IfcRelAggregates), when the spatialzone is entirely contained in the storey</li> <li>a child of the building, via aggregation (IfcRelAggregates), when the spatialzone is not contained in a single storey. E.g. the spatialzone is a Duplex or the commons</li> <li>a parent of all its member spaces via referencing (IfcRelReferencedInSpatialStructure)</li> <li>a sibling of all its member spaces when considered with respect to the storey it belongs to</li> <li>a sibling of all the storeys that are parents of its member spaces when it is a child of the building</li> </ul> <p>In both case it is therefore not sufficient to look at the simple hierarchy of the spatialzone.</p> <p>The extraction process must also account for the parents of the spatialzone member spaces.</p>"},{"location":"features/extract-spatial-unit-spatialZone/#extraction-of-an-apartment-from-the-database","title":"Extraction of an Apartment from the Database","text":"<p>The extraction works seamlessly. However IFC Schependomlaan has a insconsistent IfcSpaceBoundary values:</p> <ul> <li>for apartments 1 to 3 and 7 to 8, the spaces have Doors but no Windows in their boundary</li> <li>for apartments 4 and 5, the spaces have Windows but no Doors in their boundary</li> </ul>"},{"location":"features/extract-spatial-unit-spatialZone/#extraction-of-apartment-003-of-the-ground-floor-of-ifc-schependomlaan","title":"Extraction of Apartment 0.03 of the Ground Floor of IFC Schependomlaan","text":"<p>Hereunder, we have the result of the extraction including the top slabs that are part of the Boundary of Spaces in that apartment.</p> <p></p> <p>Hereunder, we have hidden the top slabs and we cansee the layout of Apartment 0.03 with the missing windows.</p> <p></p>"},{"location":"features/extract-spatial-unit-spatialZone/#extraction-of-apartment-001-of-the-ground-floor-of-ifc-schependomlaan","title":"Extraction of Apartment 0.01 of the Ground Floor of IFC Schependomlaan","text":"<p>One of the notable strength of extractions is that anomalies show up clearly. Here we have two toilet spaces in the first apartment. In reality, one of them belongs to the second apartment.</p> <p>This was also noticeable with scrutinizing the standard model view, but not obvious.</p> <p></p>"},{"location":"features/extract-spatial-unit-spatialZone/#extraction-of-the-first-duplex-of-duplex_a_20110907_optimized","title":"Extraction of the first duplex of Duplex_A_20110907_optimized","text":"<p>We can see the spaces on the front part of the first floor (living, kitchen, ...) and the spaces on the right side of the second floor (bedroom 1, ...). We also have the space for the stair.</p> <p>We have the walls, slabs, doors, windows that are related to a Space Boundary. We also have the furnitures that are - in IFC - contained in the spaces. For the stair, we have the corresponding space, but not the stair because it is neither related to a Space Boundary nor contained in the space. Adding the stair could be done with some extra development.</p>"},{"location":"features/extract-spatial-unit-spatialZone/#extraction-of-the-second-duplex-of-duplex_a_20110907_optimized","title":"Extraction of the second duplex of Duplex_A_20110907_optimized","text":"<p>We can see the spaces on the back part of the first floor (living, kitchen, ...) and the spaces on the left side of the second floor (bedroom 1, ...). We also have the space for the stair.</p> <p>For components such as walls, slabs, ... and the stair, the same applies as for the first duplex.</p>"},{"location":"features/extract-spatial-unit-spatialZone/#extraction-of-an-apartment-of-the-4th-floor-of-nordiclca-housing-concrete-building","title":"Extraction of an apartment of the 4th floor of NordicLCA Housing Concrete Building","text":"<p>Hereunder the full display of the fourth floor</p> <p></p> <p>After the extraction of the HSTO.AS5 apartment, we have the elements of the included space boundaries. We have walls, floor slabs, doors, windows, but apparently, there was no upper space boundary defined and we did not need to hide the top slabs and coverings to see the inner space of the apartment.</p> <p>Using IDS, it would be possible to express more precisely what needs to be provided in an IFC output from Revit or Archicad (or other tool) to avoid that some elements are missing.</p> <p>It can also be noted that there is an enclosed balcony for the apartment, but no space with it. It would be helpful to add in the IDS the requirmenet that a space is associated to a blacony.</p> <p></p> <p>Hereunder, all spaces in the files are made visible by (right-clicking) Space and choose Set to Selection Basket but if the same is done on (right-clicking) Spatial Zone, nothing will be displayed. Solibri (like the others) doesn't handle the IfcRelReferencedInSpatialStructure in the display when there is no space associated to the Statial Zone.</p> <p>On the right hand side, we can see that we only have Level 4 associated with the SpatialZone, while we knwow that there is much more.</p> <p></p> <p>In the case of NordicLCA Housing Concrete Building whe have a space that is associated to the apartment as shown  hereunder.</p> <p></p> <p>If we assign the representation of this space to the the SpatialZone, we can see on the right panel all the spaces related to the SpatialZone. Clearly it is essential that the Spatial Zone gets a representation for having a correct rendition of the relationships.</p> <p></p>"},{"location":"features/extract-spatial-unit-spatialZone/#extraction-of-common-parts-from-the-database","title":"Extraction of Common Parts from the Database","text":"<p>In IFC SChependomlaan, we have:</p> <ul> <li>3 common areas on the ground floor</li> <li>1 common area on the other floors (first, second and third)</li> </ul> <p>We have grouped them under 1 single common SpatialZone with spans all floor and is attached to the building via an IfcRelAggregates relationship and to the spaces via IfcRelReferencedInSpatialStructure relationships.</p> <p>The extraction navigates the relationships from the IfcSpatialZone as the parent. Therefore we see the spaces and their boundaries (walls, slabs, door, windows).</p> <p>We provide hereunder two illustrative views. The first display bounding slabs, while the second has hidden those slabs.</p> <p></p> <p></p> <p>With an extract, the data of the SpatialZone is also displayed by BIMcollab Zoom and That Open (Web) as shown hereunder.</p> <p></p> <p></p>"},{"location":"features/extract-spatial-unit-storey/","title":"Extract a Storey from the Database","text":"Feature Group: Extract | PosgreSQL <p>Data and Spatial visualization</p> <p>Extractions are twofold: the invisible part is the set of data that pertain to the spatial unit at hand. On these data, processes can be run to provide metrics / indicators (surfaces and volumes, space types and usage, energy transfer, life cycle, reuse, ...).</p> <p>The visible part is there to help understand the structure of the spatial unit, but also to identify issues, such as components that exibit misclassification and other anomalies.</p>"},{"location":"features/extract-spatial-unit-storey/#extraction-of-a-storey-from-the-database","title":"Extraction of a Storey from the Database","text":"<p>Here, we work with the database and extract all the elements that are somehow part of a Spatial Unit, referred to in the code as a container. For the container, we start with a building storey.</p> <p>Initially, we work with Duplex_A_20110907_optimized.ifc, which has been filtered (no furnitures) and has several storeys.</p> <p>The target is an IFC(STEP file) that we can visualize with a standard IFC Viewer.</p>"},{"location":"features/extract-spatial-unit-storey/#submit-the-processing-request","title":"Submit the processing request","text":"<p>The extract is started by sending a POST with a Json Body as defined in pydantic with:</p> <ul> <li>the bundleId (bundle_id in PostgreSQL) of the bundle that contains the data of the IfcJSON from the conversion of the IFC file</li> <li>the GlobalId of the Storey in the elementId</li> <li>IfcBuildingStorey as elementType</li> <li>withIFC as True or False; if True, an IFC will also be produced</li> </ul> <pre><code>#\n# Extract a spatial unit from the database\n#\nclass ExtractSpatialUnit_Instruction(BaseModel):\n    bundleId: str | None = \"1\"\n    useRepresentationsCache: bool | None = False\n    elementType: Literal['IfcBuildingStorey', 'IfcZone', 'IfcSpatialZone', 'IfcSpace', 'IfcGroup']\n    elementId: str | None = 'e58c68d0-1297-4210-9416-2412e1e6acc1'\n    withIFC: bool | None = False\n\n    @computed_field()\n    def includeRelationshipTypes(self) -&gt; str:\n        if self.elementType == 'IfcBuildingStorey':\n            return ['IfcRelAggregates','IfcRelContainedInSpatialStructure','IfcRelFillsElement','IfcRelVoidsElement']\n        elif self.elementType == 'IfcSpatialZone' or self.elementType == 'IfcSpace':\n            return ['IfcRelAggregates','IfcRelContainedInSpatialStructure','IfcRelFillsElement','IfcRelVoidsElement','IfcRelSpaceBoundary','IfcRelReferencedInSpatialStructure']\n        elif self.elementType == 'IfcZone' or self.elementType == 'IfcGroup':\n            return ['IfcRelAggregates','IfcRelContainedInSpatialStructure','IfcRelFillsElement','IfcRelVoidsElement','IfcRelSpaceBoundary','IfcRelReferencedInSpatialStructure']\n        else:\n            return ['IfcRelAggregates','IfcRelContainedInSpatialStructure','IfcRelFillsElement','IfcRelVoidsElement']   \n\nclass ExtractSpatialUnit_Result(BaseModel):\n    resultPath: str # relative path of the result file (json)\n    runtime: float | None = 0.0 # in seconds\n# When withIFC = True, the conversion to IFC is also included and its result also     \nclass ConvertIfcJsonToIfc_Result(BaseModel):\n    resultPath: str # relative path of the result file (ifc)\n    runtime: float | None = 0.0 # in seconds\n</code></pre> <p>What needs to be included into includeRelationshipTypes  may be tuned to the source model data and the elementType, - here an IfcBuildingStorey</p>"},{"location":"features/extract-spatial-unit-storey/#processing","title":"Processing","text":"<p>We will use standard features of a database</p> <ul> <li>temporary table creation populated by the result of a query</li> <li>recursive query to find all 'descendants' of the Storey.</li> </ul> <p>The processing is outlined hereunder:</p> <ol> <li>Get the header of the bundle (all ifc's have a header); but we could also create a new one from scratch</li> <li>Get the container, i.e. 'Spatial Unit', e.g. the storey</li> <li>Get the parents of the container with respect to the IfcRelAggregates hierarchy (if the container is e.g., a storey, the parent is usually the building, then the site, then the project). We could possibly attach the selected Storey to the projet, but it's safer to have the hierarchy if relative positioning of elements is the default in the model</li> <li>Get all 'children elements' of the container, and their own 'children', etc. where the 'children' are the elements that are in a graph where 'parents' are the relating elements and the 'children' are the related elements in a relationship and 'descent' from the container.<ul> <li>we need to get the objects</li> <li>we need to get the object types</li> <li>we need to get the representations</li> <li>we need to get the 'down' relationships for the objects, i.e. the relationships where the object is the 'relating' element</li> <li>we need to get the 'up' relationships for the objects, i.e. the relationships where the object is the 'related' element</li> <li>we need to get the propertySets for the objects</li> </ul> </li> <li>Now that we have 'all' elements, we need to look at the elements that are referenced in one the element that we have but are NOT in the elements that we have. These referenced elements can be objects, representations or propertysets (referenced by an object type). We need to get all these elements and add them to the list of elements. This is a recursive process as a referenced element can also reference other elements that are not in the list of elements</li> <li>We can process the IfcStyledItems if any. They can reference presentation elements deep in the representation structure of be referenced by materials.</li> <li>We need to prune the related list of relationships to ensure we do not include related elements that are not in the spatial unit. This applies to IfcRelDefinesByProperties, IfcRelDefinesByType, IfcRelAssociatesMaterial.</li> <li>Now that we have all that is needed for a model, we build an ifcJSON</li> <li>And convert it to an IFC(Step file).</li> </ol>"},{"location":"features/extract-spatial-unit-storey/#view-with-bimcollab-of-extracted-level-1-of-duplex_a_20110907_optimized","title":"View with BIMcollab of extracted Level 1 of Duplex_A_20110907_optimized","text":"<p>We have the elements that we had in IfcPatch (above), but now we also have the stairs.</p> <p>Additionally, with the misconfigured walls in the source IFC we also gained the doors of those walls under 'Unreferenced items' .</p>"},{"location":"features/extract-spatial-unit-storey/#view-with-openifcviewer-of-extracted-level-1-of-duplex_a_20110907_optimized","title":"View with OpenIFCViewer of extracted Level 1 of Duplex_A_20110907_optimized","text":"<p>Compared with BIMcollab, we don't see 'Unregistered items', hence, the erroneously registered walls don't get their doors.</p>"},{"location":"features/extract-spatial-unit-storey/#view-with-that-open-of-extracted-level-1-of-duplex_a_20110907_optimized","title":"View with That Open of extracted Level 1 of Duplex_A_20110907_optimized","text":""},{"location":"features/extract-the-envelope/","title":"Extract the Envelope","text":"Feature Group: Extract | PostgreSQL <p>Data and Spatial visualization</p> <p>Extractions are twofold: the invisible part is the set of data that pertain to the spatial unit at hand. On these data, processes can be run to provide metrics / indicators (surfaces and volumes, space types and usage, energy transfer, life cycle, reuse, ...).</p> <p>The visible part is there to help understand the structure of the spatial unit, but also to identify issues, such as components that exibit misclassification and other anomalies.</p>"},{"location":"features/extract-the-envelope/#extraction-based-on-object-property-isexternal","title":"Extraction based on object property 'isExternal'","text":"<p>Construction Objects (Walls, Slabs, Columns, Beams, Doors, Windows, ...) have standardized property sets Pset_WallCommon, Pset_SlabCommon, Pset_ColumnCommon, PsetBeamCommon, Pset_DoorCommon, Pset_WindowCommon,  ... that typically have one of their properties related to the fact that the object is (or is not) external.</p> <p>Therefore it is possible to select external objects based on that information.</p>"},{"location":"features/extract-the-envelope/#submit-the-processing-request","title":"Submit the processing request","text":"<p>The extract is started by sending a POST with a Json Body as defined in pydantic with:</p> <ul> <li>the bundleId (bundle_id in PostgreSQL) of the bundle that contains the data of the IfcJSON from the conversion of the IFC file</li> <li>useRepresentationsCache as True or False; if True, propertysets will be cached in memory, instead of being accessed on a one by one basis</li> <li>withIFC as True or False; if True, an IFC will also be produced</li> </ul> <pre><code>class ExtractEnvelope_Instruction(BaseModel):\n    bundleId: str | None = \"1\"\n    useRepresentationsCache: bool | None = False\n    withIFC: bool | None = False\n\nclass ExtractEnvelope_Result(BaseModel):\n    resultPath: str # relative path of the result file (json) with the envelope\n    runtime: float | None = 0.0 # in seconds\n# When withIFC = True, the conversion to IFC is also included and its result also     \nclass ConvertIfcJsonToIfc_Result(BaseModel):\n    resultPath: str # relative path of the result file (ifc)\n    runtime: float | None = 0.0 # in seconds\n</code></pre>"},{"location":"features/extract-the-envelope/#examples","title":"Examples","text":""},{"location":"features/extract-the-envelope/#extraction-of-the-envelope-of-duplex_a_20110907_optimized","title":"Extraction of the envelope of Duplex_A_20110907_optimized","text":"<p>Hereunder, we have the result of the extraction. Top and bottom slabs are not included (data issue). Party walls are also marked as external (data issue). We have highlighted the upper party wall.</p> <p></p>"},{"location":"features/extract-the-envelope/#extraction-of-the-envelope-of-ifc-schependomlaan","title":"Extraction of the envelope of IFC Schependomlaan","text":"<p>Hereunder, we have the result of the extraction. We have hidden the top slabs (roof) to see inside the building. We have highlighted a floor slab to be sure that we can see through the construction to the floor.</p> <p></p>"},{"location":"features/extract-the-envelope/#extraction-of-the-envelope-of-nordiclca_housing_concrete_buildingpermit","title":"Extraction of the envelope of NordicLCA_Housing_Concrete_BuildingPermit","text":"<p>Hereunder, we have the result of the extraction. We have hidden the top slabs (roof) to see inside the building. We have highlighted a floor slab to be sure that we can see through the construction to the floor.</p> <p>We have also the slabs of the terraces which are rightly marked as external but should be removed from the envelope with a more sophisticated filtering (= some more python code).</p> <p></p>"},{"location":"features/extract-the-envelope/#extraction-of-the-envelope-of-nordiclca_office_concrete_buildingpermit","title":"Extraction of the envelope of NordicLCA_Office_Concrete_BuildingPermit","text":"<p>Hereunder, we have the result of the extraction. We have hidden the top slabs (roof) to see inside the building. We have highlighted a floor slab to be sure that we can see through the construction to the floor.</p> <p></p>"},{"location":"features/extract-the-envelope/#the-ifcenvelopeextractor","title":"The IfcEnvelopeExtractor","text":"<p>There are other ways to extract the envelope of a building, but often limited to the geometry which is not our main focus. </p> <p>It is however worth mentioning the IfcEnvelopeExtractor. It  enables users to automatically extract the building shell of an IFC-model and convert it to a CityJSON model. Automating this process allows designs to be quickly and easily analyzed on a city scale without the need for lengthy manual conversions. This is one of the steps required to close the gap between architecture/BIM and city scale models.</p>"},{"location":"features/filter-the-ifcjson-model/","title":"Filter the ifcJSON Model","text":"<p>Feature Group(s): Filter | Pandas</p>"},{"location":"features/filter-the-ifcjson-model/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>#\n# Filter an IFCJSON \n#\n\nclass FilterIfcJson_Instruction(BaseModel):\n    sourceFileURL: str | None = \"http://localhost:8002/IFCJSON/597e4482-c5ab-4f8d-a02b-e7db99a14a37_NI.json\"\n    filter: IfcJsonFilter\n\nclass IfcJsonFilter(BaseModel):\n    categoryList: list[Literal['construction','furniture','group','material','ownership','project','propertySet','quantity','relationship','representation','space','system']] | None = ['construction','group','material','ownership','project','propertySet','quantity','relationship','representation','space'] \n    excludeTypeList: list[str] | None = ['IfcBuildingElement','IfcBuildingElementPart','IfcBuildingElementProxy','IfcBuildingElementProxyType']\n\nclass FilterIfcJson_Result(BaseModel):\n    resultPath: str # relative path of the result file (json)    \n    runtime: float | None = 0.0 # in seconds\n</code></pre>"},{"location":"features/filter-the-ifcjson-model/#filter-the-ifcjson","title":"Filter the IfcJSON","text":"<p>Filtering the content of an IFC helps to provide a focused information set that is relevant for a specific administrative use case.</p> <p>A Digital Building Permit will e.g., not need the information for all illustrative furnitures placed in the IfcSpaces. Details on ventilation systems may be relevant or not. Connectedness of walls may be superfluous or not.</p> <p>There are 876 IfcEntities in the spec IFC 4.3.2 Annex B Alphabetical listings - Entities. Which is a lot!</p> <p>There a two ways to filter:</p> <ul> <li>Extraction: select the Elements that we want to keep. This can be done directly on the IFC model with IfcPatch by applying an 'ExtractElements' recipe. This is both efficient and convenient if the list of elements that we want to keep is  limited. Extraction with IfcPatch is illutrated in a separate section (Extract Elements from the IFC model).</li> <li>Filtering out elements that are not needed: this is relatively complex and is the object of this section.</li> </ul> <p>We propose a two-fold approach:</p> <ol> <li>Association of categories (such as 'construction', 'system', ...) to individual entities.  This is defined in the csv under /db/csv/ifc-types-ref.csv. The filter will give the categories that are retained</li> <li>With a given category, some IfcEntities might be superfluous for the use case, so they can be excluded.</li> </ol> <p>The filtering is done by loading the ifcJSON in pandas Dataframes and/or Series, as they provide convenient capabilities.</p> <p>Filtering the elements is not enough. It is critial to ensure that there are no references left to elements that have been filtered out.</p> <p>There are also the relationships that link a relating element (the ''parent'') to a list of related elements (the ''children''). If a ''child'' is removed, it needs to be pruned from the list of related elements. If a ''parent'' loses all its ''children'', it needs to be removed.</p> <p>The relating and related elements are named differently for the many types of relationships. Therefore, there is a csv (in /db/csv/ifc-relationships-ref.csv) that documents, for each relationship type, the names that must be used for the ''relating'' and the ''related'' elements.</p> <p>The processing is then straightforward:</p> <ol> <li>Filter the model</li> <li>Split de list of entities is 4 groups (following the proposed Physical Table Model):<ul> <li>Representations</li> <li>PropertySets</li> <li>Relationships</li> <li>Objects: all entities that are not in one of the 3 others</li> </ul> </li> <li>Drop representations that are not related to objects retained in the model</li> <li>Prune the related members in the relationships; if there is no related left, then:<ul> <li>if the relating is a property_set:  drop the property_set</li> <li>in all cases: drop the relationship</li> </ul> </li> </ol> <p>At the end, the filtered model is saved as an ifcJSON.</p>"},{"location":"features/generate-the-ifc-model-with-IfcOpenShell/","title":"Generate the IFC model with IfcOpenShell","text":"<p>TO DO</p>"},{"location":"features/import-and-process-ifc/","title":"Import an IFC2X3, IFC4 or IFC4X3, convert the file to IfcJSON and store the data in the database","text":"Feature Group: Workflow <p>Execution of a series actions: convert to IfcJSON, filter the IfcJSON and store the data in the database</p> <p>This workflow executes the previous features:</p> <ul> <li>Convert IFC to IfcJSON</li> <li>Filter the IfcJSON Model</li> <li>Store the IfcJSON in the Database</li> </ul>"},{"location":"features/import-and-process-ifc/#submit-the-processing-request","title":"Submit the processing request","text":"<p>Import is started by sending a POST with a Json Body as defined in pydantic</p> <pre><code>#\n# Import an IFC, convert it to an IFCJSON and store the data in the database\n#\n\nclass ImportAndProcessIfc_Instruction(BaseModel):\n    source: ConvertIfcToIfcJson_Instruction\n    filter: Filter_Instruction | SkipJsonSchema[None] = None\n    store: Store_Instruction\n\nclass ConvertIfcToIfcJson_Instruction(BaseModel):\n    sourceFileURL: str | None = \"http://localhost:8002/IFC_SOURCE_FILES/Duplex_A_20110907_optimized.ifc\"\n\nclass Filter_Instruction(BaseModel):\n    filter:IfcJsonFilter\n\nclass FilterIfcJson_Instruction(BaseModel):\n    sourceFileURL: str | None = \"http://localhost:8002/IFCJSON/597e4482-c5ab-4f8d-a02b-e7db99a14a37_NI.json\"\n    filter: IfcJsonFilter\n\nclass Store_Instruction(BaseModel):\n    spatialUnitId: str | None = \"5f2d17b0-43fb-445d-9c67-7dafb3292c33\"\n    bundleName: str | None = \"Duplex_A_20110907_optimized\" # name of the bundle\n    parentBundleId: str | None = None # remove parentBundleId if there is no parent\n\n# ImportAndProcessIfc_Result will be available in the \n#    ConvertIfcToIfcJson_Result\n#    FilterIfcJson_Result (if filter is not None)\n#    StoreIfcJsonInDb_Result  \n</code></pre> <p>FastAPI provides by default at /docs a swagger utility that simplifies the execution of tests.</p> <p>The request provides:</p> <ul> <li>default values (from None = ) that must be adjusted to your specific case</li> <li>the filter if needed (more on that in filter the model)</li> </ul> <p>Hereunder a screenshot of the request available at /docs</p> <p></p> <p>Hereunder a screenshot of the request skimmed form filter and parentBundleId, typically not needed for a primary import.</p> <p></p>"},{"location":"features/import-non-ifc-model/","title":"Import Non IFC Model","text":"<p>TO DO</p>"},{"location":"features/introduction/","title":"Introduction","text":""},{"location":"features/introduction/#foreword","title":"Foreword","text":"<p>Because d4SU is not yet a production environment for specific identified administrative processes, the presented features are actually illustrations of capabilities rather that a set of product features.</p> <p>Features specific to the platform rely on Python tools such as IfcOpenShell-python, pandas DataFrames and Series.</p> <p>However, other features rely explicitely on standard SQL and other constructs that are programming language agnostic. The code is in Python but could as well be in Typescript, Rust, Java, C#, ...</p> <p>Unless explicitly specified only IFC2X3, IFC4X* are supported. IFC5 is still under development and addressed in IFC5.</p>"},{"location":"features/introduction/#key-functional-features","title":"Key Functional Features","text":"<p>As stated in the Architecture there are 9 groups of features targeted by d4SU</p> <ul> <li>Check: validate a Model against one or more requirements</li> <li>Convert: convert a Model from one format/schema to another</li> <li>Geometry: provide capabilities that change the type of a represention or complement the exisiting representation with a new one</li> <li>Filter: select coherent a subset of objects, relationhips, properties and representation in a Model</li> <li>Store : store the data of an IfcJSON into the database or add IfcSpatial Zones and their relationships</li> <li>Export: export a subset of object, properties or combination in a csv or json format</li> <li>Extract: extract a subset of objects, relationships, properties and representations and provide a corresponding IfcJson Model and optionally its corresponding IFC (Step file)  </li> <li>Host: host 'third-party' domain functions (related to LCA, BAMB, EPC, ...)</li> <li>Workflow: chain of operations leveraging the other features.</li> </ul>"},{"location":"features/introduction/#code-structure","title":"Code structure","text":"<p>The code is availble on GitHub under /src with a specific structure</p> directory use /web API layer exposed via Swagger /service Service layer /model Model layer; provides the models (shared with all layers) and the tables definitions /data Data layer; takes care of all that pertains to CRUD on postgreSQL or to read/write of files through PyArrow /ifcpatch a local copy of IfcPatch (with small adjustments) /local_module Modules from other sources such as IfcOpenShell (with small adjustments) /long_bg_task Base for Celery (with celery.py and task.py) /long_bg_task/Task_modules Long running background tasks (executed by a Celery Worker). By 'long running', it is meant 'with a runtime measured in hundreds of milliseconds or in seconds'"},{"location":"features/introduction/#access","title":"Access","text":""},{"location":"features/introduction/#home-page","title":"Home page","text":"<p>A simple page is provided at the root (/) with a base menu that gives  access to:</p> <ul> <li>the Swagger and Redoc for all APIs</li> <li>the Proxy WebSocket Client</li> <li>the That Open viewer</li> <li>the IFC5 viewer from IFC5-developement</li> </ul> <p></p>"},{"location":"features/introduction/#swagger","title":"Swagger","text":"<p>A Swagger is provided at /docs with the documentation of API's and a 'Try it out' capability for all API's.</p> <p></p>"},{"location":"features/introduction/#proxy-websocket-client","title":"Proxy WebSocket Client","text":"<p>API are either served synchronously, such as all CRUD API's or asynchronously, such as import, convert, extract,... API's.</p> <p>Fore those API's the request is done synchronously and the response is in two steps:</p> <ul> <li>a synchronous response with a status and proctoken that will serve for pairing the asynchronous response with the request</li> <li>an asynchronous response with the result of the request which will be provided via a WebSocket.</li> </ul> <p>The Proxy WebSocket Client pages allows to see all asynchronous responses.</p> <p></p>"},{"location":"features/introduction/#worflows","title":"Worflows","text":"<p>The following schema shows key expected workflows</p> <pre><code>block-beta\n    columns 5\n    blockArrowId1&lt;[\"&lt;/br&gt;1. Import a model&lt;/br&gt;from a BIM/IFC file&lt;/br&gt;&amp;nbsp;\"]&gt;(right)\n    blockArrowId2&lt;[\"2. Filter the model and&lt;/br&gt; keep only essential&lt;/br&gt; elements for the &lt;/br&gt;use case at hand\"]&gt;(right)\n    space:3\n    space:1\n    blockArrowId3&lt;[\"&amp;nbsp;&lt;/br&gt;3. Store the ifcJSON in&lt;/br&gt;the Database&lt;/br&gt;&amp;nbsp;\"]&gt;(right)\n    blockArrowId4&lt;[\"4. Extract the data&lt;/br&gt;for target&lt;/br&gt; Spatial Unit(s) /&lt;/br&gt;Spatial Zone(s)\"]&gt;(right)\n    blockArrowId5&lt;[\"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\"]&gt;(down)\n    space:2\n    blockArrowId12&lt;[\"&lt;/br&gt;9. Store an ifcJSON&lt;br/&gt; for the bespoke model&lt;/br&gt;&amp;nbsp;\"]&gt;(right)\n    blockArrowId10&lt;[\"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\"]&gt;(right)\n    blockArrowId6&lt;[\"5. Enrich / Complement&lt;/br&gt;the data for the&lt;/br&gt;use case at hand\"]&gt;(y)\n    blockArrowId7&lt;[\"6. Create a semantically&lt;/br&gt; rich 3D representation&lt;/br&gt;that can be explored&lt;/br&gt; with an IFC Viewer\"]&gt;(right)\n    blockArrowId8&lt;[\"&lt;/br&gt;7. Import a bespoke&lt;/br&gt;non BIM/IFC model&lt;/br&gt;&amp;nbsp;\"]&gt;(right)\n    blockArrowId9&lt;[\"&lt;/br&gt;8. Store the model&lt;/br&gt;into the database&lt;/br&gt;&amp;nbsp;\"]&gt;(up)\n    space:2</code></pre> <p>This diagram provide a high level story board of what we want to show/validate</p> <ol> <li>Import a BIM/IFC from an external source, convert the schema if appropriate, validate the IFC against an IDS and transform the valid IFC into an ifcJSON</li> <li>Filter the ifcJSON while retaining only the elements that are relevant for the use case(s) at hand. In some cases, the Administrative Authority  may have detailed what is expected in the BIM/IFC. This is the case for the Digital Building Permit of Dubai where detailed templates and instructions are provided for Archicad, Bentley OpenBuilding and Revit so that the exported BIM/IFC is fully adequate for the use of the Administrative Authority. However, this might be difficult to generalize and we start with the assumption that a single BIM/IFC will potentially be used across distinct Administrative Authorities and need to be filtered depending on the use case(s) at hand.  </li> <li>Store the ifcJSON into the database (PostgreSQL)</li> <li>Extract the data from the database for a target 'Spatial Unit' (a Building, a Storey, an Apartment, Common part(s),...), while leveraging the power of SQL, possibly complemented by other capabilities when needed.</li> <li>Enrich/Complement the data for the use case at hand. This means, create new groups (such as Zones, Spatial Zones or simply Groups) an create/update PropertySets. This is where external applications will highly interact with d4SU platform.</li> <li>Read data from the database and rebuild an ifcJSON with the relevant data and convert it to an IFC file so that standard IFC viewer can be used to navigate through the data (not just a 3D shape)</li> <li>Import a bespoke non BIM/IFC model (typically from a legacy system). The import will transform the legacy model into 'objects', 'representations', 'relationships' and 'propertySets'. We assume that it cannot be expected that every input will be BIM/IFC from day one or that the past can be ignored. Therefore, other models must be accounted for.</li> <li>Store the bespoke model into the database</li> <li>Create and Store an ifcJSON for the bespoke model. From there it will behave as a standard BIM model, although not suited for use by the AEC insdustry to 'construct' the represented building or part thereof. We will give an example of how simple it is to build an IFC from a model using IfcOpenShell. But practically, creating a meaningful IFC for a bespoke model will always require a development to accomodate the specifics of the model.</li> </ol>"},{"location":"features/introduction/#from-api-to-database","title":"From API to Database","text":"<pre><code>flowchart LR\n    Ifc\n    Custom[\"Custom Model\"]\n    ifcJSON\n    Other[\"CityJSON, LDB, glTF,...\"]\n    DB[(\"Database\")]\n    API &lt;--&gt; IfcOpenShell\n    API &lt;--&gt; SQL\n    API &lt;--&gt; ifcJSON\n    API &lt;--&gt; Graph\n    Graph &lt;--&gt; DB\n    Custom -- convert --&gt; Ifc\n    Custom -- is stored --&gt; DB\n    SQL &lt;--&gt; DB\n    IfcOpenShell --&gt; Ifc\n    Ifc &lt;-- convert --&gt; ifcJSON\n    Ifc --&gt; Other\n    Other --&gt; Ifc\n    ifcJSON &lt;-- store | retrieve --&gt; DB\n    style API fill:#148F77\n    style DB fill:#148F77</code></pre> <p>Technically speaking, FastAPI and Celery provide the glue to bring together the capabilities provided by the BIM/IFC ecosystem in order to cover the needs of d4SU.</p> <p>On the left we have the API and on the right we have the Database. Between them, different representations are activated to leverage the capabilities of IfcOpenShell (including IfcPatch, IfcConvert), IfcJSON (two-way conversion between IFC(STEP Model &amp; file) and IfcJSON (a JSON Model &amp; file)), SQL and possibly CYPHER. Also, different conversion tools can be enacted to produce other representations: e.g.:</p> <ul> <li>COLLADA or glTF for Google Earth, Cesium, ... (IfcConvert)</li> <li>CityJSON for GIS applications (IfcConvert, IfcCityJson)</li> <li>LBD (Linked Building Data) with IFCtoLBD</li> </ul> <p>Complex sequences of transformations can be executed, with the help of IfcPatch to:</p> <ul> <li>Extract elements of the model, for instance all standards elements [Wall, Slabs, Beams, Columns, Windows, Doors, Spaces, Stairs]</li> <li>Split in Storeys / Levels</li> <li>Migrate a version, e.g from Ifc 2x3 to Ifc 4</li> <li>Purge Data</li> <li>Tesselate elements (simplify geometry rendering)</li> </ul> <p>Link to other Capabilities (examples)</p> <p>As more functionalities are made available, they could be leveraged by the platform. E.g., IfcLCA for Life Cycle Analysis or bim2sim for Heating, Ventilation Air-conditioning (HVAC), Building Performance Simulation (BPS) or Computational Fluid Dynamics (CFD)</p>"},{"location":"features/introduction/#ifc-files","title":"Ifc Files","text":"<p>Ifc files used for tests and explorations come from reference sources such as:</p> <ul> <li>The OPENIFC MODEL REPOSITORY</li> <li>The buildingSMART Sample &amp; Test Files</li> <li>Karlsruhe Institute of Technology (KIT), IFC Examples</li> </ul> <p>The following files have been extensively used:</p> <ul> <li>Duplex_A_20110907_optimized.ifc; 'Autodesk Revit Architecture 2011 - 1.0','20100326_1700 (Solibri IFC Optimizer)',''); FILE_SCHEMA(('IFC2X3'));</li> <li>IFC Schependomlaan.ifc; with BREP geometry and 2ndLevel IfcRelSpaceBoundary. IFC file generated by Graphisoft ArchiCAD-64 18.0.0 NED FULL Windows version (IFC2x3 add-on version: 6000 NED FULL)</li> <li>Duplex_M_20111024_ROOMS_AND_SPACES.ifc; with BREP Geometry; 'Autodesk Revit MEP 2011 - 1.0','20100903_2115(x64)','');FILE_SCHEMA(('IFC2X3'));</li> <li>ARK_NordicLCA_Housing_Concrete_BuildingPermit_Revit.ifc; Autodesk Revit 24.0.5.432 (ENU) - IFC 24.0.5.432','');FILE_SCHEMA(('IFC4'))</li> <li>AC20-FZK-Haus.ifc; an IFC demo model with an extensive use of IFC modeling capabilities (e.g. use of product types with representationMaps instead of direct product representations).</li> </ul>"},{"location":"features/introduction/#duplex_a_20110907_optimizedifc","title":"Duplex_A_20110907_optimized.ifc","text":"<p>The file Duplex_A_20110907_optimized.ifc provides a model with many features. The model contains as usual a project with a building and several storeys. Also,  as usual,  there are walls, slabs, beams, doors, windows, stairs, spaces and furnishing elements. Spaces are delimited by  'IfcRelSpaceBoundary' '1stLevel' relationships that provide space delimiters such as  'walls', 'slabs', 'doors', 'windows'. Also, there are many 'IfcRelConnectsElements' that documents the connections between walls and have some side effects that must be handled.</p>"},{"location":"features/introduction/#view-of-duplex_a_20110907_optimizedifc-with-openifcviewer","title":"View of Duplex_A_20110907_optimized.ifc with OpenIFCViewer","text":""},{"location":"features/introduction/#view-of-duplex_a_20110907_optimizedifc-with-that-open","title":"View of Duplex_A_20110907_optimized.ifc with That Open","text":""},{"location":"features/introduction/#view-of-duplex_a_20110907_optimizedifc-with-bimcollab-zoom","title":"View of Duplex_A_20110907_optimized.ifc with BIMCollab zoom","text":""},{"location":"features/introduction/#view-of-duplex_a_20110907_optimizedifc-with-solibri-anywhere","title":"View of Duplex_A_20110907_optimized.ifc with Solibri Anywhere","text":""},{"location":"features/introduction/#ifc-schependomlaanifc","title":"IFC Schependomlaan.ifc","text":"<p>IFC Schependomlaan.ifc is a typically rich (hence complex) IFC file. Among its many features it contains a SpaceBoundary2ndLevelView. Spaces are delimited by 'IfcRelSpaceBoundary' '2ndLevel' relationships that are suited for energy analysis. There are however some anomalies in the file. There are 10 apartments in the building, some have doors (an not windows) in the space boundary and some have windows (and not doors) in the space boundary.</p> <p></p>"},{"location":"features/introduction/#residential-building-from-nordic-sustainable-construction-bim4lca-files","title":"Residential Building from Nordic Sustainable Construction BIM4LCA Files","text":"<p>BIM4LCA - Residential Building is a recent set of IFC files with different variants published 09/2024. According to the publishing site, \"In all design phases of the project, the disciplines carried out the design work solely by modelling. As a result, several model versions were produced. All the models are available to download... They are free for anyone to use under the Creative Commons license (CC BY-SA 4.0)\". Spaces are delimited by 'IfcRelSpaceBoundary' '2ndLevel' relationships that are - expectedly - suited for energy analysis.</p>"},{"location":"features/introduction/#residential-building-architecture-solibri-anywhere","title":"Residential Building Architecture - Solibri Anywhere","text":"<p>The following is provided as reference of how Solibri renders the ifc file before any transformation we cab apply later on.  </p> <p></p> <p></p>"},{"location":"features/introduction/#residential-building-architecture-bimcolab","title":"Residential Building Architecture - BimColab","text":""},{"location":"features/introduction/#residential-building-hvac","title":"Residential Building HVAC","text":""},{"location":"features/introduction/#residential-building-electricity","title":"Residential Building Electricity","text":""},{"location":"features/introduction/#office-building-from-nordic-sustainable-construction-bim4lca-files","title":"Office Building from Nordic Sustainable Construction BIM4LCA Files","text":""},{"location":"features/introduction/#office-building-architecture","title":"Office Building Architecture","text":""},{"location":"features/introduction/#office-building-hvac","title":"Office Building HVAC","text":""},{"location":"features/introduction/#office-building-electricity","title":"Office Building Electricity","text":""},{"location":"features/introduction/#ac20-fzk-haus","title":"AC20-FZK-Haus","text":"<p>This is a reference / demo model for IFC which we use for processing Ifc Objects with a type and an IfcRelDefinesByType (such as IfcWall with an IfcWallType, IfcSlab with and IfcSlabType, IfcWindow with an IfcWindowType, ...) as outlined in Object Types. These typed object are less extensively present in the other IFC files produced by a conversion (from Architcad, Revit or other).</p> <p></p>"},{"location":"features/migrate-ifc-schema-to-ifc4/","title":"Migrate the IFC Schema from IFC2X3 to IFC4","text":"<p>Feature Group: Convert | IfcOpenShell / IfcPatch</p> <p>This feature convert an IFC2X4 to an IFC4 using IfcOpenShell IfcPatch module with 'Migrate' recipe.</p> <p>This is useful when a feature is only available from IFC4 onwards and the IFC schema version of IFC file from the AECO tool is IFC2X3.</p> <p>As an example, tessellation is available as of IFC4 but not with previous schema versions.</p>"},{"location":"features/migrate-ifc-schema-to-ifc4/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>#\n# Migrate an IFC file to a different schema (IFC2X3 -&gt; IFC4)\n#\nclass MigrateIfcSchema_Instruction(BaseModel):\n    sourceFileURL: str | None = \"http://localhost:8002/IFC_SOURCE_FILES/Duplex_A_20110907_optimized.ifc\"\n    targetSchema: str | None = \"IFC4\"\n\nclass MigrateIfcSchema_Result(BaseModel):\n    resultPath: str # relative path of the result file (ifc)\n    runtime: float | None = 0.0 # in seconds\n</code></pre>"},{"location":"features/read-model-from-db/","title":"Read the ifcJSON model from the Database","text":"Feature Group(s): CRUD | PostgreSQL <p>This is very simple:</p> <ul> <li>Get the objects from the object table ifcjson field</li> <li>Get the representations from the representation table ifcjson field</li> <li>Get the propertySets from the propertyset table ifcjson field</li> <li>Get the relationships from the relationship table ifcjson field</li> </ul> <p>Get the header from the bundle table or create a new one.</p> <p>Load all in an ifcJSON and store it. Done!</p>"},{"location":"features/read-model-from-db/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>#\n#   Get the IFCJSON from the database \n#  \nclass GetIfcJsonFromDb_Instruction(BaseModel):\n    bundleId: str | None = None # must be an integer\n\nclass GetIfcJsonFromDb_Result(BaseModel):\n    resultPath: str # relative path of the result file (json)\n    runtime: float | None = 0.0 # in seconds\n</code></pre>"},{"location":"features/references/","title":"References","text":""},{"location":"features/references/#papers","title":"Papers","text":""},{"location":"features/references/#ifc-to-citygml","title":"IFC to CityGML","text":"<p>Automatic conversion of IFC datasets to geometrically and semantically correct CityGML LOD3 buildings  (https://3d.bk.tudelft.nl/hledoux/pdfs/16_tgis_ifcitygml.pdf).</p>"},{"location":"features/references/#tools","title":"Tools","text":""},{"location":"features/references/#batchplan","title":"BATCHPLAN","text":"<ul> <li>BATCHPLAN: A LARGE SCALE SOLUTION FOR FLOOR PLAN EXTRACTION</li> <li>code on Github</li> </ul>"},{"location":"features/references/#ifc-entities","title":"Ifc Entities","text":"<p>IFC 4.3.2 Annex B Alphabetical listings - Entities</p>"},{"location":"features/references/#ifccityjson-one-way-from-cityjson-to-ifc","title":"IFCCityJSON one way from CityJSON to IFC","text":"<ul> <li>IFCCityJSON one way from CityJSON to IFC.</li> <li>IfcOpenShell Documentation / IfcCityJSON</li> <li>Getting started with CityJSON</li> </ul>"},{"location":"features/references/#cityjson-validator","title":"CityJSON Validator","text":"<p>CityJSON Validator</p>"},{"location":"features/references/#cityjson-toolkit-cjio","title":"CityJSON Toolkit cjio","text":"<p>cityjson toolkit cjio</p>"},{"location":"features/references/#ifcconvert","title":"IfcConvert","text":"<p>IfcConvert - Usage IfcConvert Download</p>"},{"location":"features/references/#online-3d-viewer","title":"Online 3D Viewer","text":"<p>Online 3D Viewer</p>"},{"location":"features/references/#ninja-viewer","title":"Ninja Viewer","text":"<p>ninja viewer code available on github</p>"},{"location":"features/references/#ifcpatch","title":"IfcPatch","text":"<p>IfcPatch</p>"},{"location":"features/references/#ifcenvelopeextractor","title":"IfcEnvelopeExtractor","text":"<p>IfcEnvelopeExtractor</p>"},{"location":"features/references/#ifcjson","title":"IfcJSON","text":"<p>IFC2JSON</p> <p>JSON2IFC</p>"},{"location":"features/references/#ifctolbd","title":"IFCtoLBD","text":"<p>Ifc to Linked Building Data</p> <p>IFCtoLBD</p>"},{"location":"features/references/#ifclca","title":"IfcLCA","text":"<p>Ifc Life Cycle Analysis</p> <p>IfcLCA</p>"},{"location":"features/references/#bim2sim","title":"bim2sim","text":"<p>bim2sim</p>"},{"location":"features/references/#solutions","title":"Solutions","text":""},{"location":"features/references/#3dcitydb","title":"3DCityDB","text":"<p>3DCityDB</p>"},{"location":"features/references/#digital-building-permit-of-dubai","title":"Digital Building Permit of Dubai","text":"<p>Digital Building Permit of Dubai</p>"},{"location":"features/references/#ifc-sample-files","title":"IFC Sample Files","text":""},{"location":"features/references/#ifc-repositories","title":"IFC Repositories","text":"<ul> <li>The OPENIFC MODEL REPOSITORY</li> <li>The buildingSMART Sample &amp; Test Files</li> <li>Karlsruhe Institute of Technology (KIT), IFC Examples</li> </ul>"},{"location":"features/references/#ifc-files-used","title":"IFC Files Used","text":"<ul> <li>Duplex_A_20110907_optimized.ifc</li> <li>IFC Schependomlaan.ifc</li> <li>Duplex_M_20111024_ROOMS_AND_SPACES.ifc</li> </ul> <p>From Nordic Sustainable Construction:</p> <ul> <li>ARK_NordicLCA_Housing_Concrete_BuildingPermit_Revit.ifc -- Architecture</li> <li>HVAC_NordicLCA_Housing_Concrete_BuildingPermit.ifc -- HVAC</li> <li>ELE_NordicLCA_Housing_Concrete_BuildingPermit.ifc -- Electricity</li> <li>ARK_NordicLCA_Office_Concrete_As-Built_Revit.ifc -- Architecture</li> <li>HVAC_NordicLCA_Office_Concrete_BuildingPermit.ifc -- HVAC</li> <li>ELE_NordicLCA_Housing_Timber_BuildingPermit.ifc -- Electricity</li> </ul> <p>More information on these files at</p> <p>https://www.nordicsustainableconstruction.com/knowledge/2024/september/bim-for-building-lca</p> <p>https://www.nordicsustainableconstruction.com/Media/638616414274636915/BIM%20for%20Building%20LCA_Enhancing%20Nordic%20Sustainable%20Construction%20Through%20Digitalisation.pdf</p> <p>https://www.youtube.com/playlist?list=PLKuMoWj9yd7Ww3rne-uU3iq-LM2IypfE9&amp;jct=zFxiyDdah8WJ_MAxaWlYEA</p>"},{"location":"features/store-in-database/","title":"Store the ifcJSON in the Database","text":"Feature Group: Store | PostgreSQL <p>This is done by reading the ifcJSON, loading it in pandas DataFrame and or Series and splitting it in categories.</p> <ul> <li>Representations</li> <li>PropertySets</li> <li>Relationships</li> <li>Objects: all entities that are not in one of the 3 others</li> </ul> <p>Thereafter, there is a basic processing to adjust to the Physical model which is under /src/model/common.py with SQLModel / Pydantic definitions.</p>"},{"location":"features/store-in-database/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>#\n# Store an IFCJSON in the database\n#\nclass StoreIfcJsonInDb_Instruction(BaseModel):\n    spatialUnitId: str | None = \"5f2d17b0-43fb-445d-9c67-7dafb3292c33\"\n    bundleName: str | None = \"Duplex_A_20110907_optimized\" # name of the bundle\n    sourceFileURL: str | None = \"http://localhost:8002/IFCJSON/7be56a97-3db3-4c85-94e8-86ac45b63ff6_FIL.json\" \n    parentBundleId: str | None = None # remove this if there is no parent\n\nclass StoreIfcJsonInDb_Result(BaseModel):\n    bundleId: str    \n    runtime: float | None = 0.0 # in seconds\n</code></pre> <p>In the Instruction:</p> <ul> <li>the spatialUnitId is the id of the spatialUnit associated to the IfcJSON file and to the corresponding IFC; - to be stored in the database, an association of the IfcJSON to a SpatialUnit is mandatory. This one can be created with the corresponding service.</li> <li>the bundleName is the name for the bundle that will logically contain the data of the IfcJSON; the choice of the name is free</li> <li>the sourceFileURL  is that of the IfcJSON file</li> <li>the parentBundleId is that if the parent bundle when there is one</li> </ul> <p>In the Result:</p> <ul> <li>the bundleId is the string value of the bundle integer id</li> </ul>"},{"location":"features/store-in-database/#object-table-in-the-database","title":"Object Table in the database","text":"<p>The physical model is available under /src/model/common.py with SQLModel / Pydantic definitions.</p> <p>Hereunder the example of the object table.</p> <pre><code>class object(SQLModel, table=True):\n    bundle_id: int = Field(nullable=False, alias='bundleId', primary_key=True)\n    object_id: UUID4 = Field(primary_key=True)\n    type: str = Field(nullable=False)\n    name: str = Field(nullable=True) # have object with no name (e.g. IfcOpeningElement)\n    representation_ids: list[str] = Field(sa_column=Column(ARRAY(String(36))), default=[], alias='representationIds')\n    elementjson: dict = Field(sa_column=Column(JSON), default={}, alias='elementJson')\n    created_at: datetime.datetime = Field(sa_column=Column(DateTime(), default=func.now(), nullable=False))\n    updated_at: Optional[datetime.datetime] = Field(sa_column=Column(DateTime(), nullable=True ))\n</code></pre> <ul> <li>The object_id is the IFC globalId in expanded format as provided by IFC2JSON.</li> <li>The type is the IfcEntity Name (IfcProject, IfcSite, IfcBuilding,  IfcBuildingStorey, ...). It could be replaced by a shorter id (e.g. int).</li> <li>The name is the name provided in the IFC. In principle it should bear some meaning, but that is not always the case. In some IFC, it may just not provided.</li> <li>The representation_ids (list / array) are the ids of the representations (geometries). They are extracted from the entity json to be available for queries</li> <li>The ifcjson is the copy of the entity dictionary provided by ifcJSON. It is not exploded and can be processed as needed by a specific use case.</li> </ul> <p>The other tables follow the same pattern. It is worth noting that FastAPI/ SQLModel/SQLAlchemy can create all tables that where not already there on startup of the server (or when needed).</p> <p>The database is PostgreSQL. For this upload, bulk inserts are used, following the guidelines of Fastest-Methods-to-Bulk-Insert-Pandas-Dataframe-into-PostgreSQL using psycopg2 copy_expert()</p>"},{"location":"features/store-in-database/#complement-the-bundle-data","title":"Complement the bundle data","text":"<p>The database is updated with:</p> <ul> <li>an entry in the bundle table</li> <li>an entry in the bundleJournal table</li> <li>an entry in the bundleUnit as a root entity (the project)</li> <li>an entry in the spatialUnitBundleUnit table</li> </ul> <pre><code>flowchart TB\n    bundle\n    bundleJournal\n    spatialUnit[\"spatial=Unit: root\"]\n    bundleUnit[\"bundleUnit: root\"]\n    spatialUnitBundleUnit\n    spatialUnitBundleUnit --o bundleUnit\n    spatialUnitBundleUnit --o spatialUnit\n    bundle --o bundleUnit\n    bundle --o bundleJournal\n    bundleUnit --o bundleUnitSite[\"bundleUnit: site\"]\n    bundleUnitSite --o bundleUnitBuilding[\"bundleUnit: building\"]\n    bundleUnitBuilding --o bundleUnitStorey[\"bundleUnit: storey\"] \n    bundleUnitStorey --o bundleUnitSpace[\"bundleUnit: space\"] </code></pre>"},{"location":"features/tessellate-ifc-elements/","title":"Tessellate IFC Elements","text":"<p>Feature Group: Convert | IfcOpenShell / IfcPatch</p> <p>This feature converts the geometry of selected IFC Elements to a mesh of triangles using IfcOpenShell IfcPatch module with 'TessellateElements' recipe.</p> <p>Standard geometry operations can be performed on mesh without needing to resort to a sophisticated geometry library.</p> <p>The IFC File must have a schema version IFC4 or more recent.</p>"},{"location":"features/tessellate-ifc-elements/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>#\n# Tessellate selected product elements in an IFC \n#\nclass TessellateIfcElements_Instruction(BaseModel):\n    sourceFileURL: str | None = \"http://localhost:8002/IFC_SOURCE_FILES/AC20-FZK-Haus.ifc\"\n    tessellateIfcElements: TessellateIfcElements\n\nclass TessellateIfcElements(BaseModel):\n    elementTypes: list[str] | None = [\"IfcSpace\"]\n    forcedFacetedBREP: bool | None = False\n\nclass TessellateIfcElements_Result(BaseModel):\n    resultPath: str # relative path of the result file (ifc)\n    runtime: float | None = 0.0 # in seconds\n</code></pre> <p>The elementTypes gives the list of element for which we expect to change the geometry representation.</p> <p>Note</p> <p>Tessellate does not maintain the style (this is a known feature / bug). In the present state, tesselation should better not be used on the primary import.</p>"},{"location":"features/transform-to-ifc/","title":"Convert an IfcJSON to an IFC","text":"Feature Group(s): Convert | IfcOpenshell / IfcJSON"},{"location":"features/transform-to-ifc/#submit-the-processing-request","title":"Submit the processing request","text":"<pre><code>#\n#   Convert an IFCJSON to IFC\n#\nclass ConvertIfcJsonToIfc_Instruction(BaseModel):\n    sourceFileURL: str | None = \"http://localhost:8002/IFCJSON/cd5af173-e5a0-4ded-b005-d76660e80dc7_OUT.json\"\n\nclass ConvertIfcJsonToIfc_Result(BaseModel):\n    resultPath: str # relative path of the result file (ifc)\n    runtime: float | None = 0.0 # in seconds\n</code></pre>"},{"location":"features/transform-to-ifc/#create-the-ifc-with-json2ifc","title":"Create the IFC with JSON2IFC","text":"<p>The conversion is carried on in Celery with JSON2IFC module</p>"},{"location":"features/transform-to-ifc/#issues","title":"Issues","text":"<p>Note</p> <p>There is an  'unknown issues' with LARGE_MODEL_20210219Architecture.ifc. After an hour it was still busy. The issue is probably linked to the issue we had with NO_INVERSE = False in IFC2JSON.</p>"},{"location":"features/transform-to-ifc/#view-with-bimcollab-of-duplex_a_20110907_optimizedifc-after-filtering","title":"View with BIMcollab of Duplex_A_20110907_optimized.ifc after filtering","text":"<p>We can see that the furnitures have been removed by the filtering.</p> <p></p> <p>We can also observe an anomaly in the display of Duplex_A_20110907_optimized.ifc with walls above the first level being displayed as belonging to the first level. Actually, the are erroneously defined as part of Level 1 i the original file!</p>"},{"location":"features/transform-to-ifc/#view-with-solibri-of-duplex_a_20110907_optimizedifc-after-filtering","title":"View with Solibri of Duplex_A_20110907_optimized.ifc after filtering","text":""},{"location":"features/transform-to-ifc/#view-with-bimcollab-of-ifc_schependomlaanifc-after-the-filtering","title":"View with BIMcollab of IFC_Schependomlaan.ifc after the filtering","text":"<p>The filtering removed the following elements types:</p> <ul> <li>Distribution Element(s)</li> <li>Other(s) [IfcBuildingElementProxy] for the mailboxes and other items</li> <li>Pipe Segment [IfcPipeSegment]</li> </ul> <p>Note</p> <p>The adaptations to the code of IFC2JON4 (IfcJSON) do not yet bring the expected result for IFC_Schependomlaan and the orginal style is not apparent.</p> <p></p>"},{"location":"features/transform-to-ifc/#view-with-solibri-anywhere-of-ifc_schependomlaanifc-after-the-filtering","title":"View with Solibri Anywhere of IFC_Schependomlaan.ifc after the filtering","text":"<p>Additionally, the spaces are all listed with Solibri and not with some of the other viewers (OpenIFCViewer, That Open, BIMCollab Zoom).</p>"},{"location":"features/transform-to-ifc/#view-with-bimcollab-of-ark_nordiclca_housing_concrete_buildingpermit_revitifc-after-the-filtering","title":"View with BIMcollab of ARK_NordicLCA_Housing_Concrete_BuildingPermit_Revit.ifc after the filtering","text":""},{"location":"features/transform-to-ifc/#view-with-solibri-anywhere-of-ark_nordiclca_housing_concrete_buildingpermit_revitifc-after-the-filtering","title":"View with Solibri Anywhere of ARK_NordicLCA_Housing_Concrete_BuildingPermit_Revit.ifc after the filtering","text":""},{"location":"features/validate-an-ifc-model-with-ids/","title":"Validate an IFC model against one or more IDS using IfcTester","text":"<p>Feature Group: Check | IfcOpenShell / IfcTester</p> <p>The Information Delivery Specification (IDS) is a buildingSMART standard for defining information requirements in a computer interpretable form. It allows for automatic compliance checking of IFC models, that increases quality control and fidelity of data. IDS also aids the efficient delivery of the data, by setting the expectations and providing clear guidelines of what needs to be exchanged. A user of IDS can specify how objects, classifications, materials, properties, and even values should be delivered in an IFC model. Source buildingSmart.</p> <p>IDS can be used for defining requirements for</p> <ul> <li>Life Cycle Assessement (LCA)</li> <li>Buildings as Material Banks (BAMB), also knwon as Recycle, Reuse, Repurpose</li> <li>Energy Performance Certficate (EPC), and generally speaking for Energy Performance of Building (EBP)</li> <li>Digital Building Cadastre (DBL)</li> <li>3D Cadastre (3DC)</li> <li>Real-Estate Management (REM)</li> <li>Public Revenue Management (PRA)</li> <li>Digital Building LogBook (DBL)</li> </ul> <p>Seee also From Requirements to Validated Data for Spatial Units</p>"},{"location":"features/validate-an-ifc-model-with-ids/#submit-the-processing-request","title":"Submit the processing request","text":"<p>The validation is started by sending a POST with a Json Body as defined in pydantic</p> <pre><code>#\n# Validate the IFC model against the Information Delivery Specification (IDS)\n#\n\nclass ValidateIfcAgainstIds_Instruction(BaseModel):\n    sourceFileURL: str | None = \"http://localhost:8002/IDS/IDS_wooden-windows_IFC.ifc\"\n    idsFilesURLs: list[str] | None = [\"http://localhost:8002/IDS/IDS_wooden-windows.ids\"]\n    resultType: Literal['json','html','bcfzip'] | None = 'html'\n\nclass ValidateIfcAgainstIds_Result(BaseModel):\n    result: list[ValidateIfcAgainstIds_ResultItem]\n    runtime: float | None = 0.0 # in seconds\nclass ValidateIfcAgainstIds_ResultItem(BaseModel):\n    isSuccess: bool\n    percentChecksPass: float\n    percentRequirementsPass: float\n    percentSpecificationsPass: float\n    resultPath: str # relative path of the result file (json, html or bfczip)\n</code></pre> <ul> <li>The sourceFileURL is that of the  IFC file</li> <li>The idsFilesURLs gives the list of the IDS's files; there may be more that one</li> <li>The resultType is either json, html or bcfzip; bcfzip is the format of the BIM Collaboration Format (BFC).</li> </ul> <p>The default files are from the GitHub of the buildingSmart IDS repository.</p> <p>They are illustative and the validation gives both pass and fail results.</p> <p>FastAPI provides by default at /docs a swagger utility that simplifies the execution of tests.</p> <p>The request provides: default values that must be adjusted to your specific case</p> <p></p>"},{"location":"features/validate-an-ifc-model-with-ids/#service-the-request","title":"Service the request","text":"<p>This is done in the Service Layer where a chain of task is composed and sent for execution by a Celery Worker via a message in the Message Broker(Redis)</p>"},{"location":"features/validate-an-ifc-model-with-ids/#get-ifc-from-a-remote-location","title":"Get IFC from a remote location","text":"<p>Currently all IFC files are store locally and served with Nodejs http-server.</p>"},{"location":"features/validate-an-ifc-model-with-ids/#validate-against-a-list-of-one-or-more-ids-files","title":"Validate against a list of one or more IDS file(s)","text":"<p>The validation is entirely based on the IfcTester module of IfcOpenShell.</p>"},{"location":"features/validate-an-ifc-model-with-ids/#client-interaction-with-the-d4su-platform","title":"Client Interaction with the d4SU platform","text":"<p>The screen captures hereunder illustrate the interaction between a client (such as the Integration Platform) and the d4su-server.</p> <p>The browser acts as a mockup of the client.</p>"},{"location":"features/validate-an-ifc-model-with-ids/#1-open-a-websocket","title":"1. Open a WebSocket","text":"<p>The client opens a ws-socket connection with the server at /wsinit</p> <p></p>"},{"location":"features/validate-an-ifc-model-with-ids/#2-post-a-request","title":"2. Post a request","text":"<p>The client sends a post request with the request data (the browser uses the swagger available at /docs).</p> <p></p> <p>The server provides a response with a token to allow the client to pair the request and the asynchronous result that will be provided when the processing completes.</p> <p></p>"},{"location":"features/validate-an-ifc-model-with-ids/#3-processing","title":"3. Processing","text":"<p>The processing is done by a Celery worker and the result is available in Redis.</p> <p></p> <p>The last task notifies the server of the result. The server use a queue to forward the result to the WebSocket Server</p>"},{"location":"features/validate-an-ifc-model-with-ids/#4-the-result-is-sent-via-the-websocket","title":"4. The result is sent via the WebSocket","text":"<p>The WebSocket Server sends the response to the client (with the token and the result).  </p> <p></p> <p>In the current dev setup there is a single interactive client using the browser, so there is no need add a client id in the request and to route the response to the corresponding websocket client. This would however be needed for a production deployment.</p>"},{"location":"features/validate-an-ifc-model-with-ids/#the-ids-file-and-the-validation-result","title":"The IDS file and the Validation result","text":""},{"location":"features/validate-an-ifc-model-with-ids/#the-ids_wooden-windowsifc-with-bim-collab","title":"The IDS_wooden-windows.ifc with BIM Collab","text":"<p>The 3D geometry and all its details is informative, but need not be processed for the domains LCA, BAMB, EPC, DBP, ...</p> <p>What matters is that the necessary Psets properties are present. Such as the ThermalTransmittance (part of the Pset_PlateCommon) (which is in the IDS hereunder) or the surface area (which is not included in the example IDS) but would be required in a real case.</p>"},{"location":"features/validate-an-ifc-model-with-ids/#the-information-delivery-specification-ids-file","title":"The Information Delivery Specification (IDS) file","text":"IDS file (XML format)"},{"location":"features/validate-an-ifc-model-with-ids/#the-validation-result-in-html","title":"The Validation Result in HTML","text":"Validation Result in HTML"},{"location":"features/viewer/","title":"The Viewer","text":"<p>This is a an illustation of the use of the CRUD REST APIs to access the data and in this specific case, get the IFC file of  a SpatialZone and display it with the ThatOpen IFC Viewer.</p> <p>D4SU is a backend server and this features is only for illustration purpose and based on a basic mustache template with an iframe for the That Open viewer.</p> <p>The service is available at</p> <p><code>/pages/thatopen-viewer</code></p> <p></p> <p>The page has a basic layout.</p> <p>It lets:</p> <p>(1) Enter the id of a bundle (e.g. 158) and activate the <code>Get SpatialZones</code> button</p> <p>(2) This triggers the call of <code>/common/bundle/158/bundle-unit-list/?unit_type=IfcProject,IfcSpatialZone</code> which comes with the list of the SpatialZones for the bundle and with the initial IFC file associated with the IfcProject. The name of the Project in the IFC is '0001' and we have not changed it.</p> <p></p> <p>(3) The user can select the apartment <code>Duplex-A</code>and activate the <code>Get IFC</code> button.</p> <p></p> <p>(4) This triggers the call of  <code>common/bundle/158/unit/53d4ba7a-5f23-412a-96db-0735b79bcfe8</code> which comes back with the detail of the IfcSpatialZone for the apartment Duplex-A, with the path of the IFC file in the <code>unitjson</code> field. This is passed to the viewer so that the viewer can get and and display the IFC file</p> <p></p> <p>(5) Then, the user can select an object (here a wall) and get the details of the object in the right panel.</p> <p></p> <p>(6) The viewer can select the second duplex</p> <p></p> <p>(7) The user can also select the project (named '0001') and display the original IFC file</p> <p></p> <p>The IFC file displayed is the source file which is an IFC2X3 file and the viewer use its own color palette and also shows the spaces.</p> <p>(8) If instead, we extract the IfcJSON from the database and convert it to an IFC4, the colors will be those defined in the (original) IFC files.</p> <p></p> This version of the Viewer can display the IFC file of the extract of the SpatialZone but does not handle the IfcRelReferencedInSpatialStructure relationship. This is also the case with the other viewers: the relation of the IfcSpaces and the IfcSpatialZone is not exposed. But that could be developed.  Note: this version of the viewer does not display all IFCs properly."},{"location":"ifc5/introduction/","title":"Introduction","text":"<p>The plan is to have the same capabilities with IFC5 as with the current IFC releases. But IFC5 is still under development and while it aims to be functionally compatible with existing versions, it is technically quite different.</p>"},{"location":"ifc5/introduction/#disclaimer","title":"Disclaimer","text":"<p>IFC 5 is under development and all that is stated hereunder might change in the future.</p> <p>The current version is IFC5a (alpha version) which is from 05-06/2025 and evolving.</p> <p>A training organized by buildingSmart is available.</p>"},{"location":"ifc5/introduction/#buildingsmart-ifc5-development-repository","title":"buildingSmart IFC5 development repository","text":"<p>The reference for IFC5 is the IFC5 development repository on GitHub</p> <p>This is continuously evolving.</p> <p>There was a pre-alpha version. There is now an alpha version.</p>"},{"location":"ifc5/archived-pre-alpha/hello-wall/","title":"IFC5 Pre-Alpha Hello Wall example","text":""},{"location":"ifc5/archived-pre-alpha/hello-wall/#introduction","title":"Introduction","text":""},{"location":"ifc5/archived-pre-alpha/hello-wall/#hello-wall-in-the-viewer","title":"Hello Wall in the Viewer","text":"<p>The hello-wall.ifcx from IFC5 development repository on GitHub  is a model with a Space (My_Space) and a Wall (Wall) with two Windows (Window and Window_001). The model has changed</p> <p></p>"},{"location":"ifc5/archived-pre-alpha/hello-wall/#the-tree-of-hello-wall","title":"The tree of Hello Wall","text":""},{"location":"ifc5/archived-pre-alpha/hello-wall/#some-key-features-and-their-illustration-with-extracts-from-hello-wall","title":"Some Key Features and their illustration with extracts from Hello Wall","text":""},{"location":"ifc5/archived-pre-alpha/hello-wall/#extract-from-hello-wallifcx","title":"Extract from hello-wall.ifcx","text":"<pre><code>{\n    \"def\": \"def\",\n    \"type\": \"UsdGeom:Xform\",\n    \"name\": \"My_Project\",\n    \"inherits\": [\n    \"&lt;/N14adb22bd47448a28e8f6d4c067c1953&gt;\"]\n },\n {\n    \"def\": \"class\",\n    \"type\": \"UsdGeom:Xform\",\n    \"name\": \"N14adb22bd47448a28e8f6d4c067c1953\",\n    \"children\": [\n        {\n        \"def\": \"def\",\n        \"name\": \"My_Site\",\n        \"inherits\": [\n            \"&lt;/Ne0834921e09540f088743c6bd1ec699e&gt;\"]\n        }\n    ]\n},\n{\n    \"def\": \"over\",\n    \"name\": \"N14adb22bd47448a28e8f6d4c067c1953\",\n    \"attributes\": {\n        \"ifc5:class\": {\n            \"code\": \"IfcProject\",\n            \"uri\": \"https://identifier.buildingsmart.org/uri/buildingsmart/ifc/4.3/class/IfcProject\"\n        }\n    }\n },\n</code></pre>"},{"location":"ifc5/archived-pre-alpha/hello-wall/#making-extracts-more-legible","title":"Making extracts more legible","text":"<p>The hello-wall uses in the name identifiers strings that are partly GUIDs. To make things simpler to read, we have replaced these identifiers by the corresponding def name with '_class' added at the end.</p> <pre><code>{\n    \"def\": \"def\",\n    \"type\": \"UsdGeom:Xform\",\n    \"name\": \"My_Project\",\n    \"inherits\": [\n    \"&lt;/My_Project_class&gt;\"]\n },\n {\n    \"def\": \"class\",\n    \"type\": \"UsdGeom:Xform\",\n    \"name\": \"My_Project_class\",\n    \"children\": [\n        {\n            \"def\": \"def\",\n            \"name\": \"My_Site\",\n            \"inherits\": [\n                \"&lt;/My_Site_class&gt;\"]\n        }\n    ]\n},\n{\n    \"def\": \"over\",\n    \"name\": \"My_Project_class\",\n    \"attributes\": {\n        \"ifc5:class\": {\n            \"code\": \"IfcProject\",\n            \"uri\": \"https://identifier.buildingsmart.org/uri/buildingsmart/ifc/4.3/class/IfcProject\"\n        }\n    }\n},\n</code></pre>"},{"location":"ifc5/archived-pre-alpha/hello-wall/#def-class-and-over","title":"Def, Class and Over","text":"<p>Objects are set as a def (e.g. My_Project, My_Site) but must inherit from a class.</p> <p>Attributes can be attached to a class via an over</p> <p>An over can also add children to a class </p>"},{"location":"ifc5/archived-pre-alpha/hello-wall/#simplified-parenting-relationships","title":"Simplified parenting relationships","text":"<p>In IFC5, There is a consolidation of parenting relationships: a child is a child, whether issued from an IfcRelAggregates or IfcRelContainedInSpatialStructure. The Window is not under Storey as a sibling of the Wall but under the Wall as a child</p> <pre><code>{\n    \"def\": \"class\",\n    \"type\": \"UsdGeom:Xform\",\n    \"name\": \"Wall_class\",\n    \"children\": [\n        ... \n        {\n            \"def\": \"def\",\n            \"name\": \"Window\",\n            \"inherits\": [\n                \"&lt;/Window_class&gt;\"]\n        },\n        {\n            \"def\": \"def\",\n            \"name\": \"Window_001\",\n            \"inherits\": [\n                \"&lt;/Window_001_class&gt;\"]\n        }\n    ]\n},\n</code></pre>"},{"location":"ifc5/archived-pre-alpha/hello-wall/#a-class-can-inherit-from-another-class-that-acts-as-a-type","title":"A class can inherit from another class that acts as a type","text":"<p>A class can inherit from another class: both instances of Windows, namely Window and Window_001 inherit from classes Window_class and Window_001_class that inherit from a class that acts as a type.</p> <p>The class that acts a type is the one named  Window_Type_class in the example below. It has a void and a body as children. It has also standard properties such as IsExternal, which is set to 1 (i.e. True), meaning that all windows of this type are external.</p> <p>It is worth noting that the class named Window_Type_class for convenience has the ifc5:class code IfcWindow and not IfcWindowType. The class for the Window can inherit from another class, which could possiblty inherit from yet another class without changing the ifc5:class code. This is way simpler than in IFC&lt;5 where 'standard objects' (e.g. an IfcWindow) and 'type' objects' (e.g. an IfcWindowType) have distinct properties and behaviours.</p> <pre><code>{\n    \"def\": \"class\",\n    \"type\": \"UsdGeom:Xform\",\n    \"comment\": \"this is the instance of Window\",\n    \"name\": \"Window_class\",\n    \"inherits\": [\n        \"&lt;/Window_Type_class&gt;\"]\n},\n{\n    \"def\": \"class\",\n    \"type\": \"UsdGeom:Xform\",\n    \"name\": \"Window_001_class\",\n    \"comment\":\"instance of Window_001\",\n    \"inherits\": [\n        \"&lt;/Window_Type_class&gt;\"]\n},\n{\n    \"def\": \"class\",\n    \"type\": \"UsdGeom:Xform\",\n    \"name\": \"Window_Type_class\",\n    \"children\": [\n        {\n            \"def\": \"def\",\n            \"type\": \"UsdGeom:Mesh\",\n            \"name\": \"Void\",\n            \"inherits\": [\n                \"&lt;/Window_Type_class_Void&gt;\"]\n        },\n        {\n            \"def\": \"def\",\n            \"type\": \"UsdGeom:Mesh\",\n            \"name\": \"Body\",\n            \"inherits\": [\n                \"&lt;/Window_Type_class_Body&gt;\"]\n        }\n    ]\n},\n{\n    \"def\": \"over\",\n    \"name\": \"Window_Type_class\",\n    \"attributes\": {\n        \"ifc5:class\": {\n            \"code\": \"IfcWindow\",\n            \"uri\": \"https://identifier.buildingsmart.org/uri/buildingsmart/ifc/4.3/class/IfcWindow\"\n        }\n    }\n},\n{\n    \"def\": \"over\",\n    \"name\": \"Window_Type_class\",\n    \"attributes\": {\n        \"ifc5:properties\": {\n            \"IsExternal\": 1\n        }\n    }\n},\n</code></pre>"},{"location":"ifc5/archived-pre-alpha/hello-wall/#space-boundaries-become-objects","title":"Space Boundaries become objects","text":"<p>Hereunder, the space 'My_Space' inherits from the class 'My_Space_class' which has as children:</p> <ul> <li>a Body</li> <li>a Space Boundary for each object that would be a RelatedBuildingElement in an IfcRelSpaceBoundary relationship in IFC&lt;5. The json hereunder only shows the Boundary_Wall for the wall, but there is also one for Window and Window_001.</li> </ul> <p>There is also an over on the Boundary_Wall_clas which documents the relationship between the Boundary_Wall_class of the Boundary_Wall and the  Wall_class of the corresponding Wall.  </p> <pre><code>{\n    \"def\": \"class\",\n    \"type\": \"UsdGeom:Xform\",\n    \"name\": \"My_Space_class\",\n    \"children\": [\n        {\n            \"def\": \"def\",\n            \"type\": \"UsdGeom:Mesh\",\n            \"name\": \"Body\",\n            \"inherits\": [\n                \"&lt;/My_Space_class_Body&gt;\"]\n        },\n        {\n            \"def\": \"def\",\n            \"name\": \"Boundary_Wall\",\n            \"inherits\": [\n                \"&lt;/Boundary_Wall_class&gt;\"]\n        },\n        ...\n    ]\n},\n{\n    \"def\": \"class\",\n    \"type\": \"UsdGeom:Xform\",\n    \"name\": \"Boundary_Wall_class\",\n    \"children\": [\n        {\n            \"def\": \"def\",\n            \"type\": \"UsdGeom:Mesh\",\n            \"name\": \"Body\",\n            \"inherits\": [\n                \"&lt;/Boundary_Wall_class_Body&gt;\"]\n        }\n    ]\n},\n{\n    \"def\": \"over\",\n    \"name\": \"Boundary_Wall_class\",\n    \"attributes\": {\n        \"ifc5:spaceboundary\": {\n            \"relatedElement\": {\n                \"ref\": \"&lt;/Wall_class&gt;\"\n            }\n        }\n    }\n},\n{\n    \"def\": \"class\",\n    \"type\": \"UsdGeom:Mesh\",\n    \"name\": \"Boundary_Wall_class_Body\"\n},\n</code></pre>"},{"location":"ifc5/archived-pre-alpha/hello-wall/#the-base-representation-geometry-is-the-mesh","title":"The base representation geometry is the mesh","text":"<pre><code>{\n    \"def\": \"over\",\n    \"name\": \"Boundary_Wall_class_Body\",\n    \"attributes\": {\n        \"UsdGeom:Mesh\": {\n            \"faceVertexIndices\": [3,0,1,3,1,2],\n            \"points\": [\n                [10,-2.3841858e-08,0],\n                [0,-2.3841858e-08,0],\n                [0,-2.3841858e-08,3],\n                [10,-2.3841858e-08,3]\n            ]\n        }\n    }\n},\n</code></pre>"},{"location":"ifc5/archived-pre-alpha/hello-wall/#placement-and-alignment-use-simple-transform-matrix","title":"Placement and alignment use simple transform matrix","text":"<p>In IFC, each product (object which may have a representation) has a defined IfcLocalPlacement in 2-D or 3-D.</p> <p>In IFC5 a 4-dimensional matrix in a projective space is used. The matrix can then consolidate the translation, rotation and scaling operations.</p> <p>Hereunder, as an example, we have the transform of Window_class and Window_001_class which are the two instances of windows, sharing the same type and asociated body geometry, but not the same placement. The transformation hereunder are solely geometric translations (no rotation, no scaling).</p> <pre><code>{\n    \"def\": \"over\",\n    \"name\": \"Window_class\",\n    \"attributes\": {\n        \"xformOp\": {\n            \"transform\": [\n                [1,0,0,0],\n                [0,1,0,0],\n                [0,0,1,0],\n                [1.76767492294312,0,1,1]\n            ]\n        }\n    }\n},\n{\n    \"def\": \"over\",\n    \"name\": \"Window_001_class\",\n    \"attributes\": {\n        \"xformOp\": {\n            \"transform\": [\n                [1,0,0,0],\n                [0,1,0,0],\n                [0,0,1,0],\n                [4.94660663604736,0,1,1]\n            ]\n        }\n    }\n},\n</code></pre>"},{"location":"ifc5/archived-pre-alpha/hello-wall/#composition-add-a-third-window","title":"Composition - Add a third window","text":"<p>Composition enables to add information on an existing model. For instance, we can add a third window by:</p> <ul> <li>adding an over on the My_Wall with an extra window child Window_002 which inherits from Window_002_class.</li> <li>the latter inherits from Window_Type_class as is the case for Window_class and Window_001_class.</li> <li>as for the other two instances, a transform must be provided with an over on class Window_002_class</li> </ul> <pre><code>{\n    \"def\": \"over\",\n    \"name\": \"Wall_class\",\n    \"children\": [\n        {\n            \"def\": \"def\",\n            \"name\": \"Window_002\",\n            \"inherits\": [\n                \"&lt;/Window_002_class&gt;\"]\n        }\n    ]\n},\n{\n   \"def\": \"class\",\n   \"type\": \"UsdGeom:Xform\",\n   \"comment\": \"this is the instance of Window\",\n   \"name\": \"Window_002_class\",\n   \"inherits\": [\n      \"&lt;/Window_Type_class&gt;\"]\n},\n{\n   \"def\": \"over\",\n   \"name\": \"Window_002_class\",\n   \"attributes\": {\n        \"xformOp\": {\n            \"transform\": [\n                [1,0,0,0],\n                [0,1,0,0],\n                [0,0,1,0],\n                [6.9466066,-0.03,1,1]\n            ] \n        }\n   }\n}\n</code></pre> <p>This is not complete as we need to add the a corresponding space boundary with:</p> <ul> <li>adding an over on the My_Space_class with an extra window child Boundary_Window_002 which inherits from a Boundary_Window_002_class.</li> <li>a Boundary_Window_002_class with a child Body that inherits from a class Boundary_Window_002_class_Body.</li> <li>a over on the Boundary_Window_002_class to make the link with the corresponding Window_002_class</li> <li>a Boundary_Window_002_class_Body</li> <li>an over on the Boundary_Window_002_class_Body with the mesh geometry of the Boundary.</li> </ul> <pre><code>{\n    \"def\": \"over\",\n    \"name\": \"My_Space_class\",\n    \"children\": [\n        {\n            \"def\": \"def\",\n            \"name\": \"Boundary_Window_002\",\n            \"inherits\": [\n                \"&lt;/Boundary_Window_002_class&gt;\"\n            ]\n        }\n    ]\n}, \n{\n   \"def\": \"class\",\n   \"type\": \"UsdGeom:Xform\",\n   \"name\": \"Boundary_Window_002_class\",\n   \"children\": [\n      {\n         \"def\": \"def\",\n         \"type\": \"UsdGeom:Mesh\",\n         \"name\": \"Body\",\n         \"inherits\": [\n            \"&lt;/Boundary_Window_002_class_Body&gt;\"\n         ]\n      }\n   ]\n},\n{\n    \"def\": \"over\",\n    \"name\": \"Boundary_Window_002_class\",\n    \"attributes\": {\n    \"ifc5:spaceboundary\": {\n            \"relatedElement\": {\n             \"ref\": \"&lt;/Window_002_class&gt;\"\n            }\n        }\n    }\n},\n{\n   \"def\": \"class\",\n   \"type\": \"UsdGeom:Mesh\",\n   \"name\": \"Boundary_Window_002_class_Body\"\n},\n{\n    \"def\": \"over\",\n    \"name\": \"Boundary_Window_002_class_Body\",\n    \"attributes\": {\n      \"UsdGeom:Mesh\": {\n       \"faceVertexIndices\": [2,0,1,2,3,0],\n       \"points\": [\n            [6.9466066,0,1],\n            [6.9466066,0,2.2],\n            [7.8466066,0,2.2],\n            [7.8466066,0,1]\n        ]\n      }\n    }\n}\n</code></pre> <p>We then have a displayed model built from two .ifcx files with the viewer(version 'v1' / early january 2025):</p> <p></p>"},{"location":"ifc5/archived-pre-alpha/hello-wall/#composition-add-a-second-building-with-a-rotation","title":"Composition - Add a second building with a rotation","text":"<p>We can add a second building on the site with a simple over.</p> <p>As an complementary illustration we add a translation of (x=10,y=0,z=0,w=1) and a rotation of 90\u00b0 using the values from the example of Transformation in a projective space.</p> <pre><code>[\n{\n    \"def\": \"over\",\n    \"name\": \"My_Site_class\",\n    \"children\": [\n        {\n            \"def\": \"def\",\n            \"name\": \"Brand_New_Building\",\n            \"inherits\": [\n                \"&lt;/Brand_New_Building_class&gt;\"]\n        }\n    ]\n},\n{\n    \"def\": \"class\",\n    \"type\": \"UsdGeom:Xform\",\n    \"comment\": \"this is the instance of the Building\",\n    \"name\": \"Brand_New_Building_class\",\n    \"inherits\": [\n        \"&lt;/My_Building_class&gt;\"]\n},\n{\n    \"def\": \"over\",\n    \"name\": \"Brand_New_Building_class\",\n    \"attributes\": {\n        \"xformOp\": {\n            \"transform\":[ \n                [6.123233995736766e-17, -1.0, 0.0, 0.0],\n                [1.0, 6.123233995736766e-17, 0.0, 0.0],\n                [0.0, 0.0, 1.0, 0.0],\n                [10.0, 0.0, 0.0, 1.0]\n            ]\n        }\n    }\n} \n]\n</code></pre> <p></p>"},{"location":"ifc5/archived-pre-alpha/ifc5-pre-alpha/","title":"IFC5 Pre-Alpha","text":"<p>It provides:</p> <ul> <li>An illustration of essential features with simple objects in hello-wall.ifcx</li> <li>Schemas under /schema</li> <li>A browser based viewer under /src/viewer.</li> </ul>"},{"location":"ifc5/archived-pre-alpha/ifc5-pre-alpha/#the-viewer","title":"The viewer","text":"<p>Hereunder a screen capture of the viewer with two IFC5 input files:</p> <ul> <li>IFC_Schependomlaan.ifcx</li> <li>Duplex_A_20110907_optimized.ifcx</li> </ul> <p>These files have been produced from the original ifc files with the save as ifc5 feature of ACCA software's usBIM.ifc5 product.</p> <p></p> <p>The display illustrates the composition effect. But the actual composition is more than showing two files at the same time.</p>"},{"location":"ifc5/archived-pre-alpha/ifc5-pre-alpha/#the-rendermjs-script","title":"The 'render.mjs' script","text":"<p>The script docs/viewer/render.mjs uses Three.js for the display of the construction tree of products (objects with a representation). It first compose the inputs from the files to build the tree (project -&gt; site -&gt; building -&gt; ...) and thereafter renders it.</p> <p>Because the IFC5 development repository evolves continuously, viewers 'versions' are copied under /src/ifc5-dev/. My v1 is based on the repository of early january 2025. My v2 is based on the repository of late March 2025.</p> <p>The version under /src/ifc5-dev/viewer-v01/ has an adapted render.mjs which uploads the (json) composed tree  to the FastApi /admin/uploadfile/ endpoint.</p> <p>The viewer with upload of the compose tree is available at http://localhost:8000/ifc5-dev/viewer-v01/index.html after the FastApi server has been started.</p>"},{"location":"ifc5/archived-pre-alpha/ifc5-pre-alpha/#the-todotpy-script","title":"The 'todot.py' script","text":"<p>The script docs/script/todot.py outputs a network of nodes and edges.</p>"},{"location":"ifc5/archived-pre-alpha/ifc5-pre-alpha/#the-composets-and-compose2ts-scripts","title":"The 'compose.ts' and 'compose2.ts scripts","text":"<p>These scripts contain the logic to produce the 'Tree' from different files.</p>"},{"location":"ifc5/archived-pre-alpha/ifc5-pre-alpha/#file-conversion-from-ifc4-to-ifc5-and-display-of-ifc5","title":"File Conversion from IFC4 to IFC5 and display of IFC5","text":"<p>Hereunder a display of IFC4 files converted to IFC5 with ACCA software usBIM.ifc5</p> <p>The files are the duplex apartments output of Extract a SpatialZone - Apartment or Common Parts</p> <p></p> <p></p>"},{"location":"ifc5/archived-pre-alpha/references/","title":"IFC5 Pre-Alpha References","text":""},{"location":"ifc5/archived-pre-alpha/references/#links","title":"Links","text":""},{"location":"ifc5/archived-pre-alpha/references/#acca-usbimifc5","title":"ACCA usBIM.ifc5","text":"<p>ACCA Software</p> <p>The online usBIM.ifc5 tool is available free of charge on request.</p>"},{"location":"ifc5/archived-pre-alpha/references/#buildingsmart-ifc5","title":"buildingSmart IFC5","text":"<p>buildingSMART Site</p> <p>buildingSMART GitHub</p> <p>buildingSMART IFC5 development</p> <p>IFC5 Viewer</p>"},{"location":"ifc5/archived-pre-alpha/references/#transformation-in-a-projective-space","title":"Transformation in a projective space","text":"<p>The projective space for the standard 3-d space is a 4-d space where (x, y, z) of the 3-d becomes (x/w, y/w, z/w, w).</p> <p>Transformations such as translation, rotation and scaling can be represented by matrices and chained by matrix products.</p> <pre><code>import numpy as np\n\n# 3D translation (X,Y,Z)\nt_x = 10\nt_y = 0\nt_z = 0\n\n# 2D rotation in (X,Y,-) around origin\nangle_degrees = 90\nangle_radians = np.radians(angle_degrees)\nr_cos = np.cos(angle_radians)\nr_sin = np.sin(angle_radians)\n\n# 3D scaling in (Y,Y,Z) \ns_x = 1.0\ns_y = 1.0\ns_z = 1.0\n\n# matrices\nmatrix_translation = np.array(\n    [[1, 0, 0, 0],\n     [0, 1, 0, 0],\n     [0, 0, 1, 0],\n     [t_x, t_y, t_z, 1]])\n\nmatrix_rotation = np.array([\n    [r_cos, -r_sin, 0, 0],\n    [r_sin, r_cos, 0, 0],\n    [0, 0, 1, 0],\n    [0, 0, 0, 1]])\n\nmatrix_scaling = np.array([\n    [s_x, 0, 0, 0],\n    [0, s_y, 0, 0],\n    [0, 0, s_z, 0],\n    [0, 0, 0, 1]])\n\n# transformation\nmatrix_transform = matrix_scaling @ matrix_rotation @ matrix_translation\n\nmatrix_transform_list = matrix_transform.tolist()\n\nprint(f'matrix_transform_list:\\n{matrix_transform_list}')\n\n[[6.123233995736766e-17, -1.0, 0.0, 0.0],[1.0, 6.123233995736766e-17, 0.0, 0.0],[0.0, 0.0, 1.0, 0.0],[10.0, 0.0, 0.0, 1.0]]\n</code></pre>"},{"location":"ifc5/archived-pre-alpha/spatial-units/","title":"IFC5 Pre-Alpha Spatial Units and SpatialZones","text":""},{"location":"ifc5/archived-pre-alpha/spatial-units/#introduction","title":"Introduction","text":"<p>As already stated in Spaces, Zones and SpatialZones, the SpatialZone appears to be a perfect candidate to provide the bridge between IFC and the Spatial Unit of LADM and related administrative domains of registering Rights, Responsibilities and Restrictions related to building or infrastructures.</p> <p>To repeat from The official 4.3.2.0 documentation for \"IFC 4.3\".:</p> <ul> <li>A spatial zone is a non-hierarchical and potentially overlapping decomposition of the project under some functional consideration. A spatial zone might be used to represent a thermal zone, a construction zone, a lighting zone, a usable area zone. A spatial zone might have its independent placement and shape representation.</li> <li>Physical elements that are referenced by this spatial zone are related using the IfcRelReferencedInSpatialStructure relationship as it is a non-hierarchical assignment in addition to the hierarchical spatial containment within a subtype of IfcSpatialStructureElement. Also spaces, that are referenced by this spatial zone are related using the IfcRelReferencedInSpatialStructure relationship. The IfcSpatialZone itself can also be referenced by another spatial element using IfcRelReferencedInSpatialStructure.</li> </ul>"},{"location":"ifc5/archived-pre-alpha/spatial-units/#a-first-tentative-example","title":"A first tentative example","text":"<p>The IfcRelReferencedInSpatialStructure is not yet transposed in IFC5. Hereunder we have liberaly transposed it into the attribute ifc5:spatialStructureReference. This will be changed  as soone as there is an IFC5 tranposition.</p> <p>As for other things, </p> <pre><code>[\n{\n    \"disclaimer\": \"The IfcRefReferencedInSpatialStructure is liberaly transposed into the attribute ifc5:spatialStructureReference\"\n},\n{\n   \"def\": \"over\",\n   \"name\": \"My_Storey_class\",\n   \"children\": [\n     {\n      \"def\": \"def\",\n      \"name\": \"My_Apartment_SpatialZone\",\n      \"inherits\": [\n          \"&lt;/My_Apartment_SpatialZone_class&gt;\"]\n     }\n   ]\n},\n{\n   \"def\": \"class\",\n   \"type\": \"UsdGeom:Xform\",\n   \"name\": \"My_Apartment_SpatialZone_class\"\n},\n{\n  \"def\": \"over\",\n  \"name\": \"My_Apartment_SpatialZone_class\",\n  \"attributes\": {\n      \"ifc5:class\": {\n       \"code\": \"IfcSpatialZone\",\n       \"uri\": \"https://identifier.buildingsmart.org/uri/buildingsmart/ifc/4.3/class/IfcSpatialZone\"\n      }\n  }\n},\n{\n    \"def\": \"over\",\n    \"name\": \"My_Apartment_SpatialZone_class\",\n    \"attributes\": {\n        \"ifc5:spatialStructureReference\": [\n            {\n                \"relatedElement\": {\n                    \"ref\": \"&lt;/My_Space_class&gt;\"\n                }\n            }\n        ]\n    }\n}\n]\n</code></pre> <p>The Tree provided via the modified render.mjs shows the data for the My_Apartment_SpatialZone.</p> <pre><code>{\n    \"def\": \"over\",\n    \"type\": \"UsdGeom:Xform\",\n    \"name\": \"/My_Project/My_Site/My_Building/My_Storey/My_Apartment_SpatialZone\",\n    \"attributes\": {\n    \"ifc5:spatialStructureReference:0\": {\n        \"relatedElement\": {\n        \"ref\": \"&lt;/My_Space_class&gt;\"\n        }\n    },\n    \"ifc5:class:code\": \"IfcSpatialZone\",\n    \"ifc5:class:uri\": \"https://identifier.buildingsmart.org/uri/buildingsmart/ifc/4.3/class/IfcSpatialZone\"\n    },\n    \"children\": []\n}\n</code></pre> <p>This is also shown on the viewer (version 'v1' / early january 2025)</p> <p></p>"},{"location":"installation/dev/","title":"Set up of the d4SU server in development mode","text":""},{"location":"installation/dev/#summary-of-port-numbers-on-local-host","title":"Summary of port numbers on local host","text":"<ul> <li>3100 for NodeJS (Integration Server) -- not part of d4SU Server</li> <li>4040 for ngrok web -- not part of d4SU server</li> <li>5173 for That Open (Ifc Viewer)</li> <li>5432 for Postgres</li> <li>5555 for Flower (Celery Monitoring)</li> <li>6379 for Redis Server (Celery Broker and Result Backend; sessions for the Integration Server)</li> <li>8000 for FastAPI</li> <li>8001 for RedisInsight</li> <li>8002 for http-server (serving the files from the local folder X_BIM_FILES)</li> <li>8003 for mkdocs (see mkdocs.yml)</li> </ul>"},{"location":"installation/dev/#virtual-environment","title":"Virtual Environment","text":"<p>follow https://fastapi.tiangolo.com/virtual-environments/</p> <ol> <li>create project:<ul> <li>mkdir d4su-server</li> <li>cd d4su-server</li> </ul> </li> <li>create virtual environment:<ul> <li>python -m venv .venv</li> </ul> </li> <li>activate the virtual environment:<ul> <li>source .venv/bin/activate</li> </ul> </li> <li>check if active:<ul> <li>which python &gt; gives '/Users/lucvanlier/X_PYTHON_APP/d4su-server/.venv/bin/python'</li> </ul> </li> <li>add gitignore:<ul> <li>echo \"*\" &gt; .venv/.gitignore</li> </ul> </li> <li>install packages: pip install -r requirements.txt</li> <li>intall other with conda<ul> <li>conda install -c conda-forge pythonocc-core=7.8.1 (for a Jupyter viewer)</li> <li>pip install pythreejs (for a Jupyter viewer)</li> </ul> </li> </ol>"},{"location":"installation/dev/#activation","title":"Activation","text":"<p>Activate the virtual environment before starting the server in VS Code. In a terminal:</p> <ul> <li>source .venv/bin/activate</li> </ul>"},{"location":"installation/dev/#run-of-fastapi-celery","title":"Run of fastapi &amp; celery","text":"<ol> <li>dev mode:<ul> <li>terminal 1 - Fastapi:<ul> <li>fastapi dev src/main.py</li> </ul> </li> <li>terminal 2 - Celery:<ul> <li>cd src</li> <li>celery -A long_bg_tasks worker -l INFO</li> </ul> </li> <li>terminal 3 - Flower:<ul> <li>cd src</li> <li>celery -A long_bg_tasks flower</li> </ul> </li> <li>terminal 4 - MkDocs:<ul> <li>Documentation moved to another location ; available on GitHub @ https://github.com/lvanlier/lvanlier.github.io</li> </ul> </li> </ul> </li> <li>prod mode:<ul> <li>fastapi run</li> <li>to be defined = demonize the celeri worker</li> </ul> </li> </ol>"},{"location":"installation/dev/#fastapi-doc-available-web-services","title":"FastAPI Doc: Available web services","text":"<ol> <li>provided by Swagger UI: http://127.0.0.1:8000/docs</li> <li>provided by ReDoc: http://127.0.0.1:8000/redoc</li> </ol>"},{"location":"installation/dev/#mkdocs","title":"MkDocs","text":"<p>Use Mkdocs from github for Mkdocs</p> <p>Use the table reader (creates a table from a csv or xlsx, ...)</p>"},{"location":"installation/dev/#redis","title":"Redis","text":"<p>Install Redis for Docker (to be run in Docker Desktop)</p>"},{"location":"installation/dev/#postgresql-with-postgis","title":"PostgreSQl with PostGIS","text":"<p>PostGIS is apparently available by default.</p>"},{"location":"installation/dev/#postgresql-with-age","title":"PostgreSQL with AGE","text":""},{"location":"installation/dev/#install-age-on-postgresql-16","title":"Install AGE on PostgreSQL 16","text":"<ul> <li>Download Apache AGE 1.5.0</li> <li>sudo make PG_CONFIG=/library/PostgreSQL/16/bin/pg_config install</li> </ul> <p>thereafter CREATE EXTENSION  age; works</p>"},{"location":"installation/dev/#install-bpy-blender-python-to-be-progressed","title":"Install bpy (Blender Python) --to be progressed","text":"<p>https://pypi.org/procdject/bpy/ https://pypi.org/project/bpy/#files</p> <p>https://medium.com/@xiajiun/how-to-use-blenders-bpy-module-on-python-and-jupyter-notebook-on-macos-9155323d362b</p> <p>This worked:</p> <ul> <li>Install Python 3.11.0 from the Python site</li> <li>Download https://www.python.org/downloads/release/python-3110/</li> <li>Install the downloaded pkg</li> <li>Python is in /Library/Frameworks/Python.framework/Versions/3.11/Python</li> <li>remove the previous .venv311 with: sudo rm -rf .venv311</li> <li>Create a venv311</li> <li>/Library/Frameworks/Python.framework/Versions/3.11/bin/python3.11 -m venv .venv311</li> <li>Activate the vene</li> <li>source .venv311/bin/activate</li> <li>Install bpy</li> <li>pip install bpy==4.3.0</li> <li>got bpy-4.3.0-cp311-cp311-macosx_11_0_arm64.whl</li> <li>pip install ifcopenshell</li> <li>got ifcopenshell-0.8.0-py311-none-macosx_11_0_arm64.whl </li> <li>pip install mathutils</li> </ul> <p>Need also to have OpenCASCADE brew install opencascade</p> <p>======</p> <p>conda create --name envconda conda activate envconda conda install python=3.11.0 conda install -c conda-forge ifcopenshell conda install shapely --channel conda-forge</p> <p>======</p>"},{"location":"installation/docker/","title":"Docker install","text":""},{"location":"installation/docker/#that-open-ifc-viewer","title":"That Open IFC Viewer","text":"<p>The image is available on Docker Hub in the repo <code>lvanlier/thatopen-v2-1-0</code></p> <p>To run:</p> <pre><code>docker run -d --network host lvanlier/thatopen-v2-1-0\n</code></pre> <p>The viewer will be available on port 5173</p>"},{"location":"installation/docker/#the-http-server-for-the-bim-files","title":"The http-server for the BIM files","text":"<p>The image is available on Docker Hub in the repo <code>lvanlier/http-server</code></p> <p>To run:</p> <pre><code>docker run -dp 8002:8080 -v [your local place for X_BIM_FILES]:/bim lvanlier/http-server\n\nin my case I have\n\ndocker run -dp 8002:8080 -v /Users/lucvanlier/X_BIM_FILES:/bim lvanlier/http-server\n</code></pre>"},{"location":"installation/viewer/","title":"That Open Viewer","text":"These are my notes for the exploration and modification of the That Open Viewer (version od July 2024)."},{"location":"installation/viewer/#history","title":"History","text":"<p>Started as IFC.js</p> <p>IFC.js is a library that converts any browser into an IFC viewer. It was created by Antonio Gonz\u00e1lez Viegas.</p> <p>IFC.js parses IFC entities to WebGL geometry through THREE.js</p> <p>The IFC.js library is now deprecated / not maintained.</p> <p>The project changed to That Open and the tools have been redeveloped with Web Components</p>"},{"location":"installation/viewer/#access-and-doc-of-that-open","title":"Access and doc of That Open","text":""},{"location":"installation/viewer/#links","title":"Links","text":"<ul> <li>That Open Home</li> <li>Documentation</li> <li>GitHub</li> <li>Tutorial</li> </ul>"},{"location":"installation/viewer/#technology-stack","title":"Technology stack","text":"<p>Typescript, TSDoc, Lit Framework : Vite / Vanilla</p> <ul> <li>Builders :  Vite, others: Snowpack, EsBuild</li> <li>Framework: Vanilla, others: Angular, React, Vue</li> <li>WC: Lit, others: Polymer, Stencil, Fast, Vaadin</li> <li>Language: TypeScript, others: JavaScript </li> <li>Test: Jest</li> </ul>"},{"location":"installation/viewer/#environment-july-2024","title":"Environment - July 2024","text":""},{"location":"installation/viewer/#setup","title":"Setup","text":"<p>Project located in:</p> <ul> <li><code>X_NODE_APP/thatopen/that-open-v2.1.0</code></li> </ul> <p>Based on guideline in <code>https://github.com/ThatOpen/engine_templates</code></p> <pre><code>-&gt; create a project folder\n-&gt; in the folder, open a terminal and execute: npm create bim-app@latest\n? Choose a template for your new BIM app: vanilla\n\nProject created successfully! Now execute the following in terminal:\n/* If using NPM */\nnpm i\nnpm run dev\n/* If using Yarn */\nyarn install\nyarn dev\n\nMUST Have: \nnpm i stats.js (not all the others!)\n\nNot sure if still needed:\nnpm i @types/three\n</code></pre> <p>The application is structured with an index.html which contains a component <code>&lt;bim-grid&gt;</code> to host the UI</p> <pre><code>  &lt;bim-grid id=\"app\"&gt;&lt;/bim-grid&gt;\n  &lt;script type=\"module\" src=\"/src/main.ts\"&gt;&lt;/script&gt;\n</code></pre> <p>The code is in <code>main.ts</code> with a reference to the bim-grid</p> <pre><code>const app = document.getElementById(\"app\") as BUI.Grid;\n</code></pre>"},{"location":"installation/viewer/#changes-to-use-the-tutorials","title":"Changes to use the tutorials","text":"<p>To put the experiments (from the ThatOpen tutorials) in the same set, I have modified the index.html to be able to use alternative scripts, e.g., <code>main-ifc-loader.ts</code> to experiment with the <code>IfcLoader</code>. The tutos all use a <code>&lt;div id=\"container\"&gt;</code> to host the UI. I have add that div to the index.html.</p> <pre><code>&lt;div id=\"container\"&gt;&lt;/div&gt;\n&lt;bim-grid id=\"app\"&gt;&lt;/bim-grid&gt;\n&lt;script id=\"mainscript\" type=\"module\"&gt;&lt;/script&gt;\n</code></pre> <p>A script sets the src attribute of mainscript to the selected main-... source. Within the template sources, the following sets the UI so that app has a zero height and container gets enough space.</p> <pre><code>const app = document.getElementById(\"app\")!;\ncontainer.setAttribute('style','width: 100vw; height: 80vh; position: relative;')\napp.setAttribute('style','width: 100vw; height: 0vh; position: relative;')\n</code></pre>"},{"location":"installation/viewer/#upload-the-ifc-without-a-user-action","title":"Upload the IFC without a User action","text":"<p>I need to be able to upload the model without using the UI. This is done in <code>main-axo.ts</code>. In that case the import section of the toolbar is removed. See  </p>"},{"location":"installation/viewer/#create-a-number-of-file-with-some-of-the-tutorials","title":"Create a number of file with some of the tutorials","text":"<p><code>src/tutorials/main-ifc-loader.ts</code></p> <ul> <li>reads     /data/MacArthur_20.ifc</li> <li>writes    downloads/MacArthur_20.frag moved to /data/MacArthur_20.frag (fragments)</li> <li>writes    downloads/MacArthur_20.json moved to /data/MacArthur_20.json (properties)</li> </ul> <p><code>src/tutorials/main-ifc-json-exporter.ts</code></p> <ul> <li>reads     /data/MacArthur_20.frag (to show)</li> <li>reads     /data/MacArthur_20.ifc</li> <li>writes    downloads/properties.json moved to /data/properties.json (properties) (same size as the + export from main-ifc-loader)</li> </ul> <p><code>src/tutorials/main-ifc-relations-indexer.ts</code></p> <ul> <li>reads     /data/MacArthur_20.ifc</li> <li>writes    downloads/relations-index-all.json moved to /data/relations-index-all.json</li> <li>reads     /data/relations-index-all.json</li> </ul>"},{"location":"installation/viewer/#more-on-the-json-properties","title":"More on the JSON (properties)","text":"<p>The <code>IfcJsonExporter</code>, used in <code>main-ifc-json-exporter.ts</code> produces a JSON out of the Ifc file. In that JSON the IFC class is replaced by a numerical ID. The correspondence is defined in the file <code>ifc-schema.d.ts</code> located in <code>that-open-2/node_modules/web-ifc/ifc-schema.d.ts</code>. For instance, the file contains <code>export declare const IFCSPATIALZONE = 463610769;</code> In the JSON, the IFCSPATIALZONE type is replaced by 463610769, as in</p> <pre><code>    \"4011\": {\n        \"expressID\": 4011,\n        \"type\": 463610769,\n        \"GlobalId\": {\n            \"value\": \"2bgVD2zFGHxgaO_aUMs4qX\",\n            \"type\": 1,\n            \"name\": \"IFCGLOBALLYUNIQUEID\"\n        },\n        \"OwnerHistory\": {\n            \"value\": 5,\n            \"type\": 5\n        },\n        \"Name\": {\n            \"value\": \"dwelling_unit_1\",\n            \"type\": 1,\n            \"name\": \"IFCLABEL\"\n        },\n        \"Description\": {\n            \"value\": \"Dwelling of the first floor\",\n            \"type\": 1,\n            \"name\": \"IFCTEXT\"\n        },\n</code></pre>"},{"location":"installation/viewer/#use-the-classifier","title":"Use the classifier","text":"<p>The <code>Classifier</code>, used in <code>main-ifc-classifier.ts</code> enables to get all elements of specific(s) types. The classifier returns a collection of fragments. The classifier code is in <code>@thatopen/components/dist/fragments/Classifier/index.d.ts</code> It works on the map <code>FRAGS.FragmentIdMap</code></p> <p>It is then possible to make an operation on these fragments, such a changing the color.</p> <p>Change the color of a group with the provided UI </p> <p>Same as a preset with a button added to the UI </p>"},{"location":"installation/viewer/#use-the-relationstree-and-search","title":"Use the relationsTree and Search","text":"<p>The Project information panel in <code>/src/components/Panels/ProjectInformation.ts</code>uses the same capabilities as in <code>/src/tutorials/main-ifc-relations-tree.ts</code>. Namely, the relationsTree available in</p> <pre><code>/@thatopen/ui-obc/dist/components/tables/RelationsTree/index.d.ts\n/@thatopen/ui-obc/dist/components/tables/RelationsTree/src/template.d.ts\n</code></pre> <p>A search base on the expressID or the name provide the structure: Project (panel) &gt; Spatial Structure &gt; 4011 or name </p> <p>The search on spatial structure works only for 'spatial' elements (e.g., IfcSpatialZone 4011 &amp; 4013 and IfcBuildingStorey 1700 or 2224).</p> <p>Search on walls, ... are handled differently looking for 'entities' and not implemented there.</p> <p>Observed behavior in <code>tutorials/main-ifc-relations-tree.ts</code>:</p> <p>When a selection (click) is made in the left panel (at a specific level of the tree), the selection is highlighted in the scene</p> <p></p>"},{"location":"installation/viewer/#use-the-hider","title":"Use the hider","text":"<p>The hider with the version v2.1.0 in <code>/src/tutorials/main-ifc-hider.ts</code> works ok with all the small.xxx files, but not with the file <code>relations-index-all.json</code> derived from MacArthur_20.ifc. However when using the indexer straight on (without restoring the indexer from the json), the hider works.</p> <p>Hider at work </p> <p>Actually, the hider also works with the main.ts and main-axo.ts with isolate in the toolbar and the code in <code>/src/components/Toolbars/Sections/Selection.ts</code>. But there is uses the selection made by the user click and available in <code>highlighter.selection.select</code>.</p> <p>WARNING! I have used the <code>/src/tutorials/main-ifc-hider.ts</code> to set up the highlighter.highlightByID  For all storeys the hider works as a 'hider' while for first_floor it works as a highlighter !!!</p> <p>Highlighter for 'first_floor and Hider for the others' </p>"},{"location":"installation/viewer/#use-the-exploder","title":"Use the exploder","text":"<p>Source in <code>/src/tutorials/main-ifc-exploderrelations-tree-2.ts</code></p> <p>Does not work with MacArthur_20.ifc, although no error message. To be investigated. </p>"},{"location":"installation/viewer/#use-the-floor-plan-maker-and-viewer","title":"Use the floor plan maker and viewer","text":"<p>Source in <code>/src/tutorials/main-front-floorplanqs.ts</code></p> <p>Only shows one plan for MacArthur_20.ifc (for all storeys). To be investigated.</p> <p>Floorplans at work </p>"},{"location":"installation/viewer/#make-and-highlight-a-selection-without-a-user-action","title":"Make and Highlight a Selection without a User Action","text":"<p>The selection would be limited to aggregates such as a</p> <ul> <li>IfcSpatialZone</li> <li>IfcSpace</li> <li>IfcZone</li> <li>IfcBuildingStorey</li> <li>IfcBuilding</li> </ul> <p>I started this in <code>/src/tutorials/main-ifc-relations-tree-2.ts</code> but I could not get anywhere with the version available on July 7th (in that-open-2)!</p> <p>With the version v2.1.0 it is way better!</p> <p>The the highlighter is a front end components and apparently rendering of the base components needs to be done before one can use the highlighter. So I have put the code in a function <code>showPredefinedSelection</code> and used a <code>setTimeout(showPredefinedSelection,200)</code> to get a display instead of a black screen!</p> <p>Predefined Highlight on 'first_floor' and relationsTree set to the corresponding floor </p> <ul> <li>The relationsTree is visible on the left panel, with the structure related to the 'first_foor'</li> <li>The button Highlight predefined selection (first_floor) makes it possible to get the the initial highlight after another selection has been made with the mouse</li> <li>The highlight is visible on the main viewport</li> </ul>"},{"location":"installation/viewer/#integration-in-main-axots-script","title":"Integration in main-axo.ts script","text":"<ol> <li>To start with, I use the query string to pass the parameters that drive the behavior (e.g, ifcFileURL query parameter)</li> <li>Then, I use the value of parameters in the code which I changed to integrates the capabilities surfaced in the tutorial changes</li> <li>The capabilities are showcased in this server</li> </ol>"},{"location":"installation/viewer/#dev-and-build","title":"Dev and Build","text":"<p>To start in dev: <code>npm run dev</code></p> <p>To build: <code>npm run build</code> gives errors (from the ThatOpen Code) and '<code>npm run build --force</code> gives the same result as <code>npm run build</code></p>"},{"location":"installation/viewer/#build-a-container","title":"Build a container","text":""},{"location":"installation/viewer/#create-a-dockerfile","title":"Create a Dockerfile","text":"<pre><code>FROM node:23-alpine\nWORKDIR /app\nCOPY package.json package-lock.json ./\nRUN npm install\nCOPY . .\nEXPOSE 5173/tcp\nCMD [\"npm\", \"run\", \"dev\"]\n</code></pre>"},{"location":"installation/viewer/#build-the-container-with-docker","title":"Build the container with docker","text":"<pre><code>docker build -t thatopen-v2-1-0 .\n</code></pre>"},{"location":"installation/viewer/#tag-the-image","title":"Tag the image","text":"<pre><code>docker tag thatopen-v2-1-0 lvanlier/thatopen-v2-1-0\n</code></pre>"},{"location":"installation/viewer/#create-a-repo-on-docker-hub","title":"Create a repo on Docker Hub","text":"<p>login to Docker Hub, create the repo with name thatopen-v2-1-0</p>"},{"location":"installation/viewer/#push-the-image-to-the-repo","title":"Push the image to the repo","text":"<pre><code>docker push lvanlier/thatopen-v2-1-0\n</code></pre>"},{"location":"installation/viewer/#run-with-the-image-from-docker-hub","title":"Run with the image from Docker Hub","text":"<pre><code>docker run -d --network host lvanlier/thatopen-v2-1-0\n</code></pre>"},{"location":"introduction/future-and-d4su/","title":"The future and the d4SU Platform","text":""},{"location":"introduction/future-and-d4su/#d4su-platform-context","title":"d4SU Platform Context","text":"<p>The future, driven by the so much needed Digital Transformation  will call for a Platform that provide a consistent access to and management of reference technical data for Buildings and Infrastructure.</p> <p>This is what the  d4SU Platform is aiming at.</p> <p>The diagram above add a few items to the previous one:</p> Item Description d4SU A platform that provides technical support to the handling of IFC files for validation, filtering and extraction of relevant data for spatial units. The d4SU Platform is focused on being an enabler and not a replacement for dedicated business solutions.This documentation site provides information on the architecture, the data model and initial features of d4SU.As usual, all aspects are subjects to change, with the notable exception of its adherence to the KISS principle: simplicity comes first! Data for Spatial Units The LCA, BAMB, EPC, DBP, 3DC, REM, PRA, DBL, ... domains require specific construction data. With increasing standardization, formal API will probably emerge. API, whether standardized or custom are all collectivelly referred to as Data for Spatial Units. Data Dictionary A set of international and national reference data for construction, engineering and operations. The set includes the buildingSMART Data Dictionary (bSDD) which is a collection of interconnected data dictionaries with definitions of terms to describe the built environment. The service is provided by buildingSMART for free, to enable easy access from all software solutions. The content is published by independent organisations, spanning international classifications, national standards and company-specific agreements. Source buildingSamrt The set also includes - generally speaking - business relevant structured data that can be unambiguously referenced by all parties. This includes Mechanical, Electricity and Plumbing (MEP) Nomenclature not included in bSDD IFC Industry Foundation Classes (IFC) are a set of standardized, digital descriptions of the built asset industry. It is an open, global standard published under a Creative Commons license, and as ISO 16739. IFC provides machine interpretability of information and thereby enables automation of workflows. It is vendor-neutral and available to everyone. Source buildingSmartAt its heart, an IFC file includes several components that define the structure and data included in the file. The IFC schema not only captures geometric data and material properties but also includes how different elements relate to each other. This structured approach ensures an accurate depiction of the built environment. Here\u2019s what each component entails:- Entities: these are the core building blocks that represent objects or elements in the model. Think of examples like \u2018IfcDoor\u2019 or \u2018IfcWall\u2019.- Attributes: detailed properties of an entity, such as materials, dimensions, and so on, offering an in-depth view of the components. For example, an \u2018IfcDoor\u2019 may include an attribute such as \u2018OverallHeight\u2019.- Relationships: the IFC model maps out how different entities interact and depend on each other. Inheritance: model entities can inherit properties from parent entities. This helps create a hierarchical and modular data structure.- Property Sets (Psets): this relates to groups of properties that are attached to an entity, e.g. \u2018Pset_WallCommon\u2019, which could include properties like acoustic performance for walls or the fire rating. Source BimCollab IDS Information Delivery Specification (IDS) is a buildingSMART standard for defining information requirements in a computer interpretable form. It allows for automatic compliance checking of IFC models, that increases quality control and fidelity of data. IDS also aids the efficient delivery of the data, by setting the expectations and providing clear guidelines of what needs to be exchanged. A user of IDS can specify how objects, classifications, materials, properties, and even values should be delivered in an IFC model. Source buildingSmart.There is an excellent presentation of IDS by L\u00e9on van Berlo CTO of buildingSmart. BCF The BIM Collaboration Format (BCF) is an open standard for managing issues on a BIM project. BCF is an international openBIM standard, developed and maintained by buildingSMART International. BCF is available in many BIM software tools. There are two different ways to utilize BCF \u2013 via a file-based exchange or via a web service. The BCF-API supports the exchange of BCF issues between software applications via a RESTful web interface, which means that data is exchanged via HTTP query parameters and JSON bodies. Every resource described in this API has a corresponding JSON schema. Source buildingSmart."},{"location":"introduction/future-and-d4su/#from-requirements-to-validated-data-for-spatial-units","title":"From Requirements to Validated Data for Spatial Units","text":""},{"location":"introduction/future-and-d4su/#industry-and-public-sector-initital-coordination","title":"Industry and Public Sector initital coordination","text":"<ol> <li> <p>The first step is the identification of what is needed and of the required 'semantic content' to be provided for each of the domains, i.e. for LCA, BAMB, EPC, DBP, 3DC, REM, PRA, DBL, and others as appropriate. In other words, it is essential to define the collection of sources that will compose the Data Dictionary and ensure that appropriate data format is machine-readable.</p> </li> <li> <p>Thereafter, objects and property set are listed for all domains so that the IDS files can be build. There are numerous options for creating the IDS files given that since 2022 most actors in the AECO insdustry have adopted IDS and have either a free or paying version of an IDS editor. As appropriate to the use case several IDS files can be consolidated.</p> </li> <li> <p>Appropriate IDS are made available to the AECO professionals. They are, for the domains at hand (LCA, BAMB, ...), not specific to a particular construction instance and relativemly stable over time.</p> </li> <li> <p>Mapping can be configured in the AECO Tool to cater for a corresponding export template.</p> </li> </ol> <p>The industry is making tremendous progress on this process</p> <p>For instance, BIMids, which is a join effort of Buildwise (Belgium) and CRTI.B (Lu) provides a suite of IDS across construction disciplines and stages and also corresponding configurations for Archicad and Revit.</p>"},{"location":"introduction/future-and-d4su/#execution-ids-ifc-bcf","title":"Execution: IDS, IFC, BCF","text":"<ol> <li>For each project, the appropriate IDS is used and corresponding data are generated/exported by the AECO tool. The exported file is validated against the IDS.</li> <li>The IFC is submitted via a portal &amp; integration plaform.</li> <li>A validation process is started in the d4SU platform. This is a double check as the validation would normally be run at the AECO side prior to submission.</li> <li>If errors are found, a BCF report of issues is provided to the sender otherwise, processing continue. While BIM Collaboration Format (BCF) is by default available, other formats such as json and html are supported.</li> </ol>"},{"location":"introduction/future-and-d4su/#execution-other-processes","title":"Execution: Other processes","text":"<p>Further processing can be applied to secure that all needed information is provided to the Admin Tool handling the domain (LCA, BAMB, EPC, DBP, ...). This is typically done in the d4SU platform.</p>"},{"location":"introduction/future-and-d4su/#needed-features","title":"Needed Features","text":"<p>The list of features cited hereunder is not complete and is no substitute for proper domain requirements to be established by domain experts.</p> <p>For the domains hereunder, the features required are mostky the capability the verify the presence and capture the value of:</p> <ul> <li>Elements such as sites, buildings, storeys, spaces, and product containment for walls, slabs,... and distribution elements</li> <li>Relationships that links those elements (aggregation, containment, boundary,... )</li> <li>Propertysets (Pset) - Almost all needed metrics &amp; characteristics can be captured in Psets</li> <li>Geometry, often in basic form (location &amp; orientation, dimensions) that can be captured by a bounding box, while detailed 3D geometry (which may be quite complex) is required for realistic visualization but not for efficiency values computation and is often not present at all in curent data of public admin tools.</li> </ul> Domain Features Psets need to be defined and verified for materials linked to Environment Product Declarations (EPDs) with defined Global Warming Potential (GWP) and with corresponding volume, weight and area measures. As a minimum for construction components, but can be extended to MEP components. IDS comes as primary support to express and verify the information requirements.BIMids provides IDS files for LCA which are partial but already relevant. Also Psets for construction materials and MEP, but also for elements assemblies. Again, most or all can be expressed as Psets on elements (construction &amp; HVAC). When EPC are needed for Building Units and depend on the occupancy type, it is needed to assign spaces to distinct Spatial Units. Hence, Spaces or Spatial Zone information requirement must be embodied in the IDS or handled in another way. BIMids provides IDS files for EPC (denoted PEB) which are partial but already relevant. For the EPC calculation, the IFC model will provide a lot of information via the spaces and their space boundaries, with their connection geometry and the properties of connected walls, slabs, windows, doors, ... Also, the distribution elements will provide the required HVAC data. A whole lot of requirements can be met on the basis of Psets as done for the Digital Building Permit in Finland. However, there are other requirements that refers to neighboring constructions and may require geometry processing, including sight from windows on neighboring private inner spaces.BIMids provides IDS files for DBP which are partial but already informative. Cadastre has requirements that can be captures by Psets but aso quite a number of requirements that require geometry processing. One specific aspect is the conversion from local coordinates to geodetic ones (WGS 84 or other).BIMids provides IDS files for 3DC (Vertical Cadastre of Luxemburg) which are partial but already relevant. Real-Estate Management will also mostly require appropriate Psets, some of them simply grounded on Facility Management Psets. Again, most if not all needed data are contained in the elements tree and Psets. Again, most if not all needed data are contained in the elements tree and Psets for Construction and HVAC elements."},{"location":"introduction/future-and-d4su/#a-more-detailed-context-diagram","title":"A more detailed context diagram","text":"<p>On the next diagram 'links' are better rendered without darkmode</p> <pre><code>\nblock-beta\n    columns 4\n    block:actors:4\n        columns 4\n        aeco_a((\"AECO roles&lt;br /&gt;&amp;nbsp;&lt;br /&gt;Architects, Engineers, Builders&lt;br /&gt;&amp;nbsp;&lt;br /&gt;Facily Managers\"))\n        advisor_a((\"Constituent&lt;br /&gt;and/or Advisory &amp; Technical &lt;br /&gt;Expert roles\"))\n        admin_a((\"Public Service roles&lt;br /&gt;&amp;nbsp;&lt;br /&gt;Agents, Inspectors, Domain&lt;br /&gt;Experts\"))\n    end\n    block:systems:4\n        columns 4\n        aeco_sys[\"Architecture&lt;br /&gt;Engineering&lt;br /&gt;Construction&lt;br /&gt;Facily Management\"]\n        tep_sys[\"Technical encoding &amp; processing &lt;br /&gt;for permits, autorizations and &lt;br /&gt;certificates&lt;br /&gt;with API to d4SU\"]\n        case_sys[\"Constituent Portal&lt;br /&gt;Case Management&lt;br /&gt;Licensing &amp; Permitting\"]\n        admin_sys[\"Licenses, Permits, Certificates&lt;br /&gt;Land Administration (LADM)&lt;br /&gt;Digital Building Logbook (DBL)\"]\n    end\n    block:references:4\n        ids_ref(((\"Information Delivery&lt;br /&gt;&amp;nbsp;&amp;nbsp;Specifications&amp;nbsp;&amp;nbsp;&lt;br /&gt;IDS's\")))\n        datadict_ref(((\"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Data Dictionary:&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br /&gt;bSDD, ...\")))\n    end\n    block:db:4\n        columns 4\n        aeco_db[(\"&lt;br /&gt;AECO&lt;br /&gt;Architecture, Engineering,&lt;br /&gt; Construction &amp; Operation&lt;br /&gt;Data\")]\n        pointcloud_db[(\"&lt;br /&gt;Point Cloud\")]\n        case_db[(\"&lt;br /&gt;Public Service&lt;br /&gt;CRM&lt;br /&gt;Case Management DB\")]  \n        admin_db[(\"&lt;br /&gt;Cadastre, Environment,&lt;br /&gt;Housing, Infrastructure,&lt;br /&gt; City Urban Administraion DB\")]\n    end\n    block:int:4\n        columns 4\n        aeco_int([\"&lt;br /&gt;&amp;nbsp;&lt;br /&gt;AECO Integration Platform&lt;br /&gt;e.g. Speckle&lt;br /&gt;&amp;nbsp;\"])\n        block:ifcbcf:1\n            columns 1\n            bcf_int[/\"BCF&lt;br /&gt; as issues&lt;br /&gt;format\"/]\n            ifc_int[/\"IFC&lt;br /&gt; as exchange&lt;br /&gt;format\"/]\n            other_int[/\"&lt;br /&gt;&amp;nbsp;&amp;nbsp;Other (bespoke)&lt;br /&gt;formats&lt;br /&gt;&amp;nbsp;\"/]\n        end\n        block:d4sublock:1\n            columns 1\n            d4su_int([\"&lt;br /&gt;&amp;nbsp;&lt;br /&gt;d4SU Server&lt;br /&gt;Data for Spatial Units&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;nbsp;\"])\n            d4su_db[(\"&lt;br /&gt;D4SU DB &amp; File Storage\")]\n        end\n        ai4su_ml([\"&lt;br /&gt;ai4SU&lt;br /&gt;AI Learning&lt;br /&gt; for Spatial Units&lt;br /&gt;&amp;nbsp\"])\n    end\n\n    aeco_a --&gt; advisor_a\n    advisor_a --&gt; aeco_a\n    admin_a --&gt; advisor_a\n    advisor_a --&gt; admin_a \n    aeco_a --&gt; aeco_sys\n    advisor_a --&gt; tep_sys\n    advisor_a --&gt; case_sys\n    admin_a --&gt; admin_sys\n    aeco_sys --&gt; aeco_db\n    case_sys --&gt; case_db\n    admin_sys --&gt; admin_db\n    tep_sys --&gt; d4su_int\n    tep_sys --&gt; other_int\n    aeco_db --&gt; aeco_int\n    pointcloud_db --&gt; aeco_db\n    aeco_db --&gt; ifc_int\n    case_db --&gt; admin_db\n    aeco_int --&gt; ifc_int\n    ifc_int --&gt; d4su_int\n    other_int --&gt; d4su_int \n    d4su_int --&gt; case_db\n    d4su_int --&gt; admin_db\n    d4su_int --&gt; d4su_db\n    d4su_int --&gt; ai4su_ml\n    d4su_db --&gt; ai4su_ml\n    admin_db --&gt; ai4su_ml\n    d4su_int --&gt; bcf_int\n    bcf_int --&gt; aeco_db\n\n    style actors fill:#fff\n    style systems fill:#fff\n    style db fill:#fff\n    style int fill:#fff\n    style references fill:#fff\n    style ifcbcf fill:#fff\n    style d4sublock fill:#fff\n\n    style aeco_a color:white,fill:#991D58\n    style advisor_a color:white,fill:#991D58\n    style admin_a color:white,fill:#991D58\n    style aeco_sys color:white,fill:#0070C0\n    style case_sys color:white,fill:#5725D7\n    style tep_sys color:white,fill:#5725D7\n    style admin_sys color:white,fill:#5725D7\n    style aeco_db color:white,fill:#0070C0\n    style case_db color:white,fill:#5725D7\n    style admin_db color:white,fill:#5725D7\n    style pointcloud_db color:white,fill:#0070C0\n    style aeco_int color:white,fill:#0070C0\n    style ifc_int color:black,fill:#bad9f5\n    style bcf_int color:black,fill:#bad9f5\n    style other_int color:black,fill:#bad9f5\n    style d4su_int color:white, fill:#148F77\n    style ai4su_ml color:white,fill:#7ec2b5\n    style d4su_db color:white,fill:#148F77\n    style ids_ref color:white,fill:#5725D7\n    style datadict_ref color:white,fill:#5725D7\n\n</code></pre> <p>Arrows to-from Data Dictionary and IDS are not depicted on the diagram as these data are used by most other components. </p>"},{"location":"introduction/future-and-d4su/#way-forward-when-there-is-no-bim-to-start-with","title":"Way forward when there is no BIM to start with","text":"<p>As shown on the above diagram, there is a flow between the Technical encoding &amp; processing for permits, autorizations and certificates with API to d4SU and d4SU with an Other (bespoke format) exchange.</p> <p>Indeed, it cannot be assumed that for all existing construction, there is a BIM model available. So, there is a temptation to build end-to-end monoliths instead.</p> <p>The proposed way forward is to adopt a modular design and separate data entry from data management and business logic:</p> <ul> <li>Simple cases can be handled without a BIM tool while leveraging all the capabilities of OpenBIM tools such as IfcOpenShell. Instead of reinventing the wheel with yet another data model for construction, the data model can be based on IFC with CRUD capabilities of IfcOpenShell. If there is no need of geometry, that is not an issue: in IFC, geometry is optional.  </li> <li>Complex cases are de facto handled with a BIM tool. Asking for re-encoding everything in a custom tool is both inefficient and costly. And there is also the additional cost of creating and maintaining a model that that can handle the complexities that have already been addressed in IFC.  </li> </ul> <p></p>"},{"location":"introduction/future-and-d4su/#initiatives-that-rely-on-bimifc-or-promote-bimifc-in-administrative-processes","title":"Initiatives that rely on BIM/IFC or promote BIM/IFC in administrative processes","text":"<p>There is much to say on that. The following document provides in a single place a lot of information:</p> <p>ACCORD - Automated Compliance Checks for Construction, Renovation or Demolition Works - Landscape Review Report - 2023</p>"},{"location":"introduction/future-and-d4su/#the-future-of-ifc-with-ifc5-a-better-file-format-and-more-capabilities","title":"The future of IFC with IFC5 - A better file format and more capabilities","text":"<p>IFC is a mature standard, managed by buildingSMART. The first version appeared in 1996 (IFC1.5.1). IFC2X3 was submitted to ISO and published in 2008. IFC 4.0 was released in 2013. The current version is IFC 4.3.2 (aka IFC4X3 ADD2) (2024) which is also an ISO Standard.</p> <p>Full documentation of IFC 4.3.2 is available on the web.</p> <p>IFC5 aims to be a better version of IFC, without the limitations of the STEP format. IFC5 </p> <p>is not yet a standard and is still evolving. More information is available on the IFC5 developmnt site.</p> <p>There has been aan exploration phase, then a pre-alpha release, then an alpha release, with a consistency in the objectives to be attained, but a significant evolution of the underlying technical concepts and schemas from one release to another.</p> <p>Both the pre-alpha and alpha releases borrow concepts from USD (Universal Scene Description). In IFC5 pre-alpha version, the Def, Class, Over, Inherits, and some others concepts from USD were borrowed. This has been simplified in IFC5 alpha version.</p> <ul> <li>IFC5 foster composability. Different teams can work independently on different parts of the building or infrastruction definition. In  USD, this is embodied in layers. In IFC5 layers are materialized as files; this means that a buidling or infrastructure can be represented by an ordered sequence of file that each contain a number of  components and characteristics.</li> <li>Core representation is based on the MESH geometry, which is simple and efficient</li> <li>The format is JSON</li> <li>IFC5 borrows concepts and capabilities from USD, but is not USD and has its proper grammar.</li> </ul> <p>IFC5 composability is most probably there to stay. This will enable to decompose an IFC in an orderly sequence of files depending on the need. For instance, as an illustration, a decomposition might possibly be:</p> <ul> <li>A first file with the base structure</li> <li>A second file with the common spatial parts</li> <li>A third file with the HVAC</li> <li>A series of files with the details of each of the private spatial parts</li> </ul> <p>Other decomposition will be possible, such as having different options or opinions for a given part of the construction.</p> <p>IFC5 is in development, meaning that most things are subjected to change. Clearly, d4SU will follow on IFC5.</p>"},{"location":"introduction/future-and-d4su/#books","title":"Books","text":"<p>Rajabifard, A., et al. BIM and Urban Land Administration. 1st ed., CRC Press, 2019</p> <p>Andr\u00e9 Borrmann, Markus K\u00f6nig, Christian Koch, Jakob Beetz (editors). Building Information Modeling - Technology Foundations and Industry Practice</p>"},{"location":"introduction/needs-and-case-for-action/","title":"Needs and Case for Action","text":""},{"location":"introduction/needs-and-case-for-action/#current-state","title":"Current State","text":"<p>Management and control of buildings and infrastructures becomes increasingly important. Public Authorities regulate a larger number of aspects such as:</p> <ul> <li>City Urbanism and Environmental Impact: Energy Performance of Buildings (EPB), Life Cycle Analysis (LCA), Recycle, Reuse and Repurpose (aka City Mining or Buildings as  Material Banks (BAMB)).</li> <li>Occupation and availability or suitability of Building or Infratucture for their use.</li> <li>The determination of taxes based on surface or the valuation of property.  </li> <li>...</li> </ul> <p></p> <p>In order to be compliant, constituents and/or project managers in the AECO industry need to submit an increasing number of paper forms or pdfs either physically or via a Constituents Portal or via a Domain Specific Application. Often, lots of technical data need to be provided that are already available elsewhere and need to be encoded repeatedly in different systems with unaligned semantics.</p> <p>Typically, as outlined in the above diagram, there is no integration with the AECO software tools that are the source of the data.</p> <p>As said, this is the typical case and not the rule as examplified by the Digital Buidling Permit in Finland (RAVA3Pro, see hereunder in DBP).</p> Domain Impact As defined by the European Environment Agency Life-cycle assessment (LCA) is a process of evaluating the effects that a product has on the environment over the entire period of its life thereby increasing resource-use efficiency and decreasing liabilities. It can be used to study the environmental impact of either a product or the function the product is designed to perform.  When applied to a building or infrastructure, all parts (walls, slabs, columns, beams, ... ) with their structure (layers, dimensions) and material consituents may be accounted for and need to be reported / encoded and this a particularly demanding. Ideally, materials are linked to defined standard classifications that spare the reencoding of all detailed charateristics. Buildins as Material Banks (BAMB) also referred to as CityMining or as Recycle, Reuse and Repurpose is a new way to address the value of building materials promoting a circular building industry. Material Passports document the characteristics of the materials that give them value for recovery and reuse. Additionally, reversibility of design is promoted to minimize waste caused by demolition and reconstruction. More on this in the BAMB site  When applied to the assessment of a building, there is a need to document the structure of the construction and its constituents (walls, slabs, columns, beams, ...) in relation to Material Passports. There is also a need to relate material assemblies to their eventual disassembly capability. As defined in the European Energy Performance of Buildings Directive,The energy performance certificate include the energy performance of a building expressed by a numeric indicator of primary energy use in kWh/(m2.y), and reference values such as minimum energy performance requirements, minimum energy performance standards, nearly zero-energy building requirements and zero-emission building requirements, in order to make it possible for owners or tenants of the building or building unit to compare and assess its energy performance.  Depending on the usage of the building, different schemes are applied to assess the energy performance. But as noted in the ANNEX V - Template for energy performance certificates (referred to in Article 19), there are numerous requirements that refer to data that have AECO Tools as source, such as technical characteristics of the envelope (the average U-value for the opaque elements of the building envelope and the average U-value for the transparent elements of the building envelope) or to HVAC data. National evaluation models that support the computation of the numeric indicator of primary energy use in kWh/(m2.y) often use detailed information that goes beyond the envelope. Again lots or required data are originally sourced by the AECO Tools. According to the Digital Building Permit conference 2024 the Digitalisation of building permits was detected as the critical knot to be solved, in order to pave the way towards massive digitalisation in the construction industry, and to enable the potential of automation and optimisation in the management of building and city data. The topics addressed in the conference made quite obvious the relevance of BIM. Indeed, lots of data required for a Permit are sourced from the AECO tools. There are better ways to provide the data than paper and pdf forms.Building Permits increasingly rely on BIM data, although often reduced to 2D plans. But very often, information that is readily available in the BIM source is retyped in various forms.It must also be noted that in numerous cases, architects do not produce and use a BIM model. For simple projects, they can dispense with BIM and the effort to produce the model would not bring tangible benefits for the Building Permit and for other administrative processes (Energy Performance of Building, Life Cycle Analysis, ...) given that these processes too often do not leverage BIM. It's a little bit the egg-and-chicken problem.However, while there are always good ways to explain the status-quo, there are also more and more places that rely on on BIM-based inputs to their Building Permits. Indeed, Digital Buidling permits are already a reality in a number of places such as Estonia, Finland with the RAVA3Pro project, Dubai,... According to the Land Portal The need for 3D cadastre is growing in importance due to the increasing overlap of property rights in densifying urban environments and due to the increase in property values globally. As property values rise, property owners increasingly want to ensure the legal status of their property is accurately recorded; as more of these property owners inhabit portions of multi-level dwelling structures, the appeal of a 3D cadastre becomes apparent. There are already 3D Cadastres in several places (e.g. Shenzhen, China).  Again, lots of data can potentially be sourced from the AECO tools. Real Estate Management of public buildings relies on numerous data that record the structure of 'spaces' and that link construction components and equipement to maintenance contracts. Again lots of data could be sourced from the AECO tools. Public Revenue Administration encompases the determination of taxation basis that can apply to commercial surfaces, offices, parking, ...  Surface data is typically available in the AECO Tools for new and renovated buildings. Last, but not least, the Digital Building Logbook is an essential component of a modern administration. The European Commission, in the article on the State of the art of the digitalisation of the building sector, provides the following description A digital building logbook is a common repository for all relevant building data, such as administrative documents and/or data for maintenance and bureaucratic purposes, as well as to assess the buildings\u2019 energy performance. Currently, building-related data, such as data of technical and construction information, building characteristics, energy-efficiency performance information and market transactions data, are limited and often inaccurate.The lack of such data and a common repository to store and display them altogether generates additional costs and inefficiencies, stifles innovation, increases risk and undermines the confidence of investors. Digital Building Logbooks aim to increase transparency and trust among owners, tenants, financial institutions, construction sector stakeholders and public administrations and reduce information disparities. The organised and shared data would not only reduce uncertainty, but also time and costs needed to track down missing information. <p>Call for action</p> <p>As is apparent from the above highlights of LCA, BAMB, EPC, DBP, 3DC, REM, PRA, DBL, each of these domain requires data from the AECO domain. The disparate collection of all needed data through independent processes and tools can only generate additional cost, inefficiencies and pains for all concerned participants.Additionally, the proliferation of distinct semantics and rules for the same data can only increase the level of errors and raise the level of ambiguity and distrust.</p>"},{"location":"introduction/needs-and-case-for-action/#data-for-spatial-units-and-the-land-administration","title":"Data for Spatial Units and the Land Administration","text":"<p>Spatial Units are a key element of Land Administration.</p> <p>The Land Administration Domain Model (LADM) ISO 19152-1:2024 brings an interesting perpective on the relationship between Parties, Rights, Restrictions and Responsibilities (RRR), Administrative Units (BAUnit) and Spatial Units (such as buidlings or infrastructure and parts thereof).</p> <pre><code>flowchart LR\n    Party\n    RRR\n    BAUnit\n    SpatialUnit\n    Party --&gt; RRR \n    RRR --&gt; BAUnit\n    BAUnit --&gt; SpatialUnit</code></pre> <p>Many aspects of Public Regulations related to buildings and infrastructure appears as expressions of Rights, Restrictions and Responsibilities (RRR) towards a (Basic) Administration Unit (BAUnit) related to a Spatial Unit.</p> <p>The Cadastre is the primary domain of LADM, but Valuation of property is also included in the scope of LADM and -- in a broader perspective -- the concepts of RRR, BAUnit and Spatial Units are relevant for many administrative regulations.</p> <p>For a given building, there may be numerous BAUnits (and related RRR), each covering a specific aspect:</p> <ul> <li>Urban Permit BAUnit and related Spatial Unit</li> <li>Energy Performance Certificate BAUnit and related Spatial Unit</li> <li>Life Cycle Analysis BAUnit and related Spatial Unit</li> <li>Housing Contract Registration BAUnit and related Spatial Unit</li> <li>Tax on Commercial Surface BAUnit and related Spatial Unit</li> <li>Tax on Office Surface BAUnit and related Spatial Unit</li> <li>Regulated Parking BAUnit and related Spatial Unit</li> <li>...</li> </ul> <p>The issue is that while there is a convergence in the Architecture, Engineering, Construction and Operations (AECO) industry towards the adoption of standard data exchange formats (notably BIM / IFC), there is, in the Public Sector, a lack of adoption of standards to support administrative processes related to Spatial Units. Standards such as BIM/IFC are mostly regarded as too complex and beyond reach.</p> <p>Typically, for each aspect -- i.e., each type of (Basic) Administrative Unit, there will be specfic formats, models and documents requested from the involved Parties to provide Spatial Unit related data.</p> <pre><code>flowchart LR\n    Party\n    RRR\n    BAUnit\n    SpatialUnit\n    Party --&gt; RRR \n    RRR --&gt; BAUnit\n    BAUnit --&gt; SpatialUnit\n    Data[\"BAUnit specific Data &amp; Documents related to the corresponding Spatial Unit\"] --&gt; BAUnit</code></pre> <p>This means concretely that there will be specific data collection, data processing, data exchanges, documents format and Case Management processes for each type of BAUnit</p> <ul> <li>Urban Permit BAUnit : specific forms, plans, documents, proof of rights, ...</li> <li>Energy Performance Certificate (EPC) BAUnit : specific forms, geometry, material, quantities, ... for energy consumption modeling</li> <li>Life Cycle Analysis (LCA) BAUnit : lots of data common to EPC but mostly a separate data collection and processing</li> <li>Housing Contract BAUnit : number of rooms, type and surface thereof, HVAC, ...</li> <li>Commercial Surface BAUnit : surface subject to a non residential tax,</li> <li>Office Surface BAUnit : type of usage, surface subject to a non residential tax,</li> <li>Regulated Parking BAUnit : type and number of places, electric charging stations, ...</li> <li>...</li> </ul> <p>This is not always the case and some countries and localities have already adopted a more streamlined approach which often relies on BIM.</p> <p>However, generally speaking, adoption of standards is infrequent or incomplete and the number of distinct data formats, streams and disparate semantics becomes increasingly problematic. This raises issues for all stakeholders: Public Services agents, involved Parties (Constituents, AECO profesionals, Advisors / SMEs for the RRR/BAUnit domain).</p>"},{"location":"introduction/needs-and-case-for-action/#opportunity-with-new-releases-of-the-industry-foundations-classes-ifc-standard-and-the-recent-addition-of-the-information-delivery-specification-ids","title":"Opportunity with new releases of the Industry Foundations Classes (IFC) standard  and the recent addition of the Information Delivery Specification (IDS)","text":"<p>Interestingly, the AECO standardization has evolved towards a broader scope and a better coverage of all elements related to Buildings and Infrastructures. </p> <p>One of these new features is the introduction in BIM / IFC of Spatial Zones as a way to organize data with regards to a particuliar aspect (security, thermal load, ...).  </p> <p>As reflected in the schema hereafter, there is then a unique opportunity to leverage BIM standards to create a foundation for managing all data for Spatial Unit that underpin their relationship to the corresponding BAUnit.</p> <pre><code>flowchart LR\n    Party\n    RRR\n    BAUnit\n    SpatialUnit\n    Party --&gt; RRR \n    RRR --&gt; BAUnit\n    BAUnit --&gt; SpatialUnit\n    subgraph d4SU\n        Building --&gt; SpatialZone\n        SpatialZone --&gt; Data\n        Data[\"Appropriate Data pertaining to the Spatial Unit related to the BAUnit\"]\n    end\n    SpatialZone --&gt; SpatialUnit\n    Data --&gt; BAUnit</code></pre> <p>The progress of the BIM / IFC standards are impressive and critical to make this all possible. First, there are not many concepts that cannot be accounted for in IFC. This makes the format ideal for the exchange of detailed and complex information betweeen AECO Tools and for conveying the technical data that are required by administrative processes.</p> <p>In IFC everyting can be expressed by elements / objects with relationships, geometries (when needed) and properties. The level of detail might have appeared overwhelming in comparison with the requirements of administrative processes and there was no easy way to specify the container (e.g. property set and property) for the required data so that a human intervention was often necessary to find the information with a GUI tool.</p> <p>With the Information Delivery Specification (IDS) available since 2022 and taken into account by all major tools, there is now a capability to define the information delivery requirements for an IFC.</p> <p>But all these promises would remain difficult to achieve without the progress made in  the availability of Open Source software that makes the access to BIM / IFC / IDS simple and efficient. Notably, IfcOpenShell libraries and tools supports all Create, Read, Udpate, Delete (CRUD) on IFC and ThatOpen libraries and Tools provide effective visualization capabilities as well as IDS editing and validation capabilties.</p> <p>Other tools, that often leverage these Open Source toolboxes and platforms, cater for extra capabilites.</p> <p>Therefore, BIM / IFC / IDS can be leveraged to access existing data provided by AECO software but also to enrich / augment data for specific needs.</p> <p>This is indeed critically important given that IFC files coming out of the AECO industry are focused on the need of that industry and not on the needs of registering RRR on BAUnits related to Spatial Units. There is therefore a real need to be able to enrich / augment data to support administrative processes.</p>"},{"location":"introduction/needs-and-case-for-action/#going-one-step-further","title":"Going one step further","text":"<p>Beyond enabling better data management in support of administrative processes, a structured approached can also lower the cost of creating 'intelligence models' to assist / copilot the administrative processes.</p> <pre><code>flowchart LR\n    subgraph ai4SU_DataSets[\"AI Learning Datasets\"]\n        Party\n        RRR\n        BAUnit\n        SpatialUnit\n        Party --&gt; RRR \n        RRR --&gt; BAUnit\n        BAUnit --&gt; SpatialUnit\n        subgraph d4SU\n            Building --&gt; SpatialZone\n            SpatialZone --&gt; Data\n            Data[\"Appropriate Data pertaining to the Spatial Unit related to the BAUnit\"]\n        end\n        SpatialZone --&gt; SpatialUnit\n        Data --&gt; BAUnit\n    end\n    subgraph ml4SU_Env[\"AI Learning Environment\"]\n        ai4SU_training[\"ai4SU Training\"]\n        ai4SU_engine[\"ai4SU Engine\"]\n        ai4SU_training --&gt; ai4SU_engine\n    end\n    ai4SU_DataSets --&gt; ai4SU_training\n    d4SU --&gt; ai4SU_engine\n    ai4SU_engine --AI Assessment--&gt; BAUnit</code></pre> <p>This is already a research topic, but effective deployment of models will be impeded by the current scarcity of strutured 'normalized' data. The approach that underpins d4SU will help provide those much needed data.</p>"},{"location":"introduction/references/","title":"References","text":""},{"location":"introduction/references/#ladm","title":"LADM","text":"<p>The Land Administration Domain Model (LADM) ISO 19152-1:2024</p>"},{"location":"introduction/references/#bimids","title":"BIMids","text":"<p>According to the BIMids site, BIMids is Simplifying the exchange process in a BIM project and helps you define the level of information expected in the model. Files are available on the Download tab and tutorials are also provided.</p> <p>Buildwise (previously BBRI) is a private research institute founded in 1959 under impulse of the National Federation of Belgian Building Contractors in application of the so-called \"De Groote\" decree-law of 1947. This decree-law named after the former Minister of Economic Affairs was specifically aimed at the promotion of applied research in the construction industry, in order to improve its competitiveness. In application of this decree-law, the statutory members of the Buildwise are the more than 90,000 Belgian construction companies (general contractors, carpenters, glaziers, plumbers, roofers, floorers, plasterers, painters, etc..), mostly SMEs. Source: Buildwise </p> <p>CRTI.B (Centre de Ressources des Technologies et de l'Innovation pour le B\u00e2timent)(i.e. The Building Technology and Innovation Resource Center) is a neutral and open platform for all stakeholders in the construction process and seeks to improve the productivity and competitiveness of construction stakeholders. Among other objectives, the CRTI-B is to define, document, introduce and maintain standards for tender documents governing construction project markets. Source (translated to english from)CRTI.</p>"},{"location":"introduction/references/#domain-references","title":"Domain references","text":""},{"location":"introduction/references/#life-cycle-assessment","title":"Life Cycle Assessment","text":"<p>European Environment Agency - Life Cycle Assessment</p>"},{"location":"introduction/references/#buildings-as-material-banks","title":"Buildings as Material Banks","text":"<p>BAMB site</p>"},{"location":"introduction/references/#energy-performance-certificate","title":"Energy Performance Certificate","text":"<p>European Energy Performance of Buildings Directive</p>"},{"location":"introduction/references/#digital-building-permit","title":"Digital Building Permit","text":"<p>Digital Building Permit conference 2024</p> <p>Finland RAVA3Pro project</p>"},{"location":"introduction/references/#3d-cadastre","title":"3D Cadastre","text":"<p>Land Portal on 3D Cadastre</p>"},{"location":"introduction/references/#digital-building-logbook","title":"Digital Building Logbook","text":"<p>the State of the art of the digitalisation of the building sector</p>"},{"location":"introduction/references/#aeco-software-tools","title":"AECO Software Tools","text":""},{"location":"introduction/references/#aeco-software","title":"AECO Software","text":"<p>There are many outstanding BIM products. Hereunder some of them:</p> <ul> <li>ACCA software</li> <li>Autodesk Revit; extended with Autodesk BIM Collaborate Pro cloud collaboration</li> <li>Bentley OpenBuildings; extended with Bentley Infrastructure Cloud</li> <li>CYPE</li> <li>Dalux</li> <li>Graphisoft Archicad (Nemetschek); extended with Graphisoft BIMcloud collaboration</li> <li>Kubus BIMCollab</li> <li>Plannerly</li> <li>Solibri Model Checker (Nemetschek)</li> <li>Trimble Connect</li> <li>Trimble SketchUp; often used to complement non-BIM projects with a 3D Model; the 3D Model can thenafter be exported as an IFC Model</li> <li>Vectorworks (Nemetschek); extended with Vectorworks Cloud Services</li> </ul>"},{"location":"introduction/references/#open-tools","title":"Open Tools","text":"<p>New products emerge also from the Open Source community such as:</p> <ul> <li>Blender with Bonsai; see also the video on Youtube</li> <li>IfcOpenShell libraries and tools. The product is not new but continuously incorporates new capabilities.</li> <li>That Open libraries and Tools</li> <li>Speckle</li> </ul> <p>Most products enable AECO professionals to work on the design and construction phase and thenafter on the operation (Facility Management). Key product can exchange important information using the Industry Foundation Classes (IFC) format. Some products, such as Blender with the Bonsai add-on can natively edit the IFC.</p>"},{"location":"introduction/references/#accord","title":"ACCORD","text":"<p>ACCORD - Automated Compliance Checks for Construction, Renovation or Demolition Works - Landscape Review Report - 2023</p>"},{"location":"introduction/references/#ifc","title":"IFC","text":""},{"location":"introduction/references/#buildingsmart","title":"buildingSMART","text":"<p>buildingSMART</p>"},{"location":"introduction/references/#ifc4x3add2","title":"IFC4X3ADD2","text":"<p>ISO 16739-1:2024</p>"},{"location":"introduction/references/#ifc4x3add2-documentation","title":"IFC4X3ADD2 documentation","text":"<p>IFC 4.3.2.20241204 (IFC4X3_ADD2)</p>"},{"location":"introduction/references/#usd","title":"USD","text":"<p>Universal Scene Description</p>"},{"location":"introduction/references/#ifc5-development","title":"IFC5 development","text":"<p>IFC5-development on GitHub</p>"},{"location":"introduction/references/#books","title":"Books","text":"<p>Rajabifard, A., et al. BIM and Urban Land Administration. 1st ed., CRC Press, 2019, https://doi.org/10.1201/9781351032346.</p> <p>Andr\u00e9 Borrmann, Markus K\u00f6nig, Christian Koch, Jakob Beetz (editors). Building Information Modeling - Technology Foundations and Industry Practice https://doi.org/10.1007/978-3-319-92862-3.</p>"}]}